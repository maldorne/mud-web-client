var jt=Object.defineProperty;var Bt=(l,n,a)=>n in l?jt(l,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):l[n]=a;var X=(l,n,a)=>Bt(l,typeof n!="symbol"?n+"":n,a);import{j as jQuery,c as commonjsGlobal}from"./jquery-ui-Coyhf0RB.js";import{r as requireBootstrap_bundle_min}from"./bootstrap-C2ejRGhm.js";import"./jquery-nicescroll-OPoEsYN3.js";function __vite_legacy_guard(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const d of f)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function a(f){const d={};return f.integrity&&(d.integrity=f.integrity),f.referrerPolicy&&(d.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?d.credentials="include":f.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(f){if(f.ep)return;f.ep=!0;const d=a(f);fetch(f.href,d)}})();var bootstrap_bundle_minExports=requireBootstrap_bundle_min();function polyfills(){String.prototype.has=function(l){return l.length?this.indexOf(l)!=-1:!1},String.prototype.start=function(l){return this.indexOf(l)==0},String.prototype.cap=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Date.prototype.ymd=function(){var l=this.getFullYear().toString(),n=(this.getMonth()+1).toString(),a=this.getDate().toString();return l+"-"+(n[1]?n:"0"+n[0])+"-"+(a[1]?a:"0"+a[0])},Array.prototype.remove=function(){for(var l,n=arguments,a=n.length,c;a&&this.length;)for(l=n[--a];(c=this.indexOf(l))!=-1;)this.splice(c,1);return this},Array.prototype.index=function(l,n,a,c){if(!l){for(var f=0;f<this.length;f++)if(this[f]==n)return f}if(!this.length||!this[0][l])return-1;for(var f=0;f<this.length;f++)if(this[f][l]==n)if(c){if(this[f][a]==c)return f}else return f;return-1},Array.prototype.fetch=function(l,n,a){if(!this.length||!this[0][l])return null;for(var c=0;c<this.length;c++)if(this[c][l]==n)return this[c][a];return null},Array.prototype.has=function(l){return this.indexOf(l)!=-1},Array.prototype.not=function(l,n){if(!l)return null;for(var a=0;a<this.length;a++)if(this[a]!=n)return this[a];return null},Array.prototype.unique=function(){return this.reduce(function(l,n){return l.indexOf(n)<0&&l.push(n),l},[])},Array.prototype.add=function(l){this.indexOf(l)==-1&&this.push(l)},Array.prototype.remove=function(l){this.indexOf(l)!=-1&&this.splice(this.indexOf(l),1)},Array.prototype.filter||(Array.prototype.filter=function(l){var n=this.length;if(typeof l!="function")throw new TypeError;for(var a=new Array,c=arguments[1],f=0;f<n;f++)if(f in this){var d=this[f];l.call(c,d,f,this)&&a.push(d)}return a}),String.prototype.trimm=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},String.prototype.param=function(l){l=l.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+l+"=([^&#]*)"),a=n.exec(this);return a==null?"":decodeURIComponent(a[1])},jQuery&&jQuery.fn&&(jQuery.fn.center=function(){return this.css("top",Math.max(0,(jQuery(window).height()-jQuery(this).height())/2)),this.css("left",Math.max(0,(jQuery(window).width()-jQuery(this).width())/2)),this})}polyfills();function stringify(l){var n=[],a=JSON.stringify(l,function(c,f){if(typeof f=="object"&&f!==null){if(n.indexOf(f)!==-1)return;n.push(f)}return f});return a}function param(l){l=l.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+l+"=([^&#]*)"),a=n.exec(window.location.search);if(a==null)return!1;const c=decodeURIComponent(a[1]);return c.toLowerCase()==="true"||c==="1"?!0:c.toLowerCase()==="false"||c==="0"?!1:c}function log(){config$1.debug&&console.log.apply(console,arguments)}function exists(l){return typeof l<"u"?1:0}const j$c=jQuery;let Config$1=class{constructor(){this.debug=!1,this.host="muds.maldorne.org",this.port="5010",this.name="House of Maldorne",this.profile=null,this.width=800,this.height=j$c(window).height()-80,this.top=!1,this.left=!1,this.clean=!1,this.solo=!1,this.notrack=!1,this.nodrag=!1,this.embed=!1,this.kong=null,this.collapse=[],this.dev=!1,this.onfirst=!1,this.separator=";",this.proxy="wss://play.maldorne.org:6200/",this.uncompressed=!1,this.useMuProtocol=!1,this.chatterbox=!1,this.chatterboxConfig=null,this.settings=[],this.controlPanel=!1,this.groupTab=!1,this.initialIFrame=null,this.device={touch:"ontouchstart"in window,lowres:j$c(window).width()<=640&&j$c(window).height()<=640,mobile:j$c(window).width()<=640&&j$c(window).height()<=640,tablet:"ontouchstart"in window&&j$c(window).width()>640,width:j$c(window).width(),height:j$c(window).height()},this.view="".concat(this.host,":").concat(this.port,":").concat(window.screen.width,"x").concat(window.screen.height)}async loadMudConfig(n){try{return await(await fetch("/muds/".concat(n,".json"))).json()}catch(a){return log("Error loading MUD configuration:",a),null}}getSettings(){var a,c,f,d,u,h,E;const n=[];return window.user&&((f=(c=(a=window.user)==null?void 0:a.pref)==null?void 0:c.sitelist)!=null&&f[param("name")]&&j$c.extend(!0,n,window.user.pref.sitelist[param("name")].settings),param("profile")&&((E=(h=(u=(d=window.user)==null?void 0:d.pref)==null?void 0:u.profiles)==null?void 0:h[param("profile")])!=null&&E.settings)&&j$c.extend(!0,n,window.user.pref.profiles[param("profile")].settings)),n}getSetting(n){var a,c;return this.settings.length&&(c=(a=this.settings.find(f=>f.id===n))==null?void 0:a.value)!=null?c:null}async initialize(){const n=param("mud")||"example",a=await this.loadMudConfig(n);if(a&&(Object.keys(this).filter(f=>typeof this[f]!="function"&&f!=="device"&&f!=="view").forEach(f=>{f in a&&(this[f]=a[f])}),a.chatterbox&&(this.chatterboxConfig=structuredClone(a.chatterboxConfig),this.chatterbox=!0)),this.debug=param("debug")||this.debug,this.host=param("host")||this.host,this.port=param("port")||this.port,this.name=param("name")||this.name,this.profile=param("profile"),this.width=param("width")||this.width,this.height=param("height")||this.height,this.top=param("top")||this.top,this.left=param("left")||this.left,this.clean=window.location.search.includes("clean")||this.clean,this.solo=window.location.search.includes("solo")||this.solo,this.notrack=param("notrack")||this.notrack,this.nodrag=param("nodrag")||this.nodrag,this.embed=param("embed")||this.embed,this.kong=param("kong"),this.dev=window.location.search.includes("dev")||this.dev,this.onfirst=param("onfirst")||this.onfirst,this.separator=window.location.search.includes("separator")?param("separator"):this.separator,this.uncompressed=param("uncompressed")||this.uncompressed,this.useMuProtocol=param("useMuProtocol")||this.useMuProtocol,this.chatterbox=param("chatterbox")||this.chatterbox,this.controlPanel=param("controlPanel")||this.controlPanel,this.groupTab=param("groupTab")||this.groupTab,param("initialURL")){let c=param("initialURL");!c.startsWith("http://")&&!c.startsWith("https://")&&(c="https://"+c),new URL(c),this.initialIFrame={...this.initialIFrame,URL:c}}this.settings=this.getSettings(),this.view="".concat(this.host,":").concat(this.port,":").concat(window.screen.width,"x").concat(window.screen.height)}};const MU_CHANNELS={TEXT:"t",JSON:"j",PUEBLO:"p"},config$1=new Config$1;var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end$1="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(l,n){return l.concat([n+"-"+start,n+"-"+end$1])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(l,n){return l.concat([n,n+"-"+start,n+"-"+end$1])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(l){return l?(l.nodeName||"").toLowerCase():null}function getWindow(l){if(l==null)return window;if(l.toString()!=="[object Window]"){var n=l.ownerDocument;return n&&n.defaultView||window}return l}function isElement$1(l){var n=getWindow(l).Element;return l instanceof n||l instanceof Element}function isHTMLElement(l){var n=getWindow(l).HTMLElement;return l instanceof n||l instanceof HTMLElement}function isShadowRoot(l){if(typeof ShadowRoot>"u")return!1;var n=getWindow(l).ShadowRoot;return l instanceof n||l instanceof ShadowRoot}function applyStyles(l){var n=l.state;Object.keys(n.elements).forEach(function(a){var c=n.styles[a]||{},f=n.attributes[a]||{},d=n.elements[a];!isHTMLElement(d)||!getNodeName(d)||(Object.assign(d.style,c),Object.keys(f).forEach(function(u){var h=f[u];h===!1?d.removeAttribute(u):d.setAttribute(u,h===!0?"":h)}))})}function effect$2(l){var n=l.state,a={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,a.popper),n.styles=a,n.elements.arrow&&Object.assign(n.elements.arrow.style,a.arrow),function(){Object.keys(n.elements).forEach(function(c){var f=n.elements[c],d=n.attributes[c]||{},u=Object.keys(n.styles.hasOwnProperty(c)?n.styles[c]:a[c]),h=u.reduce(function(E,m){return E[m]="",E},{});!isHTMLElement(f)||!getNodeName(f)||(Object.assign(f.style,h),Object.keys(d).forEach(function(E){f.removeAttribute(E)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(l){return l.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var l=navigator.userAgentData;return l!=null&&l.brands&&Array.isArray(l.brands)?l.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(l,n,a){n===void 0&&(n=!1),a===void 0&&(a=!1);var c=l.getBoundingClientRect(),f=1,d=1;n&&isHTMLElement(l)&&(f=l.offsetWidth>0&&round(c.width)/l.offsetWidth||1,d=l.offsetHeight>0&&round(c.height)/l.offsetHeight||1);var u=isElement$1(l)?getWindow(l):window,h=u.visualViewport,E=!isLayoutViewport()&&a,m=(c.left+(E&&h?h.offsetLeft:0))/f,b=(c.top+(E&&h?h.offsetTop:0))/d,_=c.width/f,v=c.height/d;return{width:_,height:v,top:b,right:m+_,bottom:b+v,left:m,x:m,y:b}}function getLayoutRect(l){var n=getBoundingClientRect(l),a=l.offsetWidth,c=l.offsetHeight;return Math.abs(n.width-a)<=1&&(a=n.width),Math.abs(n.height-c)<=1&&(c=n.height),{x:l.offsetLeft,y:l.offsetTop,width:a,height:c}}function contains(l,n){var a=n.getRootNode&&n.getRootNode();if(l.contains(n))return!0;if(a&&isShadowRoot(a)){var c=n;do{if(c&&l.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function getComputedStyle$1(l){return getWindow(l).getComputedStyle(l)}function isTableElement(l){return["table","td","th"].indexOf(getNodeName(l))>=0}function getDocumentElement(l){return((isElement$1(l)?l.ownerDocument:l.document)||window.document).documentElement}function getParentNode(l){return getNodeName(l)==="html"?l:l.assignedSlot||l.parentNode||(isShadowRoot(l)?l.host:null)||getDocumentElement(l)}function getTrueOffsetParent(l){return!isHTMLElement(l)||getComputedStyle$1(l).position==="fixed"?null:l.offsetParent}function getContainingBlock(l){var n=/firefox/i.test(getUAString()),a=/Trident/i.test(getUAString());if(a&&isHTMLElement(l)){var c=getComputedStyle$1(l);if(c.position==="fixed")return null}var f=getParentNode(l);for(isShadowRoot(f)&&(f=f.host);isHTMLElement(f)&&["html","body"].indexOf(getNodeName(f))<0;){var d=getComputedStyle$1(f);if(d.transform!=="none"||d.perspective!=="none"||d.contain==="paint"||["transform","perspective"].indexOf(d.willChange)!==-1||n&&d.willChange==="filter"||n&&d.filter&&d.filter!=="none")return f;f=f.parentNode}return null}function getOffsetParent(l){for(var n=getWindow(l),a=getTrueOffsetParent(l);a&&isTableElement(a)&&getComputedStyle$1(a).position==="static";)a=getTrueOffsetParent(a);return a&&(getNodeName(a)==="html"||getNodeName(a)==="body"&&getComputedStyle$1(a).position==="static")?n:a||getContainingBlock(l)||n}function getMainAxisFromPlacement(l){return["top","bottom"].indexOf(l)>=0?"x":"y"}function within(l,n,a){return max(l,min(n,a))}function withinMaxClamp(l,n,a){var c=within(l,n,a);return c>a?a:c}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(l){return Object.assign({},getFreshSideObject(),l)}function expandToHashMap(l,n){return n.reduce(function(a,c){return a[c]=l,a},{})}var toPaddingObject=function(n,a){return n=typeof n=="function"?n(Object.assign({},a.rects,{placement:a.placement})):n,mergePaddingObject(typeof n!="number"?n:expandToHashMap(n,basePlacements))};function arrow(l){var n,a=l.state,c=l.name,f=l.options,d=a.elements.arrow,u=a.modifiersData.popperOffsets,h=getBasePlacement(a.placement),E=getMainAxisFromPlacement(h),m=[left,right].indexOf(h)>=0,b=m?"height":"width";if(!(!d||!u)){var _=toPaddingObject(f.padding,a),v=getLayoutRect(d),T=E==="y"?top:left,$=E==="y"?bottom:right,C=a.rects.reference[b]+a.rects.reference[E]-u[E]-a.rects.popper[b],O=u[E]-a.rects.reference[E],I=getOffsetParent(d),M=I?E==="y"?I.clientHeight||0:I.clientWidth||0:0,R=C/2-O/2,N=_[T],y=M-v[b]-_[$],D=M/2-v[b]/2+R,F=within(N,D,y),k=E;a.modifiersData[c]=(n={},n[k]=F,n.centerOffset=F-D,n)}}function effect$1(l){var n=l.state,a=l.options,c=a.element,f=c===void 0?"[data-popper-arrow]":c;f!=null&&(typeof f=="string"&&(f=n.elements.popper.querySelector(f),!f)||contains(n.elements.popper,f)&&(n.elements.arrow=f))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(l){return l.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(l,n){var a=l.x,c=l.y,f=n.devicePixelRatio||1;return{x:round(a*f)/f||0,y:round(c*f)/f||0}}function mapToStyles(l){var n,a=l.popper,c=l.popperRect,f=l.placement,d=l.variation,u=l.offsets,h=l.position,E=l.gpuAcceleration,m=l.adaptive,b=l.roundOffsets,_=l.isFixed,v=u.x,T=v===void 0?0:v,$=u.y,C=$===void 0?0:$,O=typeof b=="function"?b({x:T,y:C}):{x:T,y:C};T=O.x,C=O.y;var I=u.hasOwnProperty("x"),M=u.hasOwnProperty("y"),R=left,N=top,y=window;if(m){var D=getOffsetParent(a),F="clientHeight",k="clientWidth";if(D===getWindow(a)&&(D=getDocumentElement(a),getComputedStyle$1(D).position!=="static"&&h==="absolute"&&(F="scrollHeight",k="scrollWidth")),D=D,f===top||(f===left||f===right)&&d===end$1){N=bottom;var B=_&&D===y&&y.visualViewport?y.visualViewport.height:D[F];C-=B-c.height,C*=E?1:-1}if(f===left||(f===top||f===bottom)&&d===end$1){R=right;var H=_&&D===y&&y.visualViewport?y.visualViewport.width:D[k];T-=H-c.width,T*=E?1:-1}}var V=Object.assign({position:h},m&&unsetSides),z=b===!0?roundOffsetsByDPR({x:T,y:C},getWindow(a)):{x:T,y:C};if(T=z.x,C=z.y,E){var W;return Object.assign({},V,(W={},W[N]=M?"0":"",W[R]=I?"0":"",W.transform=(y.devicePixelRatio||1)<=1?"translate("+T+"px, "+C+"px)":"translate3d("+T+"px, "+C+"px, 0)",W))}return Object.assign({},V,(n={},n[N]=M?C+"px":"",n[R]=I?T+"px":"",n.transform="",n))}function computeStyles(l){var n=l.state,a=l.options,c=a.gpuAcceleration,f=c===void 0?!0:c,d=a.adaptive,u=d===void 0?!0:d,h=a.roundOffsets,E=h===void 0?!0:h,m={placement:getBasePlacement(n.placement),variation:getVariation(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:f,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,mapToStyles(Object.assign({},m,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:u,roundOffsets:E})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,mapToStyles(Object.assign({},m,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:E})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(l){var n=l.state,a=l.instance,c=l.options,f=c.scroll,d=f===void 0?!0:f,u=c.resize,h=u===void 0?!0:u,E=getWindow(n.elements.popper),m=[].concat(n.scrollParents.reference,n.scrollParents.popper);return d&&m.forEach(function(b){b.addEventListener("scroll",a.update,passive)}),h&&E.addEventListener("resize",a.update,passive),function(){d&&m.forEach(function(b){b.removeEventListener("scroll",a.update,passive)}),h&&E.removeEventListener("resize",a.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(l){return l.replace(/left|right|bottom|top/g,function(n){return hash$1[n]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(l){return l.replace(/start|end/g,function(n){return hash[n]})}function getWindowScroll(l){var n=getWindow(l),a=n.pageXOffset,c=n.pageYOffset;return{scrollLeft:a,scrollTop:c}}function getWindowScrollBarX(l){return getBoundingClientRect(getDocumentElement(l)).left+getWindowScroll(l).scrollLeft}function getViewportRect(l,n){var a=getWindow(l),c=getDocumentElement(l),f=a.visualViewport,d=c.clientWidth,u=c.clientHeight,h=0,E=0;if(f){d=f.width,u=f.height;var m=isLayoutViewport();(m||!m&&n==="fixed")&&(h=f.offsetLeft,E=f.offsetTop)}return{width:d,height:u,x:h+getWindowScrollBarX(l),y:E}}function getDocumentRect(l){var n,a=getDocumentElement(l),c=getWindowScroll(l),f=(n=l.ownerDocument)==null?void 0:n.body,d=max(a.scrollWidth,a.clientWidth,f?f.scrollWidth:0,f?f.clientWidth:0),u=max(a.scrollHeight,a.clientHeight,f?f.scrollHeight:0,f?f.clientHeight:0),h=-c.scrollLeft+getWindowScrollBarX(l),E=-c.scrollTop;return getComputedStyle$1(f||a).direction==="rtl"&&(h+=max(a.clientWidth,f?f.clientWidth:0)-d),{width:d,height:u,x:h,y:E}}function isScrollParent(l){var n=getComputedStyle$1(l),a=n.overflow,c=n.overflowX,f=n.overflowY;return/auto|scroll|overlay|hidden/.test(a+f+c)}function getScrollParent(l){return["html","body","#document"].indexOf(getNodeName(l))>=0?l.ownerDocument.body:isHTMLElement(l)&&isScrollParent(l)?l:getScrollParent(getParentNode(l))}function listScrollParents(l,n){var a;n===void 0&&(n=[]);var c=getScrollParent(l),f=c===((a=l.ownerDocument)==null?void 0:a.body),d=getWindow(c),u=f?[d].concat(d.visualViewport||[],isScrollParent(c)?c:[]):c,h=n.concat(u);return f?h:h.concat(listScrollParents(getParentNode(u)))}function rectToClientRect(l){return Object.assign({},l,{left:l.x,top:l.y,right:l.x+l.width,bottom:l.y+l.height})}function getInnerBoundingClientRect(l,n){var a=getBoundingClientRect(l,!1,n==="fixed");return a.top=a.top+l.clientTop,a.left=a.left+l.clientLeft,a.bottom=a.top+l.clientHeight,a.right=a.left+l.clientWidth,a.width=l.clientWidth,a.height=l.clientHeight,a.x=a.left,a.y=a.top,a}function getClientRectFromMixedType(l,n,a){return n===viewport?rectToClientRect(getViewportRect(l,a)):isElement$1(n)?getInnerBoundingClientRect(n,a):rectToClientRect(getDocumentRect(getDocumentElement(l)))}function getClippingParents(l){var n=listScrollParents(getParentNode(l)),a=["absolute","fixed"].indexOf(getComputedStyle$1(l).position)>=0,c=a&&isHTMLElement(l)?getOffsetParent(l):l;return isElement$1(c)?n.filter(function(f){return isElement$1(f)&&contains(f,c)&&getNodeName(f)!=="body"}):[]}function getClippingRect(l,n,a,c){var f=n==="clippingParents"?getClippingParents(l):[].concat(n),d=[].concat(f,[a]),u=d[0],h=d.reduce(function(E,m){var b=getClientRectFromMixedType(l,m,c);return E.top=max(b.top,E.top),E.right=min(b.right,E.right),E.bottom=min(b.bottom,E.bottom),E.left=max(b.left,E.left),E},getClientRectFromMixedType(l,u,c));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}function computeOffsets(l){var n=l.reference,a=l.element,c=l.placement,f=c?getBasePlacement(c):null,d=c?getVariation(c):null,u=n.x+n.width/2-a.width/2,h=n.y+n.height/2-a.height/2,E;switch(f){case top:E={x:u,y:n.y-a.height};break;case bottom:E={x:u,y:n.y+n.height};break;case right:E={x:n.x+n.width,y:h};break;case left:E={x:n.x-a.width,y:h};break;default:E={x:n.x,y:n.y}}var m=f?getMainAxisFromPlacement(f):null;if(m!=null){var b=m==="y"?"height":"width";switch(d){case start:E[m]=E[m]-(n[b]/2-a[b]/2);break;case end$1:E[m]=E[m]+(n[b]/2-a[b]/2);break}}return E}function detectOverflow(l,n){n===void 0&&(n={});var a=n,c=a.placement,f=c===void 0?l.placement:c,d=a.strategy,u=d===void 0?l.strategy:d,h=a.boundary,E=h===void 0?clippingParents:h,m=a.rootBoundary,b=m===void 0?viewport:m,_=a.elementContext,v=_===void 0?popper:_,T=a.altBoundary,$=T===void 0?!1:T,C=a.padding,O=C===void 0?0:C,I=mergePaddingObject(typeof O!="number"?O:expandToHashMap(O,basePlacements)),M=v===popper?reference:popper,R=l.rects.popper,N=l.elements[$?M:v],y=getClippingRect(isElement$1(N)?N:N.contextElement||getDocumentElement(l.elements.popper),E,b,u),D=getBoundingClientRect(l.elements.reference),F=computeOffsets({reference:D,element:R,placement:f}),k=rectToClientRect(Object.assign({},R,F)),B=v===popper?k:D,H={top:y.top-B.top+I.top,bottom:B.bottom-y.bottom+I.bottom,left:y.left-B.left+I.left,right:B.right-y.right+I.right},V=l.modifiersData.offset;if(v===popper&&V){var z=V[f];Object.keys(H).forEach(function(W){var K=[right,bottom].indexOf(W)>=0?1:-1,U=[top,bottom].indexOf(W)>=0?"y":"x";H[W]+=z[U]*K})}return H}function computeAutoPlacement(l,n){n===void 0&&(n={});var a=n,c=a.placement,f=a.boundary,d=a.rootBoundary,u=a.padding,h=a.flipVariations,E=a.allowedAutoPlacements,m=E===void 0?placements:E,b=getVariation(c),_=b?h?variationPlacements:variationPlacements.filter(function($){return getVariation($)===b}):basePlacements,v=_.filter(function($){return m.indexOf($)>=0});v.length===0&&(v=_);var T=v.reduce(function($,C){return $[C]=detectOverflow(l,{placement:C,boundary:f,rootBoundary:d,padding:u})[getBasePlacement(C)],$},{});return Object.keys(T).sort(function($,C){return T[$]-T[C]})}function getExpandedFallbackPlacements(l){if(getBasePlacement(l)===auto)return[];var n=getOppositePlacement(l);return[getOppositeVariationPlacement(l),n,getOppositeVariationPlacement(n)]}function flip(l){var n=l.state,a=l.options,c=l.name;if(!n.modifiersData[c]._skip){for(var f=a.mainAxis,d=f===void 0?!0:f,u=a.altAxis,h=u===void 0?!0:u,E=a.fallbackPlacements,m=a.padding,b=a.boundary,_=a.rootBoundary,v=a.altBoundary,T=a.flipVariations,$=T===void 0?!0:T,C=a.allowedAutoPlacements,O=n.options.placement,I=getBasePlacement(O),M=I===O,R=E||(M||!$?[getOppositePlacement(O)]:getExpandedFallbackPlacements(O)),N=[O].concat(R).reduce(function(et,q){return et.concat(getBasePlacement(q)===auto?computeAutoPlacement(n,{placement:q,boundary:b,rootBoundary:_,padding:m,flipVariations:$,allowedAutoPlacements:C}):q)},[]),y=n.rects.reference,D=n.rects.popper,F=new Map,k=!0,B=N[0],H=0;H<N.length;H++){var V=N[H],z=getBasePlacement(V),W=getVariation(V)===start,K=[top,bottom].indexOf(z)>=0,U=K?"width":"height",Y=detectOverflow(n,{placement:V,boundary:b,rootBoundary:_,altBoundary:v,padding:m}),Z=K?W?right:left:W?bottom:top;y[U]>D[U]&&(Z=getOppositePlacement(Z));var st=getOppositePlacement(Z),Q=[];if(d&&Q.push(Y[z]<=0),h&&Q.push(Y[Z]<=0,Y[st]<=0),Q.every(function(et){return et})){B=V,k=!1;break}F.set(V,Q)}if(k)for(var ot=$?3:1,ft=function(q){var nt=N.find(function(rt){var J=F.get(rt);if(J)return J.slice(0,q).every(function(dt){return dt})});if(nt)return B=nt,"break"},it=ot;it>0;it--){var at=ft(it);if(at==="break")break}n.placement!==B&&(n.modifiersData[c]._skip=!0,n.placement=B,n.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(l,n,a){return a===void 0&&(a={x:0,y:0}),{top:l.top-n.height-a.y,right:l.right-n.width+a.x,bottom:l.bottom-n.height+a.y,left:l.left-n.width-a.x}}function isAnySideFullyClipped(l){return[top,right,bottom,left].some(function(n){return l[n]>=0})}function hide(l){var n=l.state,a=l.name,c=n.rects.reference,f=n.rects.popper,d=n.modifiersData.preventOverflow,u=detectOverflow(n,{elementContext:"reference"}),h=detectOverflow(n,{altBoundary:!0}),E=getSideOffsets(u,c),m=getSideOffsets(h,f,d),b=isAnySideFullyClipped(E),_=isAnySideFullyClipped(m);n.modifiersData[a]={referenceClippingOffsets:E,popperEscapeOffsets:m,isReferenceHidden:b,hasPopperEscaped:_},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":b,"data-popper-escaped":_})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(l,n,a){var c=getBasePlacement(l),f=[left,top].indexOf(c)>=0?-1:1,d=typeof a=="function"?a(Object.assign({},n,{placement:l})):a,u=d[0],h=d[1];return u=u||0,h=(h||0)*f,[left,right].indexOf(c)>=0?{x:h,y:u}:{x:u,y:h}}function offset(l){var n=l.state,a=l.options,c=l.name,f=a.offset,d=f===void 0?[0,0]:f,u=placements.reduce(function(b,_){return b[_]=distanceAndSkiddingToXY(_,n.rects,d),b},{}),h=u[n.placement],E=h.x,m=h.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=E,n.modifiersData.popperOffsets.y+=m),n.modifiersData[c]=u}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(l){var n=l.state,a=l.name;n.modifiersData[a]=computeOffsets({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(l){return l==="x"?"y":"x"}function preventOverflow(l){var n=l.state,a=l.options,c=l.name,f=a.mainAxis,d=f===void 0?!0:f,u=a.altAxis,h=u===void 0?!1:u,E=a.boundary,m=a.rootBoundary,b=a.altBoundary,_=a.padding,v=a.tether,T=v===void 0?!0:v,$=a.tetherOffset,C=$===void 0?0:$,O=detectOverflow(n,{boundary:E,rootBoundary:m,padding:_,altBoundary:b}),I=getBasePlacement(n.placement),M=getVariation(n.placement),R=!M,N=getMainAxisFromPlacement(I),y=getAltAxis(N),D=n.modifiersData.popperOffsets,F=n.rects.reference,k=n.rects.popper,B=typeof C=="function"?C(Object.assign({},n.rects,{placement:n.placement})):C,H=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),V=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,z={x:0,y:0};if(D){if(d){var W,K=N==="y"?top:left,U=N==="y"?bottom:right,Y=N==="y"?"height":"width",Z=D[N],st=Z+O[K],Q=Z-O[U],ot=T?-k[Y]/2:0,ft=M===start?F[Y]:k[Y],it=M===start?-k[Y]:-F[Y],at=n.elements.arrow,et=T&&at?getLayoutRect(at):{width:0,height:0},q=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:getFreshSideObject(),nt=q[K],rt=q[U],J=within(0,F[Y],et[Y]),dt=R?F[Y]/2-ot-J-nt-H.mainAxis:ft-J-nt-H.mainAxis,It=R?-F[Y]/2+ot+J+rt+H.mainAxis:it+J+rt+H.mainAxis,ut=n.elements.arrow&&getOffsetParent(n.elements.arrow),Dt=ut?N==="y"?ut.clientTop||0:ut.clientLeft||0:0,gt=(W=V==null?void 0:V[N])!=null?W:0,Rt=Z+dt-gt-Dt,Pt=Z+It-gt,mt=within(T?min(st,Rt):st,Z,T?max(Q,Pt):Q);D[N]=mt,z[N]=mt-Z}if(h){var bt,Mt=N==="x"?top:left,kt=N==="x"?bottom:right,tt=D[y],ct=y==="y"?"height":"width",_t=tt+O[Mt],vt=tt-O[kt],ht=[top,left].indexOf(I)!==-1,Tt=(bt=V==null?void 0:V[y])!=null?bt:0,$t=ht?_t:tt-F[ct]-k[ct]-Tt+H.altAxis,yt=ht?tt+F[ct]+k[ct]-Tt-H.altAxis:vt,wt=T&&ht?withinMaxClamp($t,tt,yt):within(T?$t:_t,tt,T?yt:vt);D[y]=wt,z[y]=wt-tt}n.modifiersData[c]=z}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(l){return{scrollLeft:l.scrollLeft,scrollTop:l.scrollTop}}function getNodeScroll(l){return l===getWindow(l)||!isHTMLElement(l)?getWindowScroll(l):getHTMLElementScroll(l)}function isElementScaled(l){var n=l.getBoundingClientRect(),a=round(n.width)/l.offsetWidth||1,c=round(n.height)/l.offsetHeight||1;return a!==1||c!==1}function getCompositeRect(l,n,a){a===void 0&&(a=!1);var c=isHTMLElement(n),f=isHTMLElement(n)&&isElementScaled(n),d=getDocumentElement(n),u=getBoundingClientRect(l,f,a),h={scrollLeft:0,scrollTop:0},E={x:0,y:0};return(c||!c&&!a)&&((getNodeName(n)!=="body"||isScrollParent(d))&&(h=getNodeScroll(n)),isHTMLElement(n)?(E=getBoundingClientRect(n,!0),E.x+=n.clientLeft,E.y+=n.clientTop):d&&(E.x=getWindowScrollBarX(d))),{x:u.left+h.scrollLeft-E.x,y:u.top+h.scrollTop-E.y,width:u.width,height:u.height}}function order(l){var n=new Map,a=new Set,c=[];l.forEach(function(d){n.set(d.name,d)});function f(d){a.add(d.name);var u=[].concat(d.requires||[],d.requiresIfExists||[]);u.forEach(function(h){if(!a.has(h)){var E=n.get(h);E&&f(E)}}),c.push(d)}return l.forEach(function(d){a.has(d.name)||f(d)}),c}function orderModifiers(l){var n=order(l);return modifierPhases.reduce(function(a,c){return a.concat(n.filter(function(f){return f.phase===c}))},[])}function debounce(l){var n;return function(){return n||(n=new Promise(function(a){Promise.resolve().then(function(){n=void 0,a(l())})})),n}}function mergeByName(l){var n=l.reduce(function(a,c){var f=a[c.name];return a[c.name]=f?Object.assign({},f,c,{options:Object.assign({},f.options,c.options),data:Object.assign({},f.data,c.data)}):c,a},{});return Object.keys(n).map(function(a){return n[a]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var l=arguments.length,n=new Array(l),a=0;a<l;a++)n[a]=arguments[a];return!n.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function popperGenerator(l){l===void 0&&(l={});var n=l,a=n.defaultModifiers,c=a===void 0?[]:a,f=n.defaultOptions,d=f===void 0?DEFAULT_OPTIONS:f;return function(h,E,m){m===void 0&&(m=d);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,d),modifiersData:{},elements:{reference:h,popper:E},attributes:{},styles:{}},_=[],v=!1,T={state:b,setOptions:function(I){var M=typeof I=="function"?I(b.options):I;C(),b.options=Object.assign({},d,b.options,M),b.scrollParents={reference:isElement$1(h)?listScrollParents(h):h.contextElement?listScrollParents(h.contextElement):[],popper:listScrollParents(E)};var R=orderModifiers(mergeByName([].concat(c,b.options.modifiers)));return b.orderedModifiers=R.filter(function(N){return N.enabled}),$(),T.update()},forceUpdate:function(){if(!v){var I=b.elements,M=I.reference,R=I.popper;if(areValidElements(M,R)){b.rects={reference:getCompositeRect(M,getOffsetParent(R),b.options.strategy==="fixed"),popper:getLayoutRect(R)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(H){return b.modifiersData[H.name]=Object.assign({},H.data)});for(var N=0;N<b.orderedModifiers.length;N++){if(b.reset===!0){b.reset=!1,N=-1;continue}var y=b.orderedModifiers[N],D=y.fn,F=y.options,k=F===void 0?{}:F,B=y.name;typeof D=="function"&&(b=D({state:b,options:k,name:B,instance:T})||b)}}}},update:debounce(function(){return new Promise(function(O){T.forceUpdate(),O(b)})}),destroy:function(){C(),v=!0}};if(!areValidElements(h,E))return T;T.setOptions(m).then(function(O){!v&&m.onFirstUpdate&&m.onFirstUpdate(O)});function $(){b.orderedModifiers.forEach(function(O){var I=O.name,M=O.options,R=M===void 0?{}:M,N=O.effect;if(typeof N=="function"){var y=N({state:b,name:I,instance:T,options:R}),D=function(){};_.push(y||D)}})}function C(){_.forEach(function(O){return O()}),_=[]}return T}}var createPopper$2=popperGenerator(),defaultModifiers$1=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1],createPopper$1=popperGenerator({defaultModifiers:defaultModifiers$1}),defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const Popper=Object.freeze(Object.defineProperty({__proto__:null,afterMain,afterRead,afterWrite,applyStyles:applyStyles$1,arrow:arrow$1,auto,basePlacements,beforeMain,beforeRead,beforeWrite,bottom,clippingParents,computeStyles:computeStyles$1,createPopper,createPopperBase:createPopper$2,createPopperLite:createPopper$1,detectOverflow,end:end$1,eventListeners,flip:flip$1,hide:hide$1,left,main,modifierPhases,offset:offset$1,placements,popper,popperGenerator,popperOffsets:popperOffsets$1,preventOverflow:preventOverflow$1,read,reference,right,start,top,variationPlacements,viewport,write},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const elementMap=new Map,Data={set(l,n,a){elementMap.has(l)||elementMap.set(l,new Map);const c=elementMap.get(l);if(!c.has(n)&&c.size!==0){console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(c.keys())[0],"."));return}c.set(n,a)},get(l,n){return elementMap.has(l)&&elementMap.get(l).get(n)||null},remove(l,n){if(!elementMap.has(l))return;const a=elementMap.get(l);a.delete(n),a.size===0&&elementMap.delete(l)}},MAX_UID=1e6,MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",parseSelector=l=>(l&&window.CSS&&window.CSS.escape&&(l=l.replace(/#([^\s"#']+)/g,(n,a)=>"#".concat(CSS.escape(a)))),l),toType=l=>l==null?"".concat(l):Object.prototype.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase(),getUID=l=>{do l+=Math.floor(Math.random()*MAX_UID);while(document.getElementById(l));return l},getTransitionDurationFromElement=l=>{if(!l)return 0;let{transitionDuration:n,transitionDelay:a}=window.getComputedStyle(l);const c=Number.parseFloat(n),f=Number.parseFloat(a);return!c&&!f?0:(n=n.split(",")[0],a=a.split(",")[0],(Number.parseFloat(n)+Number.parseFloat(a))*MILLISECONDS_MULTIPLIER)},triggerTransitionEnd=l=>{l.dispatchEvent(new Event(TRANSITION_END))},isElement=l=>!l||typeof l!="object"?!1:(typeof l.jquery<"u"&&(l=l[0]),typeof l.nodeType<"u"),getElement=l=>isElement(l)?l.jquery?l[0]:l:typeof l=="string"&&l.length>0?document.querySelector(parseSelector(l)):null,isVisible=l=>{if(!isElement(l)||l.getClientRects().length===0)return!1;const n=getComputedStyle(l).getPropertyValue("visibility")==="visible",a=l.closest("details:not([open])");if(!a)return n;if(a!==l){const c=l.closest("summary");if(c&&c.parentNode!==a||c===null)return!1}return n},isDisabled=l=>!l||l.nodeType!==Node.ELEMENT_NODE||l.classList.contains("disabled")?!0:typeof l.disabled<"u"?l.disabled:l.hasAttribute("disabled")&&l.getAttribute("disabled")!=="false",findShadowRoot=l=>{if(!document.documentElement.attachShadow)return null;if(typeof l.getRootNode=="function"){const n=l.getRootNode();return n instanceof ShadowRoot?n:null}return l instanceof ShadowRoot?l:l.parentNode?findShadowRoot(l.parentNode):null},noop$3=()=>{},reflow=l=>{l.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=l=>{document.readyState==="loading"?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",()=>{for(const n of DOMContentLoadedCallbacks)n()}),DOMContentLoadedCallbacks.push(l)):l()},isRTL=()=>document.documentElement.dir==="rtl",defineJQueryPlugin=l=>{onDOMContentLoaded(()=>{const n=getjQuery();if(n){const a=l.NAME,c=n.fn[a];n.fn[a]=l.jQueryInterface,n.fn[a].Constructor=l,n.fn[a].noConflict=()=>(n.fn[a]=c,l.jQueryInterface)}})},execute=(l,n=[],a=l)=>typeof l=="function"?l(...n):a,executeAfterTransition=(l,n,a=!0)=>{if(!a){execute(l);return}const f=getTransitionDurationFromElement(n)+5;let d=!1;const u=({target:h})=>{h===n&&(d=!0,n.removeEventListener(TRANSITION_END,u),execute(l))};n.addEventListener(TRANSITION_END,u),setTimeout(()=>{d||triggerTransitionEnd(n)},f)},getNextActiveElement=(l,n,a,c)=>{const f=l.length;let d=l.indexOf(n);return d===-1?!a&&c?l[f-1]:l[0]:(d+=a?1:-1,c&&(d=(d+f)%f),l[Math.max(0,Math.min(d,f-1))])},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(l,n){return n&&"".concat(n,"::").concat(uidEvent++)||l.uidEvent||uidEvent++}function getElementEvents(l){const n=makeEventUid(l);return l.uidEvent=n,eventRegistry[n]=eventRegistry[n]||{},eventRegistry[n]}function bootstrapHandler(l,n){return function a(c){return hydrateObj(c,{delegateTarget:l}),a.oneOff&&EventHandler.off(l,c.type,n),n.apply(l,[c])}}function bootstrapDelegationHandler(l,n,a){return function c(f){const d=l.querySelectorAll(n);for(let{target:u}=f;u&&u!==this;u=u.parentNode)for(const h of d)if(h===u)return hydrateObj(f,{delegateTarget:u}),c.oneOff&&EventHandler.off(l,f.type,n,a),a.apply(u,[f])}}function findHandler(l,n,a=null){return Object.values(l).find(c=>c.callable===n&&c.delegationSelector===a)}function normalizeParameters(l,n,a){const c=typeof n=="string",f=c?a:n||a;let d=getTypeEvent(l);return nativeEvents.has(d)||(d=l),[c,f,d]}function addHandler(l,n,a,c,f){if(typeof n!="string"||!l)return;let[d,u,h]=normalizeParameters(n,a,c);n in customEvents&&(u=($=>function(C){if(!C.relatedTarget||C.relatedTarget!==C.delegateTarget&&!C.delegateTarget.contains(C.relatedTarget))return $.call(this,C)})(u));const E=getElementEvents(l),m=E[h]||(E[h]={}),b=findHandler(m,u,d?a:null);if(b){b.oneOff=b.oneOff&&f;return}const _=makeEventUid(u,n.replace(namespaceRegex,"")),v=d?bootstrapDelegationHandler(l,a,u):bootstrapHandler(l,u);v.delegationSelector=d?a:null,v.callable=u,v.oneOff=f,v.uidEvent=_,m[_]=v,l.addEventListener(h,v,d)}function removeHandler(l,n,a,c,f){const d=findHandler(n[a],c,f);d&&(l.removeEventListener(a,d,!!f),delete n[a][d.uidEvent])}function removeNamespacedHandlers(l,n,a,c){const f=n[a]||{};for(const[d,u]of Object.entries(f))d.includes(c)&&removeHandler(l,n,a,u.callable,u.delegationSelector)}function getTypeEvent(l){return l=l.replace(stripNameRegex,""),customEvents[l]||l}const EventHandler={on(l,n,a,c){addHandler(l,n,a,c,!1)},one(l,n,a,c){addHandler(l,n,a,c,!0)},off(l,n,a,c){if(typeof n!="string"||!l)return;const[f,d,u]=normalizeParameters(n,a,c),h=u!==n,E=getElementEvents(l),m=E[u]||{},b=n.startsWith(".");if(typeof d<"u"){if(!Object.keys(m).length)return;removeHandler(l,E,u,d,f?a:null);return}if(b)for(const _ of Object.keys(E))removeNamespacedHandlers(l,E,_,n.slice(1));for(const[_,v]of Object.entries(m)){const T=_.replace(stripUidRegex,"");(!h||n.includes(T))&&removeHandler(l,E,u,v.callable,v.delegationSelector)}},trigger(l,n,a){if(typeof n!="string"||!l)return null;const c=getjQuery(),f=getTypeEvent(n),d=n!==f;let u=null,h=!0,E=!0,m=!1;d&&c&&(u=c.Event(n,a),c(l).trigger(u),h=!u.isPropagationStopped(),E=!u.isImmediatePropagationStopped(),m=u.isDefaultPrevented());const b=hydrateObj(new Event(n,{bubbles:h,cancelable:!0}),a);return m&&b.preventDefault(),E&&l.dispatchEvent(b),b.defaultPrevented&&u&&u.preventDefault(),b}};function hydrateObj(l,n={}){for(const[a,c]of Object.entries(n))try{l[a]=c}catch(f){Object.defineProperty(l,a,{configurable:!0,get(){return c}})}return l}function normalizeData(l){if(l==="true")return!0;if(l==="false")return!1;if(l===Number(l).toString())return Number(l);if(l===""||l==="null")return null;if(typeof l!="string")return l;try{return JSON.parse(decodeURIComponent(l))}catch(n){return l}}function normalizeDataKey(l){return l.replace(/[A-Z]/g,n=>"-".concat(n.toLowerCase()))}const Manipulator={setDataAttribute(l,n,a){l.setAttribute("data-bs-".concat(normalizeDataKey(n)),a)},removeDataAttribute(l,n){l.removeAttribute("data-bs-".concat(normalizeDataKey(n)))},getDataAttributes(l){if(!l)return{};const n={},a=Object.keys(l.dataset).filter(c=>c.startsWith("bs")&&!c.startsWith("bsConfig"));for(const c of a){let f=c.replace(/^bs/,"");f=f.charAt(0).toLowerCase()+f.slice(1,f.length),n[f]=normalizeData(l.dataset[c])}return n},getDataAttribute(l,n){return normalizeData(l.getAttribute("data-bs-".concat(normalizeDataKey(n))))}};class Config{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(n){return n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n}_mergeConfigObj(n,a){const c=isElement(a)?Manipulator.getDataAttribute(a,"config"):{};return{...this.constructor.Default,...typeof c=="object"?c:{},...isElement(a)?Manipulator.getDataAttributes(a):{},...typeof n=="object"?n:{}}}_typeCheckConfig(n,a=this.constructor.DefaultType){for(const[c,f]of Object.entries(a)){const d=n[c],u=isElement(d)?"element":toType(d);if(!new RegExp(f).test(u))throw new TypeError("".concat(this.constructor.NAME.toUpperCase(),': Option "').concat(c,'" provided type "').concat(u,'" but expected type "').concat(f,'".'))}}}const VERSION="5.3.3";class BaseComponent extends Config{constructor(n,a){super(),n=getElement(n),n&&(this._element=n,this._config=this._getConfig(a),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const n of Object.getOwnPropertyNames(this))this[n]=null}_queueCallback(n,a,c=!0){executeAfterTransition(n,a,c)}_getConfig(n){return n=this._mergeConfigObj(n,this._element),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}static getInstance(n){return Data.get(getElement(n),this.DATA_KEY)}static getOrCreateInstance(n,a={}){return this.getInstance(n)||new this(n,typeof a=="object"?a:null)}static get VERSION(){return VERSION}static get DATA_KEY(){return"bs.".concat(this.NAME)}static get EVENT_KEY(){return".".concat(this.DATA_KEY)}static eventName(n){return"".concat(n).concat(this.EVENT_KEY)}}const getSelector=l=>{let n=l.getAttribute("data-bs-target");if(!n||n==="#"){let a=l.getAttribute("href");if(!a||!a.includes("#")&&!a.startsWith("."))return null;a.includes("#")&&!a.startsWith("#")&&(a="#".concat(a.split("#")[1])),n=a&&a!=="#"?a.trim():null}return n?n.split(",").map(a=>parseSelector(a)).join(","):null},SelectorEngine={find(l,n=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(n,l))},findOne(l,n=document.documentElement){return Element.prototype.querySelector.call(n,l)},children(l,n){return[].concat(...l.children).filter(a=>a.matches(n))},parents(l,n){const a=[];let c=l.parentNode.closest(n);for(;c;)a.push(c),c=c.parentNode.closest(n);return a},prev(l,n){let a=l.previousElementSibling;for(;a;){if(a.matches(n))return[a];a=a.previousElementSibling}return[]},next(l,n){let a=l.nextElementSibling;for(;a;){if(a.matches(n))return[a];a=a.nextElementSibling}return[]},focusableChildren(l){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(a=>"".concat(a,':not([tabindex^="-"])')).join(",");return this.find(n,l).filter(a=>!isDisabled(a)&&isVisible(a))},getSelectorFromElement(l){const n=getSelector(l);return n&&SelectorEngine.findOne(n)?n:null},getElementFromSelector(l){const n=getSelector(l);return n?SelectorEngine.findOne(n):null},getMultipleElementsFromSelector(l){const n=getSelector(l);return n?SelectorEngine.find(n):[]}},enableDismissTrigger=(l,n="hide")=>{const a="click.dismiss".concat(l.EVENT_KEY),c=l.NAME;EventHandler.on(document,a,'[data-bs-dismiss="'.concat(c,'"]'),function(f){if(["A","AREA"].includes(this.tagName)&&f.preventDefault(),isDisabled(this))return;const d=SelectorEngine.getElementFromSelector(this)||this.closest(".".concat(c));l.getOrCreateInstance(d)[n]()})},NAME$f="alert",DATA_KEY$a="bs.alert",EVENT_KEY$b=".".concat(DATA_KEY$a),EVENT_CLOSE="close".concat(EVENT_KEY$b),EVENT_CLOSED="closed".concat(EVENT_KEY$b),CLASS_NAME_FADE$5="fade",CLASS_NAME_SHOW$8="show";class Alert extends BaseComponent{static get NAME(){return NAME$f}close(){if(EventHandler.trigger(this._element,EVENT_CLOSE).defaultPrevented)return;this._element.classList.remove(CLASS_NAME_SHOW$8);const a=this._element.classList.contains(CLASS_NAME_FADE$5);this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),EventHandler.trigger(this._element,EVENT_CLOSED),this.dispose()}static jQueryInterface(n){return this.each(function(){const a=Alert.getOrCreateInstance(this);if(typeof n=="string"){if(a[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError('No method named "'.concat(n,'"'));a[n](this)}})}}enableDismissTrigger(Alert,"close");defineJQueryPlugin(Alert);const NAME$e="button",DATA_KEY$9="bs.button",EVENT_KEY$a=".".concat(DATA_KEY$9),DATA_API_KEY$6=".data-api",CLASS_NAME_ACTIVE$3="active",SELECTOR_DATA_TOGGLE$5='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$6="click".concat(EVENT_KEY$a).concat(DATA_API_KEY$6);class Button extends BaseComponent{static get NAME(){return NAME$e}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(CLASS_NAME_ACTIVE$3))}static jQueryInterface(n){return this.each(function(){const a=Button.getOrCreateInstance(this);n==="toggle"&&a[n]()})}}EventHandler.on(document,EVENT_CLICK_DATA_API$6,SELECTOR_DATA_TOGGLE$5,l=>{l.preventDefault();const n=l.target.closest(SELECTOR_DATA_TOGGLE$5);Button.getOrCreateInstance(n).toggle()});defineJQueryPlugin(Button);const NAME$d="swipe",EVENT_KEY$9=".bs.swipe",EVENT_TOUCHSTART="touchstart".concat(EVENT_KEY$9),EVENT_TOUCHMOVE="touchmove".concat(EVENT_KEY$9),EVENT_TOUCHEND="touchend".concat(EVENT_KEY$9),EVENT_POINTERDOWN="pointerdown".concat(EVENT_KEY$9),EVENT_POINTERUP="pointerup".concat(EVENT_KEY$9),POINTER_TYPE_TOUCH="touch",POINTER_TYPE_PEN="pen",CLASS_NAME_POINTER_EVENT="pointer-event",SWIPE_THRESHOLD=40,Default$c={endCallback:null,leftCallback:null,rightCallback:null},DefaultType$c={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Swipe extends Config{constructor(n,a){super(),this._element=n,!(!n||!Swipe.isSupported())&&(this._config=this._getConfig(a),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Default$c}static get DefaultType(){return DefaultType$c}static get NAME(){return NAME$d}dispose(){EventHandler.off(this._element,EVENT_KEY$9)}_start(n){if(!this._supportPointerEvents){this._deltaX=n.touches[0].clientX;return}this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX)}_end(n){this._eventIsPointerPenTouch(n)&&(this._deltaX=n.clientX-this._deltaX),this._handleSwipe(),execute(this._config.endCallback)}_move(n){this._deltaX=n.touches&&n.touches.length>1?0:n.touches[0].clientX-this._deltaX}_handleSwipe(){const n=Math.abs(this._deltaX);if(n<=SWIPE_THRESHOLD)return;const a=n/this._deltaX;this._deltaX=0,a&&execute(a>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(EventHandler.on(this._element,EVENT_POINTERDOWN,n=>this._start(n)),EventHandler.on(this._element,EVENT_POINTERUP,n=>this._end(n)),this._element.classList.add(CLASS_NAME_POINTER_EVENT)):(EventHandler.on(this._element,EVENT_TOUCHSTART,n=>this._start(n)),EventHandler.on(this._element,EVENT_TOUCHMOVE,n=>this._move(n)),EventHandler.on(this._element,EVENT_TOUCHEND,n=>this._end(n)))}_eventIsPointerPenTouch(n){return this._supportPointerEvents&&(n.pointerType===POINTER_TYPE_PEN||n.pointerType===POINTER_TYPE_TOUCH)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const NAME$c="carousel",DATA_KEY$8="bs.carousel",EVENT_KEY$8=".".concat(DATA_KEY$8),DATA_API_KEY$5=".data-api",ARROW_LEFT_KEY$1="ArrowLeft",ARROW_RIGHT_KEY$1="ArrowRight",TOUCHEVENT_COMPAT_WAIT=500,ORDER_NEXT="next",ORDER_PREV="prev",DIRECTION_LEFT="left",DIRECTION_RIGHT="right",EVENT_SLIDE="slide".concat(EVENT_KEY$8),EVENT_SLID="slid".concat(EVENT_KEY$8),EVENT_KEYDOWN$1="keydown".concat(EVENT_KEY$8),EVENT_MOUSEENTER$1="mouseenter".concat(EVENT_KEY$8),EVENT_MOUSELEAVE$1="mouseleave".concat(EVENT_KEY$8),EVENT_DRAG_START="dragstart".concat(EVENT_KEY$8),EVENT_LOAD_DATA_API$3="load".concat(EVENT_KEY$8).concat(DATA_API_KEY$5),EVENT_CLICK_DATA_API$5="click".concat(EVENT_KEY$8).concat(DATA_API_KEY$5),CLASS_NAME_CAROUSEL="carousel",CLASS_NAME_ACTIVE$2="active",CLASS_NAME_SLIDE="slide",CLASS_NAME_END="carousel-item-end",CLASS_NAME_START="carousel-item-start",CLASS_NAME_NEXT="carousel-item-next",CLASS_NAME_PREV="carousel-item-prev",SELECTOR_ACTIVE=".active",SELECTOR_ITEM=".carousel-item",SELECTOR_ACTIVE_ITEM=SELECTOR_ACTIVE+SELECTOR_ITEM,SELECTOR_ITEM_IMG=".carousel-item img",SELECTOR_INDICATORS=".carousel-indicators",SELECTOR_DATA_SLIDE="[data-bs-slide], [data-bs-slide-to]",SELECTOR_DATA_RIDE='[data-bs-ride="carousel"]',KEY_TO_DIRECTION={[ARROW_LEFT_KEY$1]:DIRECTION_RIGHT,[ARROW_RIGHT_KEY$1]:DIRECTION_LEFT},Default$b={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},DefaultType$b={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Carousel extends BaseComponent{constructor(n,a){super(n,a),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=SelectorEngine.findOne(SELECTOR_INDICATORS,this._element),this._addEventListeners(),this._config.ride===CLASS_NAME_CAROUSEL&&this.cycle()}static get Default(){return Default$b}static get DefaultType(){return DefaultType$b}static get NAME(){return NAME$c}next(){this._slide(ORDER_NEXT)}nextWhenVisible(){!document.hidden&&isVisible(this._element)&&this.next()}prev(){this._slide(ORDER_PREV)}pause(){this._isSliding&&triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.cycle());return}this.cycle()}}to(n){const a=this._getItems();if(n>a.length-1||n<0)return;if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.to(n));return}const c=this._getItemIndex(this._getActive());if(c===n)return;const f=n>c?ORDER_NEXT:ORDER_PREV;this._slide(f,a[n])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(n){return n.defaultInterval=n.interval,n}_addEventListeners(){this._config.keyboard&&EventHandler.on(this._element,EVENT_KEYDOWN$1,n=>this._keydown(n)),this._config.pause==="hover"&&(EventHandler.on(this._element,EVENT_MOUSEENTER$1,()=>this.pause()),EventHandler.on(this._element,EVENT_MOUSELEAVE$1,()=>this._maybeEnableCycle())),this._config.touch&&Swipe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const c of SelectorEngine.find(SELECTOR_ITEM_IMG,this._element))EventHandler.on(c,EVENT_DRAG_START,f=>f.preventDefault());const a={leftCallback:()=>this._slide(this._directionToOrder(DIRECTION_LEFT)),rightCallback:()=>this._slide(this._directionToOrder(DIRECTION_RIGHT)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),TOUCHEVENT_COMPAT_WAIT+this._config.interval))}};this._swipeHelper=new Swipe(this._element,a)}_keydown(n){if(/input|textarea/i.test(n.target.tagName))return;const a=KEY_TO_DIRECTION[n.key];a&&(n.preventDefault(),this._slide(this._directionToOrder(a)))}_getItemIndex(n){return this._getItems().indexOf(n)}_setActiveIndicatorElement(n){if(!this._indicatorsElement)return;const a=SelectorEngine.findOne(SELECTOR_ACTIVE,this._indicatorsElement);a.classList.remove(CLASS_NAME_ACTIVE$2),a.removeAttribute("aria-current");const c=SelectorEngine.findOne('[data-bs-slide-to="'.concat(n,'"]'),this._indicatorsElement);c&&(c.classList.add(CLASS_NAME_ACTIVE$2),c.setAttribute("aria-current","true"))}_updateInterval(){const n=this._activeElement||this._getActive();if(!n)return;const a=Number.parseInt(n.getAttribute("data-bs-interval"),10);this._config.interval=a||this._config.defaultInterval}_slide(n,a=null){if(this._isSliding)return;const c=this._getActive(),f=n===ORDER_NEXT,d=a||getNextActiveElement(this._getItems(),c,f,this._config.wrap);if(d===c)return;const u=this._getItemIndex(d),h=T=>EventHandler.trigger(this._element,T,{relatedTarget:d,direction:this._orderToDirection(n),from:this._getItemIndex(c),to:u});if(h(EVENT_SLIDE).defaultPrevented||!c||!d)return;const m=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(u),this._activeElement=d;const b=f?CLASS_NAME_START:CLASS_NAME_END,_=f?CLASS_NAME_NEXT:CLASS_NAME_PREV;d.classList.add(_),reflow(d),c.classList.add(b),d.classList.add(b);const v=()=>{d.classList.remove(b,_),d.classList.add(CLASS_NAME_ACTIVE$2),c.classList.remove(CLASS_NAME_ACTIVE$2,_,b),this._isSliding=!1,h(EVENT_SLID)};this._queueCallback(v,c,this._isAnimated()),m&&this.cycle()}_isAnimated(){return this._element.classList.contains(CLASS_NAME_SLIDE)}_getActive(){return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM,this._element)}_getItems(){return SelectorEngine.find(SELECTOR_ITEM,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(n){return isRTL()?n===DIRECTION_LEFT?ORDER_PREV:ORDER_NEXT:n===DIRECTION_LEFT?ORDER_NEXT:ORDER_PREV}_orderToDirection(n){return isRTL()?n===ORDER_PREV?DIRECTION_LEFT:DIRECTION_RIGHT:n===ORDER_PREV?DIRECTION_RIGHT:DIRECTION_LEFT}static jQueryInterface(n){return this.each(function(){const a=Carousel.getOrCreateInstance(this,n);if(typeof n=="number"){a.to(n);return}if(typeof n=="string"){if(a[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError('No method named "'.concat(n,'"'));a[n]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$5,SELECTOR_DATA_SLIDE,function(l){const n=SelectorEngine.getElementFromSelector(this);if(!n||!n.classList.contains(CLASS_NAME_CAROUSEL))return;l.preventDefault();const a=Carousel.getOrCreateInstance(n),c=this.getAttribute("data-bs-slide-to");if(c){a.to(c),a._maybeEnableCycle();return}if(Manipulator.getDataAttribute(this,"slide")==="next"){a.next(),a._maybeEnableCycle();return}a.prev(),a._maybeEnableCycle()});EventHandler.on(window,EVENT_LOAD_DATA_API$3,()=>{const l=SelectorEngine.find(SELECTOR_DATA_RIDE);for(const n of l)Carousel.getOrCreateInstance(n)});defineJQueryPlugin(Carousel);const NAME$b="collapse",DATA_KEY$7="bs.collapse",EVENT_KEY$7=".".concat(DATA_KEY$7),DATA_API_KEY$4=".data-api",EVENT_SHOW$6="show".concat(EVENT_KEY$7),EVENT_SHOWN$6="shown".concat(EVENT_KEY$7),EVENT_HIDE$6="hide".concat(EVENT_KEY$7),EVENT_HIDDEN$6="hidden".concat(EVENT_KEY$7),EVENT_CLICK_DATA_API$4="click".concat(EVENT_KEY$7).concat(DATA_API_KEY$4),CLASS_NAME_SHOW$7="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=":scope .".concat(CLASS_NAME_COLLAPSE," .").concat(CLASS_NAME_COLLAPSE),CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE$4='[data-bs-toggle="collapse"]',Default$a={parent:null,toggle:!0},DefaultType$a={parent:"(null|element)",toggle:"boolean"};class Collapse extends BaseComponent{constructor(n,a){super(n,a),this._isTransitioning=!1,this._triggerArray=[];const c=SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);for(const f of c){const d=SelectorEngine.getSelectorFromElement(f),u=SelectorEngine.find(d).filter(h=>h===this._element);d!==null&&u.length&&this._triggerArray.push(f)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default$a}static get DefaultType(){return DefaultType$a}static get NAME(){return NAME$b}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let n=[];if(this._config.parent&&(n=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(h=>h!==this._element).map(h=>Collapse.getOrCreateInstance(h,{toggle:!1}))),n.length&&n[0]._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$6).defaultPrevented)return;for(const h of n)h.hide();const c=this._getDimension();this._element.classList.remove(CLASS_NAME_COLLAPSE),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.style[c]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const f=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7),this._element.style[c]="",EventHandler.trigger(this._element,EVENT_SHOWN$6)},d=c[0].toUpperCase()+c.slice(1),u="scroll".concat(d);this._queueCallback(f,this._element,!0),this._element.style[c]="".concat(this._element[u],"px")}hide(){if(this._isTransitioning||!this._isShown()||EventHandler.trigger(this._element,EVENT_HIDE$6).defaultPrevented)return;const a=this._getDimension();this._element.style[a]="".concat(this._element.getBoundingClientRect()[a],"px"),reflow(this._element),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.classList.remove(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7);for(const f of this._triggerArray){const d=SelectorEngine.getElementFromSelector(f);d&&!this._isShown(d)&&this._addAriaAndCollapsedClass([f],!1)}this._isTransitioning=!0;const c=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE),EventHandler.trigger(this._element,EVENT_HIDDEN$6)};this._element.style[a]="",this._queueCallback(c,this._element,!0)}_isShown(n=this._element){return n.classList.contains(CLASS_NAME_SHOW$7)}_configAfterMerge(n){return n.toggle=!!n.toggle,n.parent=getElement(n.parent),n}_getDimension(){return this._element.classList.contains(CLASS_NAME_HORIZONTAL)?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const n=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);for(const a of n){const c=SelectorEngine.getElementFromSelector(a);c&&this._addAriaAndCollapsedClass([a],this._isShown(c))}}_getFirstLevelChildren(n){const a=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find(n,this._config.parent).filter(c=>!a.includes(c))}_addAriaAndCollapsedClass(n,a){if(n.length)for(const c of n)c.classList.toggle(CLASS_NAME_COLLAPSED,!a),c.setAttribute("aria-expanded",a)}static jQueryInterface(n){const a={};return typeof n=="string"&&/show|hide/.test(n)&&(a.toggle=!1),this.each(function(){const c=Collapse.getOrCreateInstance(this,a);if(typeof n=="string"){if(typeof c[n]>"u")throw new TypeError('No method named "'.concat(n,'"'));c[n]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$4,SELECTOR_DATA_TOGGLE$4,function(l){(l.target.tagName==="A"||l.delegateTarget&&l.delegateTarget.tagName==="A")&&l.preventDefault();for(const n of SelectorEngine.getMultipleElementsFromSelector(this))Collapse.getOrCreateInstance(n,{toggle:!1}).toggle()});defineJQueryPlugin(Collapse);const NAME$a="dropdown",DATA_KEY$6="bs.dropdown",EVENT_KEY$6=".".concat(DATA_KEY$6),DATA_API_KEY$3=".data-api",ESCAPE_KEY$2="Escape",TAB_KEY$1="Tab",ARROW_UP_KEY$1="ArrowUp",ARROW_DOWN_KEY$1="ArrowDown",RIGHT_MOUSE_BUTTON=2,EVENT_HIDE$5="hide".concat(EVENT_KEY$6),EVENT_HIDDEN$5="hidden".concat(EVENT_KEY$6),EVENT_SHOW$5="show".concat(EVENT_KEY$6),EVENT_SHOWN$5="shown".concat(EVENT_KEY$6),EVENT_CLICK_DATA_API$3="click".concat(EVENT_KEY$6).concat(DATA_API_KEY$3),EVENT_KEYDOWN_DATA_API="keydown".concat(EVENT_KEY$6).concat(DATA_API_KEY$3),EVENT_KEYUP_DATA_API="keyup".concat(EVENT_KEY$6).concat(DATA_API_KEY$3),CLASS_NAME_SHOW$6="show",CLASS_NAME_DROPUP="dropup",CLASS_NAME_DROPEND="dropend",CLASS_NAME_DROPSTART="dropstart",CLASS_NAME_DROPUP_CENTER="dropup-center",CLASS_NAME_DROPDOWN_CENTER="dropdown-center",SELECTOR_DATA_TOGGLE$3='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',SELECTOR_DATA_TOGGLE_SHOWN="".concat(SELECTOR_DATA_TOGGLE$3,".").concat(CLASS_NAME_SHOW$6),SELECTOR_MENU=".dropdown-menu",SELECTOR_NAVBAR=".navbar",SELECTOR_NAVBAR_NAV=".navbar-nav",SELECTOR_VISIBLE_ITEMS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PLACEMENT_TOP=isRTL()?"top-end":"top-start",PLACEMENT_TOPEND=isRTL()?"top-start":"top-end",PLACEMENT_BOTTOM=isRTL()?"bottom-end":"bottom-start",PLACEMENT_BOTTOMEND=isRTL()?"bottom-start":"bottom-end",PLACEMENT_RIGHT=isRTL()?"left-start":"right-start",PLACEMENT_LEFT=isRTL()?"right-start":"left-start",PLACEMENT_TOPCENTER="top",PLACEMENT_BOTTOMCENTER="bottom",Default$9={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},DefaultType$9={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Dropdown extends BaseComponent{constructor(n,a){super(n,a),this._popper=null,this._parent=this._element.parentNode,this._menu=SelectorEngine.next(this._element,SELECTOR_MENU)[0]||SelectorEngine.prev(this._element,SELECTOR_MENU)[0]||SelectorEngine.findOne(SELECTOR_MENU,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Default$9}static get DefaultType(){return DefaultType$9}static get NAME(){return NAME$a}toggle(){return this._isShown()?this.hide():this.show()}show(){if(isDisabled(this._element)||this._isShown())return;const n={relatedTarget:this._element};if(!EventHandler.trigger(this._element,EVENT_SHOW$5,n).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(SELECTOR_NAVBAR_NAV))for(const c of[].concat(...document.body.children))EventHandler.on(c,"mouseover",noop$3);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(CLASS_NAME_SHOW$6),this._element.classList.add(CLASS_NAME_SHOW$6),EventHandler.trigger(this._element,EVENT_SHOWN$5,n)}}hide(){if(isDisabled(this._element)||!this._isShown())return;const n={relatedTarget:this._element};this._completeHide(n)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(n){if(!EventHandler.trigger(this._element,EVENT_HIDE$5,n).defaultPrevented){if("ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))EventHandler.off(c,"mouseover",noop$3);this._popper&&this._popper.destroy(),this._menu.classList.remove(CLASS_NAME_SHOW$6),this._element.classList.remove(CLASS_NAME_SHOW$6),this._element.setAttribute("aria-expanded","false"),Manipulator.removeDataAttribute(this._menu,"popper"),EventHandler.trigger(this._element,EVENT_HIDDEN$5,n)}}_getConfig(n){if(n=super._getConfig(n),typeof n.reference=="object"&&!isElement(n.reference)&&typeof n.reference.getBoundingClientRect!="function")throw new TypeError("".concat(NAME$a.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return n}_createPopper(){if(typeof Popper>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let n=this._element;this._config.reference==="parent"?n=this._parent:isElement(this._config.reference)?n=getElement(this._config.reference):typeof this._config.reference=="object"&&(n=this._config.reference);const a=this._getPopperConfig();this._popper=createPopper(n,this._menu,a)}_isShown(){return this._menu.classList.contains(CLASS_NAME_SHOW$6)}_getPlacement(){const n=this._parent;if(n.classList.contains(CLASS_NAME_DROPEND))return PLACEMENT_RIGHT;if(n.classList.contains(CLASS_NAME_DROPSTART))return PLACEMENT_LEFT;if(n.classList.contains(CLASS_NAME_DROPUP_CENTER))return PLACEMENT_TOPCENTER;if(n.classList.contains(CLASS_NAME_DROPDOWN_CENTER))return PLACEMENT_BOTTOMCENTER;const a=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return n.classList.contains(CLASS_NAME_DROPUP)?a?PLACEMENT_TOPEND:PLACEMENT_TOP:a?PLACEMENT_BOTTOMEND:PLACEMENT_BOTTOM}_detectNavbar(){return this._element.closest(SELECTOR_NAVBAR)!==null}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(a=>Number.parseInt(a,10)):typeof n=="function"?a=>n(a,this._element):n}_getPopperConfig(){const n={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Manipulator.setDataAttribute(this._menu,"popper","static"),n.modifiers=[{name:"applyStyles",enabled:!1}]),{...n,...execute(this._config.popperConfig,[n])}}_selectMenuItem({key:n,target:a}){const c=SelectorEngine.find(SELECTOR_VISIBLE_ITEMS,this._menu).filter(f=>isVisible(f));c.length&&getNextActiveElement(c,a,n===ARROW_DOWN_KEY$1,!c.includes(a)).focus()}static jQueryInterface(n){return this.each(function(){const a=Dropdown.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof a[n]>"u")throw new TypeError('No method named "'.concat(n,'"'));a[n]()}})}static clearMenus(n){if(n.button===RIGHT_MOUSE_BUTTON||n.type==="keyup"&&n.key!==TAB_KEY$1)return;const a=SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);for(const c of a){const f=Dropdown.getInstance(c);if(!f||f._config.autoClose===!1)continue;const d=n.composedPath(),u=d.includes(f._menu);if(d.includes(f._element)||f._config.autoClose==="inside"&&!u||f._config.autoClose==="outside"&&u||f._menu.contains(n.target)&&(n.type==="keyup"&&n.key===TAB_KEY$1||/input|select|option|textarea|form/i.test(n.target.tagName)))continue;const h={relatedTarget:f._element};n.type==="click"&&(h.clickEvent=n),f._completeHide(h)}}static dataApiKeydownHandler(n){const a=/input|textarea/i.test(n.target.tagName),c=n.key===ESCAPE_KEY$2,f=[ARROW_UP_KEY$1,ARROW_DOWN_KEY$1].includes(n.key);if(!f&&!c||a&&!c)return;n.preventDefault();const d=this.matches(SELECTOR_DATA_TOGGLE$3)?this:SelectorEngine.prev(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.next(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3,n.delegateTarget.parentNode),u=Dropdown.getOrCreateInstance(d);if(f){n.stopPropagation(),u.show(),u._selectMenuItem(n);return}u._isShown()&&(n.stopPropagation(),u.hide(),d.focus())}}EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE$3,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_CLICK_DATA_API$3,Dropdown.clearMenus);EventHandler.on(document,EVENT_KEYUP_DATA_API,Dropdown.clearMenus);EventHandler.on(document,EVENT_CLICK_DATA_API$3,SELECTOR_DATA_TOGGLE$3,function(l){l.preventDefault(),Dropdown.getOrCreateInstance(this).toggle()});defineJQueryPlugin(Dropdown);const NAME$9="backdrop",CLASS_NAME_FADE$4="fade",CLASS_NAME_SHOW$5="show",EVENT_MOUSEDOWN="mousedown.bs.".concat(NAME$9),Default$8={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DefaultType$8={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Backdrop extends Config{constructor(n){super(),this._config=this._getConfig(n),this._isAppended=!1,this._element=null}static get Default(){return Default$8}static get DefaultType(){return DefaultType$8}static get NAME(){return NAME$9}show(n){if(!this._config.isVisible){execute(n);return}this._append();const a=this._getElement();this._config.isAnimated&&reflow(a),a.classList.add(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{execute(n)})}hide(n){if(!this._config.isVisible){execute(n);return}this._getElement().classList.remove(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{this.dispose(),execute(n)})}dispose(){this._isAppended&&(EventHandler.off(this._element,EVENT_MOUSEDOWN),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const n=document.createElement("div");n.className=this._config.className,this._config.isAnimated&&n.classList.add(CLASS_NAME_FADE$4),this._element=n}return this._element}_configAfterMerge(n){return n.rootElement=getElement(n.rootElement),n}_append(){if(this._isAppended)return;const n=this._getElement();this._config.rootElement.append(n),EventHandler.on(n,EVENT_MOUSEDOWN,()=>{execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(n){executeAfterTransition(n,this._getElement(),this._config.isAnimated)}}const NAME$8="focustrap",DATA_KEY$5="bs.focustrap",EVENT_KEY$5=".".concat(DATA_KEY$5),EVENT_FOCUSIN$2="focusin".concat(EVENT_KEY$5),EVENT_KEYDOWN_TAB="keydown.tab".concat(EVENT_KEY$5),TAB_KEY="Tab",TAB_NAV_FORWARD="forward",TAB_NAV_BACKWARD="backward",Default$7={autofocus:!0,trapElement:null},DefaultType$7={autofocus:"boolean",trapElement:"element"};class FocusTrap extends Config{constructor(n){super(),this._config=this._getConfig(n),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Default$7}static get DefaultType(){return DefaultType$7}static get NAME(){return NAME$8}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),EventHandler.off(document,EVENT_KEY$5),EventHandler.on(document,EVENT_FOCUSIN$2,n=>this._handleFocusin(n)),EventHandler.on(document,EVENT_KEYDOWN_TAB,n=>this._handleKeydown(n)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,EventHandler.off(document,EVENT_KEY$5))}_handleFocusin(n){const{trapElement:a}=this._config;if(n.target===document||n.target===a||a.contains(n.target))return;const c=SelectorEngine.focusableChildren(a);c.length===0?a.focus():this._lastTabNavDirection===TAB_NAV_BACKWARD?c[c.length-1].focus():c[0].focus()}_handleKeydown(n){n.key===TAB_KEY&&(this._lastTabNavDirection=n.shiftKey?TAB_NAV_BACKWARD:TAB_NAV_FORWARD)}}const SELECTOR_FIXED_CONTENT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",SELECTOR_STICKY_CONTENT=".sticky-top",PROPERTY_PADDING="padding-right",PROPERTY_MARGIN="margin-right";class ScrollBarHelper{constructor(){this._element=document.body}getWidth(){const n=document.documentElement.clientWidth;return Math.abs(window.innerWidth-n)}hide(){const n=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,PROPERTY_PADDING,a=>a+n),this._setElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING,a=>a+n),this._setElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN,a=>a-n)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(n,a,c){const f=this.getWidth(),d=u=>{if(u!==this._element&&window.innerWidth>u.clientWidth+f)return;this._saveInitialAttribute(u,a);const h=window.getComputedStyle(u).getPropertyValue(a);u.style.setProperty(a,"".concat(c(Number.parseFloat(h)),"px"))};this._applyManipulationCallback(n,d)}_saveInitialAttribute(n,a){const c=n.style.getPropertyValue(a);c&&Manipulator.setDataAttribute(n,a,c)}_resetElementAttributes(n,a){const c=f=>{const d=Manipulator.getDataAttribute(f,a);if(d===null){f.style.removeProperty(a);return}Manipulator.removeDataAttribute(f,a),f.style.setProperty(a,d)};this._applyManipulationCallback(n,c)}_applyManipulationCallback(n,a){if(isElement(n)){a(n);return}for(const c of SelectorEngine.find(n,this._element))a(c)}}const NAME$7="modal",DATA_KEY$4="bs.modal",EVENT_KEY$4=".".concat(DATA_KEY$4),DATA_API_KEY$2=".data-api",ESCAPE_KEY$1="Escape",EVENT_HIDE$4="hide".concat(EVENT_KEY$4),EVENT_HIDE_PREVENTED$1="hidePrevented".concat(EVENT_KEY$4),EVENT_HIDDEN$4="hidden".concat(EVENT_KEY$4),EVENT_SHOW$4="show".concat(EVENT_KEY$4),EVENT_SHOWN$4="shown".concat(EVENT_KEY$4),EVENT_RESIZE$1="resize".concat(EVENT_KEY$4),EVENT_CLICK_DISMISS="click.dismiss".concat(EVENT_KEY$4),EVENT_MOUSEDOWN_DISMISS="mousedown.dismiss".concat(EVENT_KEY$4),EVENT_KEYDOWN_DISMISS$1="keydown.dismiss".concat(EVENT_KEY$4),EVENT_CLICK_DATA_API$2="click".concat(EVENT_KEY$4).concat(DATA_API_KEY$2),CLASS_NAME_OPEN="modal-open",CLASS_NAME_FADE$3="fade",CLASS_NAME_SHOW$4="show",CLASS_NAME_STATIC="modal-static",OPEN_SELECTOR$1=".modal.show",SELECTOR_DIALOG=".modal-dialog",SELECTOR_MODAL_BODY=".modal-body",SELECTOR_DATA_TOGGLE$2='[data-bs-toggle="modal"]',Default$6={backdrop:!0,focus:!0,keyboard:!0},DefaultType$6={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let Modal$1=class Ot extends BaseComponent{constructor(n,a){super(n,a),this._dialog=SelectorEngine.findOne(SELECTOR_DIALOG,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ScrollBarHelper,this._addEventListeners()}static get Default(){return Default$6}static get DefaultType(){return DefaultType$6}static get NAME(){return NAME$7}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$4,{relatedTarget:n}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(CLASS_NAME_OPEN),this._adjustDialog(),this._backdrop.show(()=>this._showElement(n)))}hide(){!this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_HIDE$4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(CLASS_NAME_SHOW$4),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){EventHandler.off(window,EVENT_KEY$4),EventHandler.off(this._dialog,EVENT_KEY$4),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Backdrop({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_showElement(n){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const a=SelectorEngine.findOne(SELECTOR_MODAL_BODY,this._dialog);a&&(a.scrollTop=0),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW$4);const c=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,EventHandler.trigger(this._element,EVENT_SHOWN$4,{relatedTarget:n})};this._queueCallback(c,this._dialog,this._isAnimated())}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS$1,n=>{if(n.key===ESCAPE_KEY$1){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),EventHandler.on(window,EVENT_RESIZE$1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),EventHandler.on(this._element,EVENT_MOUSEDOWN_DISMISS,n=>{EventHandler.one(this._element,EVENT_CLICK_DISMISS,a=>{if(!(this._element!==n.target||this._element!==a.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(CLASS_NAME_OPEN),this._resetAdjustments(),this._scrollBar.reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$4)})}_isAnimated(){return this._element.classList.contains(CLASS_NAME_FADE$3)}_triggerBackdropTransition(){if(EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED$1).defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,c=this._element.style.overflowY;c==="hidden"||this._element.classList.contains(CLASS_NAME_STATIC)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.classList.remove(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.style.overflowY=c},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const n=this._element.scrollHeight>document.documentElement.clientHeight,a=this._scrollBar.getWidth(),c=a>0;if(c&&!n){const f=isRTL()?"paddingLeft":"paddingRight";this._element.style[f]="".concat(a,"px")}if(!c&&n){const f=isRTL()?"paddingRight":"paddingLeft";this._element.style[f]="".concat(a,"px")}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(n,a){return this.each(function(){const c=Ot.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof c[n]>"u")throw new TypeError('No method named "'.concat(n,'"'));c[n](a)}})}};EventHandler.on(document,EVENT_CLICK_DATA_API$2,SELECTOR_DATA_TOGGLE$2,function(l){const n=SelectorEngine.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&l.preventDefault(),EventHandler.one(n,EVENT_SHOW$4,f=>{f.defaultPrevented||EventHandler.one(n,EVENT_HIDDEN$4,()=>{isVisible(this)&&this.focus()})});const a=SelectorEngine.findOne(OPEN_SELECTOR$1);a&&Modal$1.getInstance(a).hide(),Modal$1.getOrCreateInstance(n).toggle(this)});enableDismissTrigger(Modal$1);defineJQueryPlugin(Modal$1);const NAME$6="offcanvas",DATA_KEY$3="bs.offcanvas",EVENT_KEY$3=".".concat(DATA_KEY$3),DATA_API_KEY$1=".data-api",EVENT_LOAD_DATA_API$2="load".concat(EVENT_KEY$3).concat(DATA_API_KEY$1),ESCAPE_KEY="Escape",CLASS_NAME_SHOW$3="show",CLASS_NAME_SHOWING$1="showing",CLASS_NAME_HIDING="hiding",CLASS_NAME_BACKDROP="offcanvas-backdrop",OPEN_SELECTOR=".offcanvas.show",EVENT_SHOW$3="show".concat(EVENT_KEY$3),EVENT_SHOWN$3="shown".concat(EVENT_KEY$3),EVENT_HIDE$3="hide".concat(EVENT_KEY$3),EVENT_HIDE_PREVENTED="hidePrevented".concat(EVENT_KEY$3),EVENT_HIDDEN$3="hidden".concat(EVENT_KEY$3),EVENT_RESIZE="resize".concat(EVENT_KEY$3),EVENT_CLICK_DATA_API$1="click".concat(EVENT_KEY$3).concat(DATA_API_KEY$1),EVENT_KEYDOWN_DISMISS="keydown.dismiss".concat(EVENT_KEY$3),SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="offcanvas"]',Default$5={backdrop:!0,keyboard:!0,scroll:!1},DefaultType$5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Offcanvas extends BaseComponent{constructor(n,a){super(n,a),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Default$5}static get DefaultType(){return DefaultType$5}static get NAME(){return NAME$6}toggle(n){return this._isShown?this.hide():this.show(n)}show(n){if(this._isShown||EventHandler.trigger(this._element,EVENT_SHOW$3,{relatedTarget:n}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ScrollBarHelper().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(CLASS_NAME_SHOWING$1);const c=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(CLASS_NAME_SHOW$3),this._element.classList.remove(CLASS_NAME_SHOWING$1),EventHandler.trigger(this._element,EVENT_SHOWN$3,{relatedTarget:n})};this._queueCallback(c,this._element,!0)}hide(){if(!this._isShown||EventHandler.trigger(this._element,EVENT_HIDE$3).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(CLASS_NAME_HIDING),this._backdrop.hide();const a=()=>{this._element.classList.remove(CLASS_NAME_SHOW$3,CLASS_NAME_HIDING),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ScrollBarHelper().reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$3)};this._queueCallback(a,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const n=()=>{if(this._config.backdrop==="static"){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()},a=!!this._config.backdrop;return new Backdrop({className:CLASS_NAME_BACKDROP,isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?n:null})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS,n=>{if(n.key===ESCAPE_KEY){if(this._config.keyboard){this.hide();return}EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED)}})}static jQueryInterface(n){return this.each(function(){const a=Offcanvas.getOrCreateInstance(this,n);if(typeof n=="string"){if(a[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError('No method named "'.concat(n,'"'));a[n](this)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,function(l){const n=SelectorEngine.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&l.preventDefault(),isDisabled(this))return;EventHandler.one(n,EVENT_HIDDEN$3,()=>{isVisible(this)&&this.focus()});const a=SelectorEngine.findOne(OPEN_SELECTOR);a&&a!==n&&Offcanvas.getInstance(a).hide(),Offcanvas.getOrCreateInstance(n).toggle(this)});EventHandler.on(window,EVENT_LOAD_DATA_API$2,()=>{for(const l of SelectorEngine.find(OPEN_SELECTOR))Offcanvas.getOrCreateInstance(l).show()});EventHandler.on(window,EVENT_RESIZE,()=>{for(const l of SelectorEngine.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(l).position!=="fixed"&&Offcanvas.getOrCreateInstance(l).hide()});enableDismissTrigger(Offcanvas);defineJQueryPlugin(Offcanvas);const ARIA_ATTRIBUTE_PATTERN=/^aria-[\w-]*$/i,DefaultAllowlist={"*":["class","dir","id","lang","role",ARIA_ATTRIBUTE_PATTERN],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},uriAttributes=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),SAFE_URL_PATTERN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,allowedAttribute=(l,n)=>{const a=l.nodeName.toLowerCase();return n.includes(a)?uriAttributes.has(a)?!!SAFE_URL_PATTERN.test(l.nodeValue):!0:n.filter(c=>c instanceof RegExp).some(c=>c.test(a))};function sanitizeHtml(l,n,a){if(!l.length)return l;if(a&&typeof a=="function")return a(l);const f=new window.DOMParser().parseFromString(l,"text/html"),d=[].concat(...f.body.querySelectorAll("*"));for(const u of d){const h=u.nodeName.toLowerCase();if(!Object.keys(n).includes(h)){u.remove();continue}const E=[].concat(...u.attributes),m=[].concat(n["*"]||[],n[h]||[]);for(const b of E)allowedAttribute(b,m)||u.removeAttribute(b.nodeName)}return f.body.innerHTML}const NAME$5="TemplateFactory",Default$4={allowList:DefaultAllowlist,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},DefaultType$4={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},DefaultContentType={entry:"(string|element|function|null)",selector:"(string|element)"};class TemplateFactory extends Config{constructor(n){super(),this._config=this._getConfig(n)}static get Default(){return Default$4}static get DefaultType(){return DefaultType$4}static get NAME(){return NAME$5}getContent(){return Object.values(this._config.content).map(n=>this._resolvePossibleFunction(n)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(n){return this._checkContent(n),this._config.content={...this._config.content,...n},this}toHtml(){const n=document.createElement("div");n.innerHTML=this._maybeSanitize(this._config.template);for(const[f,d]of Object.entries(this._config.content))this._setContent(n,d,f);const a=n.children[0],c=this._resolvePossibleFunction(this._config.extraClass);return c&&a.classList.add(...c.split(" ")),a}_typeCheckConfig(n){super._typeCheckConfig(n),this._checkContent(n.content)}_checkContent(n){for(const[a,c]of Object.entries(n))super._typeCheckConfig({selector:a,entry:c},DefaultContentType)}_setContent(n,a,c){const f=SelectorEngine.findOne(c,n);if(f){if(a=this._resolvePossibleFunction(a),!a){f.remove();return}if(isElement(a)){this._putElementInTemplate(getElement(a),f);return}if(this._config.html){f.innerHTML=this._maybeSanitize(a);return}f.textContent=a}}_maybeSanitize(n){return this._config.sanitize?sanitizeHtml(n,this._config.allowList,this._config.sanitizeFn):n}_resolvePossibleFunction(n){return execute(n,[this])}_putElementInTemplate(n,a){if(this._config.html){a.innerHTML="",a.append(n);return}a.textContent=n.textContent}}const NAME$4="tooltip",DISALLOWED_ATTRIBUTES=new Set(["sanitize","allowList","sanitizeFn"]),CLASS_NAME_FADE$2="fade",CLASS_NAME_MODAL="modal",CLASS_NAME_SHOW$2="show",SELECTOR_TOOLTIP_INNER=".tooltip-inner",SELECTOR_MODAL=".".concat(CLASS_NAME_MODAL),EVENT_MODAL_HIDE="hide.bs.modal",TRIGGER_HOVER="hover",TRIGGER_FOCUS="focus",TRIGGER_CLICK="click",TRIGGER_MANUAL="manual",EVENT_HIDE$2="hide",EVENT_HIDDEN$2="hidden",EVENT_SHOW$2="show",EVENT_SHOWN$2="shown",EVENT_INSERTED="inserted",EVENT_CLICK$1="click",EVENT_FOCUSIN$1="focusin",EVENT_FOCUSOUT$1="focusout",EVENT_MOUSEENTER="mouseenter",EVENT_MOUSELEAVE="mouseleave",AttachmentMap={AUTO:"auto",TOP:"top",RIGHT:isRTL()?"left":"right",BOTTOM:"bottom",LEFT:isRTL()?"right":"left"},Default$3={allowList:DefaultAllowlist,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},DefaultType$3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Tooltip extends BaseComponent{constructor(n,a){if(typeof Popper>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(n,a),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Default$3}static get DefaultType(){return DefaultType$3}static get NAME(){return NAME$4}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),EventHandler.off(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const n=EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOW$2)),c=(findShadowRoot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(n.defaultPrevented||!c)return;this._disposePopper();const f=this._getTipElement();this._element.setAttribute("aria-describedby",f.getAttribute("id"));const{container:d}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(d.append(f),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_INSERTED))),this._popper=this._createPopper(f),f.classList.add(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const h of[].concat(...document.body.children))EventHandler.on(h,"mouseover",noop$3);const u=()=>{EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOWN$2)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(u,this.tip,this._isAnimated())}hide(){if(!this._isShown()||EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDE$2)).defaultPrevented)return;if(this._getTipElement().classList.remove(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))EventHandler.off(f,"mouseover",noop$3);this._activeTrigger[TRIGGER_CLICK]=!1,this._activeTrigger[TRIGGER_FOCUS]=!1,this._activeTrigger[TRIGGER_HOVER]=!1,this._isHovered=null;const c=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDDEN$2)))};this._queueCallback(c,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(n){const a=this._getTemplateFactory(n).toHtml();if(!a)return null;a.classList.remove(CLASS_NAME_FADE$2,CLASS_NAME_SHOW$2),a.classList.add("bs-".concat(this.constructor.NAME,"-auto"));const c=getUID(this.constructor.NAME).toString();return a.setAttribute("id",c),this._isAnimated()&&a.classList.add(CLASS_NAME_FADE$2),a}setContent(n){this._newContent=n,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(n){return this._templateFactory?this._templateFactory.changeContent(n):this._templateFactory=new TemplateFactory({...this._config,content:n,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[SELECTOR_TOOLTIP_INNER]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(n){return this.constructor.getOrCreateInstance(n.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(CLASS_NAME_FADE$2)}_isShown(){return this.tip&&this.tip.classList.contains(CLASS_NAME_SHOW$2)}_createPopper(n){const a=execute(this._config.placement,[this,n,this._element]),c=AttachmentMap[a.toUpperCase()];return createPopper(this._element,n,this._getPopperConfig(c))}_getOffset(){const{offset:n}=this._config;return typeof n=="string"?n.split(",").map(a=>Number.parseInt(a,10)):typeof n=="function"?a=>n(a,this._element):n}_resolvePossibleFunction(n){return execute(n,[this._element])}_getPopperConfig(n){const a={placement:n,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:c=>{this._getTipElement().setAttribute("data-popper-placement",c.state.placement)}}]};return{...a,...execute(this._config.popperConfig,[a])}}_setListeners(){const n=this._config.trigger.split(" ");for(const a of n)if(a==="click")EventHandler.on(this._element,this.constructor.eventName(EVENT_CLICK$1),this._config.selector,c=>{this._initializeOnDelegatedTarget(c).toggle()});else if(a!==TRIGGER_MANUAL){const c=a===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSEENTER):this.constructor.eventName(EVENT_FOCUSIN$1),f=a===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSELEAVE):this.constructor.eventName(EVENT_FOCUSOUT$1);EventHandler.on(this._element,c,this._config.selector,d=>{const u=this._initializeOnDelegatedTarget(d);u._activeTrigger[d.type==="focusin"?TRIGGER_FOCUS:TRIGGER_HOVER]=!0,u._enter()}),EventHandler.on(this._element,f,this._config.selector,d=>{const u=this._initializeOnDelegatedTarget(d);u._activeTrigger[d.type==="focusout"?TRIGGER_FOCUS:TRIGGER_HOVER]=u._element.contains(d.relatedTarget),u._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},EventHandler.on(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler)}_fixTitle(){const n=this._element.getAttribute("title");n&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",n),this._element.setAttribute("data-bs-original-title",n),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(n,a){clearTimeout(this._timeout),this._timeout=setTimeout(n,a)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(n){const a=Manipulator.getDataAttributes(this._element);for(const c of Object.keys(a))DISALLOWED_ATTRIBUTES.has(c)&&delete a[c];return n={...a,...typeof n=="object"&&n?n:{}},n=this._mergeConfigObj(n),n=this._configAfterMerge(n),this._typeCheckConfig(n),n}_configAfterMerge(n){return n.container=n.container===!1?document.body:getElement(n.container),typeof n.delay=="number"&&(n.delay={show:n.delay,hide:n.delay}),typeof n.title=="number"&&(n.title=n.title.toString()),typeof n.content=="number"&&(n.content=n.content.toString()),n}_getDelegateConfig(){const n={};for(const[a,c]of Object.entries(this._config))this.constructor.Default[a]!==c&&(n[a]=c);return n.selector=!1,n.trigger="manual",n}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(n){return this.each(function(){const a=Tooltip.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof a[n]>"u")throw new TypeError('No method named "'.concat(n,'"'));a[n]()}})}}defineJQueryPlugin(Tooltip);const NAME$3="popover",SELECTOR_TITLE=".popover-header",SELECTOR_CONTENT=".popover-body",Default$2={...Tooltip.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},DefaultType$2={...Tooltip.DefaultType,content:"(null|string|element|function)"};class Popover extends Tooltip{static get Default(){return Default$2}static get DefaultType(){return DefaultType$2}static get NAME(){return NAME$3}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[SELECTOR_TITLE]:this._getTitle(),[SELECTOR_CONTENT]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(n){return this.each(function(){const a=Popover.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof a[n]>"u")throw new TypeError('No method named "'.concat(n,'"'));a[n]()}})}}defineJQueryPlugin(Popover);const NAME$2="scrollspy",DATA_KEY$2="bs.scrollspy",EVENT_KEY$2=".".concat(DATA_KEY$2),DATA_API_KEY=".data-api",EVENT_ACTIVATE="activate".concat(EVENT_KEY$2),EVENT_CLICK="click".concat(EVENT_KEY$2),EVENT_LOAD_DATA_API$1="load".concat(EVENT_KEY$2).concat(DATA_API_KEY),CLASS_NAME_DROPDOWN_ITEM="dropdown-item",CLASS_NAME_ACTIVE$1="active",SELECTOR_DATA_SPY='[data-bs-spy="scroll"]',SELECTOR_TARGET_LINKS="[href]",SELECTOR_NAV_LIST_GROUP=".nav, .list-group",SELECTOR_NAV_LINKS=".nav-link",SELECTOR_NAV_ITEMS=".nav-item",SELECTOR_LIST_ITEMS=".list-group-item",SELECTOR_LINK_ITEMS="".concat(SELECTOR_NAV_LINKS,", ").concat(SELECTOR_NAV_ITEMS," > ").concat(SELECTOR_NAV_LINKS,", ").concat(SELECTOR_LIST_ITEMS),SELECTOR_DROPDOWN=".dropdown",SELECTOR_DROPDOWN_TOGGLE$1=".dropdown-toggle",Default$1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},DefaultType$1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ScrollSpy extends BaseComponent{constructor(n,a){super(n,a),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Default$1}static get DefaultType(){return DefaultType$1}static get NAME(){return NAME$2}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const n of this._observableSections.values())this._observer.observe(n)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(n){return n.target=getElement(n.target)||document.body,n.rootMargin=n.offset?"".concat(n.offset,"px 0px -30%"):n.rootMargin,typeof n.threshold=="string"&&(n.threshold=n.threshold.split(",").map(a=>Number.parseFloat(a))),n}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(EventHandler.off(this._config.target,EVENT_CLICK),EventHandler.on(this._config.target,EVENT_CLICK,SELECTOR_TARGET_LINKS,n=>{const a=this._observableSections.get(n.target.hash);if(a){n.preventDefault();const c=this._rootElement||window,f=a.offsetTop-this._element.offsetTop;if(c.scrollTo){c.scrollTo({top:f,behavior:"smooth"});return}c.scrollTop=f}}))}_getNewObserver(){const n={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(a=>this._observerCallback(a),n)}_observerCallback(n){const a=u=>this._targetLinks.get("#".concat(u.target.id)),c=u=>{this._previousScrollData.visibleEntryTop=u.target.offsetTop,this._process(a(u))},f=(this._rootElement||document.documentElement).scrollTop,d=f>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=f;for(const u of n){if(!u.isIntersecting){this._activeTarget=null,this._clearActiveClass(a(u));continue}const h=u.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(d&&h){if(c(u),!f)return;continue}!d&&!h&&c(u)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const n=SelectorEngine.find(SELECTOR_TARGET_LINKS,this._config.target);for(const a of n){if(!a.hash||isDisabled(a))continue;const c=SelectorEngine.findOne(decodeURI(a.hash),this._element);isVisible(c)&&(this._targetLinks.set(decodeURI(a.hash),a),this._observableSections.set(a.hash,c))}}_process(n){this._activeTarget!==n&&(this._clearActiveClass(this._config.target),this._activeTarget=n,n.classList.add(CLASS_NAME_ACTIVE$1),this._activateParents(n),EventHandler.trigger(this._element,EVENT_ACTIVATE,{relatedTarget:n}))}_activateParents(n){if(n.classList.contains(CLASS_NAME_DROPDOWN_ITEM)){SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1,n.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);return}for(const a of SelectorEngine.parents(n,SELECTOR_NAV_LIST_GROUP))for(const c of SelectorEngine.prev(a,SELECTOR_LINK_ITEMS))c.classList.add(CLASS_NAME_ACTIVE$1)}_clearActiveClass(n){n.classList.remove(CLASS_NAME_ACTIVE$1);const a=SelectorEngine.find("".concat(SELECTOR_TARGET_LINKS,".").concat(CLASS_NAME_ACTIVE$1),n);for(const c of a)c.classList.remove(CLASS_NAME_ACTIVE$1)}static jQueryInterface(n){return this.each(function(){const a=ScrollSpy.getOrCreateInstance(this,n);if(typeof n=="string"){if(a[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError('No method named "'.concat(n,'"'));a[n]()}})}}EventHandler.on(window,EVENT_LOAD_DATA_API$1,()=>{for(const l of SelectorEngine.find(SELECTOR_DATA_SPY))ScrollSpy.getOrCreateInstance(l)});defineJQueryPlugin(ScrollSpy);const NAME$1="tab",DATA_KEY$1="bs.tab",EVENT_KEY$1=".".concat(DATA_KEY$1),EVENT_HIDE$1="hide".concat(EVENT_KEY$1),EVENT_HIDDEN$1="hidden".concat(EVENT_KEY$1),EVENT_SHOW$1="show".concat(EVENT_KEY$1),EVENT_SHOWN$1="shown".concat(EVENT_KEY$1),EVENT_CLICK_DATA_API="click".concat(EVENT_KEY$1),EVENT_KEYDOWN="keydown".concat(EVENT_KEY$1),EVENT_LOAD_DATA_API="load".concat(EVENT_KEY$1),ARROW_LEFT_KEY="ArrowLeft",ARROW_RIGHT_KEY="ArrowRight",ARROW_UP_KEY="ArrowUp",ARROW_DOWN_KEY="ArrowDown",HOME_KEY="Home",END_KEY="End",CLASS_NAME_ACTIVE="active",CLASS_NAME_FADE$1="fade",CLASS_NAME_SHOW$1="show",CLASS_DROPDOWN="dropdown",SELECTOR_DROPDOWN_TOGGLE=".dropdown-toggle",SELECTOR_DROPDOWN_MENU=".dropdown-menu",NOT_SELECTOR_DROPDOWN_TOGGLE=":not(".concat(SELECTOR_DROPDOWN_TOGGLE,")"),SELECTOR_TAB_PANEL='.list-group, .nav, [role="tablist"]',SELECTOR_OUTER=".nav-item, .list-group-item",SELECTOR_INNER=".nav-link".concat(NOT_SELECTOR_DROPDOWN_TOGGLE,", .list-group-item").concat(NOT_SELECTOR_DROPDOWN_TOGGLE,', [role="tab"]').concat(NOT_SELECTOR_DROPDOWN_TOGGLE),SELECTOR_DATA_TOGGLE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',SELECTOR_INNER_ELEM="".concat(SELECTOR_INNER,", ").concat(SELECTOR_DATA_TOGGLE),SELECTOR_DATA_TOGGLE_ACTIVE=".".concat(CLASS_NAME_ACTIVE,'[data-bs-toggle="tab"], .').concat(CLASS_NAME_ACTIVE,'[data-bs-toggle="pill"], .').concat(CLASS_NAME_ACTIVE,'[data-bs-toggle="list"]');class Tab extends BaseComponent{constructor(n){super(n),this._parent=this._element.closest(SELECTOR_TAB_PANEL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),EventHandler.on(this._element,EVENT_KEYDOWN,a=>this._keydown(a)))}static get NAME(){return NAME$1}show(){const n=this._element;if(this._elemIsActive(n))return;const a=this._getActiveElem(),c=a?EventHandler.trigger(a,EVENT_HIDE$1,{relatedTarget:n}):null;EventHandler.trigger(n,EVENT_SHOW$1,{relatedTarget:a}).defaultPrevented||c&&c.defaultPrevented||(this._deactivate(a,n),this._activate(n,a))}_activate(n,a){if(!n)return;n.classList.add(CLASS_NAME_ACTIVE),this._activate(SelectorEngine.getElementFromSelector(n));const c=()=>{if(n.getAttribute("role")!=="tab"){n.classList.add(CLASS_NAME_SHOW$1);return}n.removeAttribute("tabindex"),n.setAttribute("aria-selected",!0),this._toggleDropDown(n,!0),EventHandler.trigger(n,EVENT_SHOWN$1,{relatedTarget:a})};this._queueCallback(c,n,n.classList.contains(CLASS_NAME_FADE$1))}_deactivate(n,a){if(!n)return;n.classList.remove(CLASS_NAME_ACTIVE),n.blur(),this._deactivate(SelectorEngine.getElementFromSelector(n));const c=()=>{if(n.getAttribute("role")!=="tab"){n.classList.remove(CLASS_NAME_SHOW$1);return}n.setAttribute("aria-selected",!1),n.setAttribute("tabindex","-1"),this._toggleDropDown(n,!1),EventHandler.trigger(n,EVENT_HIDDEN$1,{relatedTarget:a})};this._queueCallback(c,n,n.classList.contains(CLASS_NAME_FADE$1))}_keydown(n){if(![ARROW_LEFT_KEY,ARROW_RIGHT_KEY,ARROW_UP_KEY,ARROW_DOWN_KEY,HOME_KEY,END_KEY].includes(n.key))return;n.stopPropagation(),n.preventDefault();const a=this._getChildren().filter(f=>!isDisabled(f));let c;if([HOME_KEY,END_KEY].includes(n.key))c=a[n.key===HOME_KEY?0:a.length-1];else{const f=[ARROW_RIGHT_KEY,ARROW_DOWN_KEY].includes(n.key);c=getNextActiveElement(a,n.target,f,!0)}c&&(c.focus({preventScroll:!0}),Tab.getOrCreateInstance(c).show())}_getChildren(){return SelectorEngine.find(SELECTOR_INNER_ELEM,this._parent)}_getActiveElem(){return this._getChildren().find(n=>this._elemIsActive(n))||null}_setInitialAttributes(n,a){this._setAttributeIfNotExists(n,"role","tablist");for(const c of a)this._setInitialAttributesOnChild(c)}_setInitialAttributesOnChild(n){n=this._getInnerElement(n);const a=this._elemIsActive(n),c=this._getOuterElement(n);n.setAttribute("aria-selected",a),c!==n&&this._setAttributeIfNotExists(c,"role","presentation"),a||n.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(n,"role","tab"),this._setInitialAttributesOnTargetPanel(n)}_setInitialAttributesOnTargetPanel(n){const a=SelectorEngine.getElementFromSelector(n);a&&(this._setAttributeIfNotExists(a,"role","tabpanel"),n.id&&this._setAttributeIfNotExists(a,"aria-labelledby","".concat(n.id)))}_toggleDropDown(n,a){const c=this._getOuterElement(n);if(!c.classList.contains(CLASS_DROPDOWN))return;const f=(d,u)=>{const h=SelectorEngine.findOne(d,c);h&&h.classList.toggle(u,a)};f(SELECTOR_DROPDOWN_TOGGLE,CLASS_NAME_ACTIVE),f(SELECTOR_DROPDOWN_MENU,CLASS_NAME_SHOW$1),c.setAttribute("aria-expanded",a)}_setAttributeIfNotExists(n,a,c){n.hasAttribute(a)||n.setAttribute(a,c)}_elemIsActive(n){return n.classList.contains(CLASS_NAME_ACTIVE)}_getInnerElement(n){return n.matches(SELECTOR_INNER_ELEM)?n:SelectorEngine.findOne(SELECTOR_INNER_ELEM,n)}_getOuterElement(n){return n.closest(SELECTOR_OUTER)||n}static jQueryInterface(n){return this.each(function(){const a=Tab.getOrCreateInstance(this);if(typeof n=="string"){if(a[n]===void 0||n.startsWith("_")||n==="constructor")throw new TypeError('No method named "'.concat(n,'"'));a[n]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(l){["A","AREA"].includes(this.tagName)&&l.preventDefault(),!isDisabled(this)&&Tab.getOrCreateInstance(this).show()});EventHandler.on(window,EVENT_LOAD_DATA_API,()=>{for(const l of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE))Tab.getOrCreateInstance(l)});defineJQueryPlugin(Tab);const NAME="toast",DATA_KEY="bs.toast",EVENT_KEY=".".concat(DATA_KEY),EVENT_MOUSEOVER="mouseover".concat(EVENT_KEY),EVENT_MOUSEOUT="mouseout".concat(EVENT_KEY),EVENT_FOCUSIN="focusin".concat(EVENT_KEY),EVENT_FOCUSOUT="focusout".concat(EVENT_KEY),EVENT_HIDE="hide".concat(EVENT_KEY),EVENT_HIDDEN="hidden".concat(EVENT_KEY),EVENT_SHOW="show".concat(EVENT_KEY),EVENT_SHOWN="shown".concat(EVENT_KEY),CLASS_NAME_FADE="fade",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SHOWING="showing",DefaultType={animation:"boolean",autohide:"boolean",delay:"number"},Default={animation:!0,autohide:!0,delay:5e3};class Toast extends BaseComponent{constructor(n,a){super(n,a),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}show(){if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(CLASS_NAME_FADE);const a=()=>{this._element.classList.remove(CLASS_NAME_SHOWING),EventHandler.trigger(this._element,EVENT_SHOWN),this._maybeScheduleHide()};this._element.classList.remove(CLASS_NAME_HIDE),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW,CLASS_NAME_SHOWING),this._queueCallback(a,this._element,this._config.animation)}hide(){if(!this.isShown()||EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const a=()=>{this._element.classList.add(CLASS_NAME_HIDE),this._element.classList.remove(CLASS_NAME_SHOWING,CLASS_NAME_SHOW),EventHandler.trigger(this._element,EVENT_HIDDEN)};this._element.classList.add(CLASS_NAME_SHOWING),this._queueCallback(a,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(CLASS_NAME_SHOW),super.dispose()}isShown(){return this._element.classList.contains(CLASS_NAME_SHOW)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(n,a){switch(n.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=a;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=a;break}}if(a){this._clearTimeout();return}const c=n.relatedTarget;this._element===c||this._element.contains(c)||this._maybeScheduleHide()}_setListeners(){EventHandler.on(this._element,EVENT_MOUSEOVER,n=>this._onInteraction(n,!0)),EventHandler.on(this._element,EVENT_MOUSEOUT,n=>this._onInteraction(n,!1)),EventHandler.on(this._element,EVENT_FOCUSIN,n=>this._onInteraction(n,!0)),EventHandler.on(this._element,EVENT_FOCUSOUT,n=>this._onInteraction(n,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(n){return this.each(function(){const a=Toast.getOrCreateInstance(this,n);if(typeof n=="string"){if(typeof a[n]>"u")throw new TypeError('No method named "'.concat(n,'"'));a[n](this)}})}}enableDismissTrigger(Toast);defineJQueryPlugin(Toast);const Event$1={q:{socket_open:[],socket_data:[],socket_before_close:[],socket_close:[],chat_open:[],chat_data:[],chat_before_close:[],chat_close:[],telnet_open:[],telnet_before_close:[],telnet_close:[],before_process:[],after_protocols:[],before_html:[],internal_colorize:[],internal_mxp:[],before_display:[],after_display:[],before_send:[],scrollview_ready:[],scrollview_add:[],chatterbox_ready:[],controlpanel_ready:[],will_msdp:[],msdp:[],will_gmcp:[],gmcp:[],will_atcp:[],atcp:[],will_mxp:[],mxp_elements:[],mxp_entity:[],mxp_frame:[],mxp_dest:[],window_open:[],window_close:[],window_front:[],window_hide:[],window_show:[]},fire(l,n,a){return this.q[l]?this.q[l].reduce((c,f)=>f(c,a),n):(log("Event.js: No such event to fire: ".concat(l)),0)},listen(l,n){return this.q[l]?(this.q[l].push(n),1):(log("Event.js: No such event to subscribe to: ".concat(l)),0)},drop(l,n){if(!this.q[l])return log("Event.js: No such event to drop from: ".concat(l)),0;const a=this.q[l].indexOf(n);return a!==-1?(this.q[l].splice(a,1),1):0},create(l){if(this.q[l]){log("Event.js: This event already exists and will not be created: ".concat(l));return}this.q[l]=[],log("Event.js: Event created: ".concat(l))},destroy(l){if(!this.q[l]){log("Event.js: This event does not exist and will not be destroyed: ".concat(l));return}delete this.q[l],log("Event.js: Event destroyed: ".concat(l))}},j$b=jQuery;class Modal{constructor(n){log("Modal.init"),this.options=n,this.options.backdrop=n.backdrop||!1,this.modalInstance=null,this.init()}close(){log("Modal.close"),this.options.abort&&Config$1.Socket.write(this.options.abort),this.modalInstance&&this.modalInstance.hide()}init(){const n=this.options;if(n.close&&n.close===1){const d=document.querySelector(".modal");if(d){const u=Modal$1.getInstance(d);u&&u.hide()}return}if(n.mxp&&(n.replace=1,n.mxp=Config$1.mxp.translate(n.mxp),n.text=n.text?n.mxp+n.text:n.mxp),n.text&&(n.text=Config$1.mxp.prep(n.text)),n.error&&(n.error=Config$1.mxp.prep(n.error)),n.info&&(n.info=Config$1.mxp.prep(n.info)),n.monospace!==void 0&&!n.monospace&&(n.html=n.text,delete n.text,log("monospace option is false")),n.replace&&j$b(".modal-plain").length&&j$b(".modal").is(":visible")){log("modal (simple) found in replace mode"),j$b(".modal h3").html(n.title),j$b(".modal .modal-body").html(n.text||n.html),this.setupButtons(),this.setupLinks();return}const a=document.querySelector(".modal");if(a){const d=Modal$1.getInstance(a);d&&d.hide()}const c='\n      <div class="modal '.concat(n.class||"",' modal-plain fade" tabindex="-1">\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title">').concat(n.title||"",'</h5>\n              <button type="button" class="btn-close mo-dismiss" data-bs-dismiss="modal" aria-label="Close"></button>\n            </div>\n            <div class="modal-body">\n              ').concat(n.info?'<div class="alert alert-info">'.concat(n.info,"</div>"):"","\n              ").concat(n.error?'<div class="alert alert-danger">'.concat(n.error,"</div>"):"","\n              ").concat(n.text?'<div class="modal-text-content">'.concat(n.text,"</div>"):n.html||"",'\n            </div>\n            <div class="modal-footer">\n              <button class="btn btn-primary kbutton ok-button dismiss mo-dismiss" data-bs-dismiss="modal">OK</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    ');j$b("body").append(c),this.setupButtons(),this.setupLinks(),(n.closeText||n.cancelText)&&j$b(".modal .dismiss").html(n.closeText||n.cancelText),n.showOk===!1&&j$b(".modal .ok-button").remove(),(n.closeable===!1||n.closeable===0)&&j$b(".modal .btn-close").remove();const f=document.querySelector(".modal");this.modalInstance=new Modal$1(f,{backdrop:this.options.backdrop?!0:"static",keyboard:!0}),j$b(".modal .mo-dismiss").on("click",()=>this.close()),n.css&&(n.css.width&&(n.css["margin-left"]=-(n.css.width/2)),j$b(".modal").css(n.css)),this.modalInstance.show()}setupButtons(){const n=this.options;n.buttons&&(j$b(".modal-footer .btn").not(".dismiss").remove(),Array.isArray(n.buttons)?n.buttons.forEach((a,c)=>{const f='\n          <button class="btn btn-secondary kbutton custom-'.concat(c,'"\n            ').concat((a.keep,""),">\n            ").concat(a.text,"\n          </button>\n        ");j$b(".modal-footer").append(f);const d=j$b(".modal-footer .custom-"+c);a.send&&d.on("click",()=>{Config$1.Socket.write(a.send),a.keep||this.modalInstance.hide()}),a.handler&&d.on("click",u=>{u.preventDefault(),a.handler(),a.keep||this.modalInstance.hide()}),a.css&&d.css(a.css)}):Object.entries(n.buttons).forEach(([a,c],f)=>{const d='\n          <button class="btn btn-secondary kbutton custom-'.concat(f,'" \n            data-bs-dismiss="modal">\n            ').concat(a,"\n          </button>\n        ");j$b(".modal-footer").append(d),j$b(".modal-footer .custom-"+f).click(()=>{Config$1.Socket.write(c)})}))}setupLinks(){const n=this.options;n.links&&(j$b(".modal-footer .modal-links").remove(),j$b(".modal-footer").prepend('\n      <div class="modal-links float-start" \n           style="position: relative; z-index: 1; font-size: 11px; opacity: 0.7">\n      </div>\n    '),Array.isArray(n.links)?n.links.forEach((a,c)=>{j$b(".modal-links").append('\n          <a class="link-'.concat(c,'" \n             ').concat(a.keep?"":'data-bs-dismiss="modal"',">\n            ").concat(a.text,"\n          </a><br>\n        ")),j$b(".modal-links .link-"+c).click(a.click),a.css&&j$b(".modal-links .link-"+c).css(a.css)}):Object.entries(n.links).forEach(([a,c],f)=>{j$b(".modal-links").append('\n          <a class="link-'.concat(f,'" data-bs-dismiss="modal">\n            ').concat(a,"\n          </a><br>\n        ")),j$b(".modal-links .link-"+f).click(()=>{Config$1.Socket.write(c)})}))}}document.addEventListener("shown.bs.modal",()=>{j$b(".modal .modal-body").niceScroll({cursorborder:"none",cursorwidth:7})});document.addEventListener("hide.bs.modal",()=>{j$b(".modal .modal-body").getNiceScroll().remove(),j$b(".modal a, .modal button").off("click"),j$b(".modal input, .modal textarea").off("keydown"),j$b(".modal, .modal-backdrop").remove()});Event$1.listen("gmcp",l=>{if(!(l!=null&&l.startsWith("Modal ")))return l;log("Modal: gmcp trigger");try{const n=JSON.parse(l.match(/^[^ ]+ (.*)/)[1]);new Modal(n)}catch(n){log("Modal parse error:",n)}return l});const j$a=jQuery;class Window{constructor(n={}){var a;this.options={id:"#scroll-view",title:"ScrollView",css:{height:380,width:380},...n},this.minZ=100,this.viewId=config$1.view,this.id="",this.position=null,this.width=null,this.height=null,this.maximized=!1,this.wasAt=null,this.tabsInitialized=!1,this.drag=!config$1.device.mobile&&!param("kong")&&!param("gui")&&!param("embed")&&!n.nodrag&&!config$1.nodrag,this.doResize=!n.noresize&&!param("embed")&&!config$1.nodrag,this.save=window.user&&window.user.id&&config$1.host&&!config$1.kong&&!param("gui")&&!param("embed"),this.handle=!n.handle&&!n.transparent,this.options.closeable=(a=n.closeable)!=null?a:this.drag,this.options.tabs=n.tabs||[],(config$1.device.touch||param("gui"))&&(this.options.handle=".none"),this.initialize()}initialize(){var a;const n=this.options;n.id=n.id.startsWith("#")?n.id:"#"+n.id,this.id=n.id,log("Window.init: ".concat(this.id)),this.createWindowElement(),this.setupHandle(),this.setTitle(n.title||""),this.setupTransparency(),this.setupButtons(),this.setupEventHandlers(),this.setupStyles(),this.setupResizable(),this.setupPosition(),((a=this.options.tabs)==null?void 0:a.length)>0&&this.setupTabsStructure(),this.bringToFront(!1),j$a(this.options.id).get(0).win=this,Event$1.fire("window_open",this)}createWindowElement(){j$a(".app").prepend('\n      <div id="'.concat(this.id.slice(1),'" class="window ').concat(this.options.class||"",'" >\n        <div class="content"></div>\n      </div>\n    '))}setupHandle(){this.handle?(j$a(this.id).prepend('\n        <div class="handle">\n          <div class="title" style="width: 100%; text-align: center; text-overflow: ellipsis;">\n            '.concat(this.options.title||"&nbsp;",'\n          </div>\n          <div class="toolbar"></div>\n        </div>\n      ')),this.options.handle=".handle"):j$a("".concat(this.id," .content")).css({top:0})}setupTransparency(){this.options.transparent&&(j$a("".concat(this.id," .content")).css({"background-color":"transparent",top:0}),j$a(this.id).css("border","none"),this.options.handle=".content")}setupButtons(){this.options.closeable&&this.addButton({icon:"fa-solid fa-xmark",title:"Close this window",click:()=>{this.options.onClose&&this.options.onClose(),Event$1.fire("window_close",j$a(this.id)),j$a("".concat(this.id," .nice")).getNiceScroll().remove(),j$a(this.id).remove()}})}addButton(n){const a="btn-".concat(Math.random().toString(36).substr(2,9));j$a("".concat(this.id," .toolbar")).prepend('\n      <a class="toolbar-button '.concat(a,' tip" title="').concat(n.title,'">\n        <i class="').concat(n.icon,'"></i>\n      </a>\n    ')),j$a("".concat(this.id," .").concat(a)).tooltip({container:"body",placement:"bottom",trigger:"hover"}),j$a("".concat(this.id," .").concat(a)).click(n.click)}setupEventHandlers(){j$a(this.id).click(()=>this.bringToFront()),this.setupDraggable(),config$1.Toolbar&&j$a("".concat(this.id," .handle")).dblclick(()=>this.hide())}setupStyles(){j$a(this.id).css({overflow:"hidden"}),this.options.nofront&&j$a(this.id).addClass("nofront"),this.options.nofade&&j$a(this.id).addClass("nofade"),j$a("".concat(this.id," .ui-resizable-handle")).css("z-index",j$a(this.id).css("z-index"))}setupResizable(){this.doResize&&j$a(this.id).resizable({minWidth:60,width:300,handles:"all",stop:(n,a)=>{this.resize(),this.options.onResize&&this.options.onResize(),this.savePosition()}})}setupPosition(){this.getPosition(this.options),j$a(this.id).css(this.options.css),j$a("".concat(this.id," .handle")).length&&j$a("".concat(this.id," .content")).height(j$a(this.id).height()-28)}setupDraggable(n=!1){try{j$a(this.id).draggable("destroy")}catch(a){}if(n||!this.drag){j$a("".concat(this.id," .ui-resizable-handle")).remove();return}j$a(this.id).draggable({handle:this.options.handle||".handle",snap:this.options.snap||!1,iframeFix:this.options.iframe||!1,scroll:!1,cursor:"move",containment:"window",stack:".window",start:(a,c)=>{j$a(this.id).addClass("ui-draggable-dragging"),this.wasAt=c.position},drag:(a,c)=>{const f=j$a(window).width(),d=j$a(window).height(),u=j$a(this.id).width(),h=j$a(this.id).height();c.position.left=Math.max(0,Math.min(c.position.left,f-u)),c.position.top=Math.max(0,Math.min(c.position.top,d-h))},stop:(a,c)=>{j$a(this.id).removeClass("ui-draggable-dragging"),this.savePosition()}}),j$a("".concat(this.id," ").concat(this.options.handle||".handle")).css("cursor","move")}resize(){this.options.onResize&&this.options.onResize();const n=j$a(this.id).height(),a=this.handle?n-18:n;j$a("".concat(this.id," .content")).height(a).width(j$a(this.id).width()),j$a("".concat(this.id," .tab-content")).height(j$a(this.id).height()-j$a("".concat(this.id," .nav-tabs")).height()),j$a("".concat(this.id," .tab-pane")).each(function(){const c=j$a(this);c.parent().width();const f=c.parent().height();let d=f;c.find(".footer")&&(d-=c.find(".footer").height()+4),c.css({height:f,width:"100%"}),c.find(".content").css({height:d,width:"100%"})}),this.renice()}renice(){j$a("".concat(this.id," .nice")).each(function(){j$a(this).getNiceScroll().resize()})}bringToFront(n=!0){if(j$a(this.id).hasClass("nofront"))return;if(config$1.front===this.id){Event$1.fire("window_front",this.id);return}log("Window.front: ".concat(this.id)),j$a(this.id).css("opacity",1);const a=[];if(parseInt(j$a(this.id).css("z-index")),j$a(this.id).siblings().each(function(){j$a(this).hasClass("window")&&(a.push({id:"#"+j$a(this).attr("id"),z:parseInt(j$a(this).css("z-index"))}),j$a(this).hasClass("nofade")||j$a(this).css("opacity",.3))}),!a.length)return log("solo window. no front needed");a.sort((c,f)=>c.z-f.z),a.push({id:this.id,z:0}),a.forEach((c,f)=>{j$a(c.id).css("z-index",this.minZ+f)}),config$1.front=this.id,log("Window.front(ed): ".concat(this.id)),Event$1.fire("window_front",this.id),n&&this.savePosition()}savePosition(){this.save&&(window.user.pref.win||(window.user.pref.win={}),window.user.pref.win[this.viewId]||(window.user.pref.win[this.viewId]={}),j$a(".window").each((n,a)=>{const c=j$a(a),f=c.attr("id"),u={offset:c.offset(),width:c.width(),height:c.height(),zIndex:parseInt(c.css("z-index")),opacity:parseFloat(c.css("opacity")),collapsed:c.is(":visible")?0:1};window.user.pref.win[this.viewId]["#"+f]=u,log("Saving window position: #".concat(f," ").concat(stringify(u)))}),j$a.post("?option=com_portal&task=set_pref",{pref:stringify(window.user.pref)}))}getPosition(n){var h,E;if(!this.save||!window.user.id||!((h=window.user.pref)!=null&&h.win))return!0;log("Restoring saved position: ".concat(n.id));const a=window.user.pref.win,c=Object.keys(a);for(;c.length>20;)log("Trimming window pref length: ".concat(c.length)),delete a[c[0]];if(!((E=a[this.viewId])!=null&&E[n.id]))return log("no stored position for ".concat(n.id)),log(a),!0;const f=a[this.viewId][n.id],d=j$a(window).width(),u=j$a(window).height();return f.offset.left=Math.max(0,Math.min(f.offset.left,d-f.width)),f.offset.top=Math.max(0,Math.min(f.offset.top,u-f.height)),n.css={...n.css,left:f.offset.left,top:f.offset.top,width:f.width||n.css.width,height:f.height||n.css.height,zIndex:f.zIndex||n.css.zIndex},delete n.css.right,delete n.css.bottom,f.collapsed&&this.hide(),log(stringify(n)),!1}addTab(n){n.html=n.html||"";const a=this.options.tabs.length;return this.options.tabs.push(n),j$a("".concat(this.id," .content .tabs")).length||this.setupTabsStructure(),this.createTab(n,a),this.initializeTabs(),this.resize(),"".concat(this.id," #tab-").concat(a)}setupTabsStructure(){j$a("".concat(this.id," .content")).prepend('\n      <ul class="tabs nav nav-tabs"></ul>\n      <div class="tab-content"></div>\n    '),j$a("".concat(this.id," .content")).css("background-color","transparent"),j$a("".concat(this.id," .tabs:hover")).css({cursor:"move"}),this.options.handle=".nav-tabs",this.setupDraggable()}setFirstTabActive(){const a=document.querySelectorAll("".concat(this.id,' [data-bs-toggle="tab"]'))[0];if(a){const c=document.querySelector(a.getAttribute("href"));c&&(c.classList.add("active","show"),a.classList.add("active"))}}initializeTabs(){const n=document.querySelectorAll("".concat(this.id,' [data-bs-toggle="tab"]'));n.forEach(a=>{new bootstrap_bundle_minExports.Tab(a),a.addEventListener("click",c=>{c.preventDefault();const f=document.querySelector(a.getAttribute("href"));f&&(document.querySelectorAll("".concat(this.id," .tab-pane")).forEach(d=>{d.classList.remove("active","show")}),f.classList.add("active","show"),n.forEach(d=>d.classList.remove("active")),a.classList.add("active"))})}),this.setFirstTabActive(),this.tabsInitialized=!0}createTab(n,a){const c='\n      <li class="nav-item">\n        <a class="kbutton '.concat(n.id?n.id.replace("#",""):"",'" \n          data-bs-toggle="tab" \n          href="#tab-').concat(a,'"\n          role="tab"\n          aria-controls="tab-').concat(a,'"\n          aria-selected="false">\n          ').concat(n.name,"\n        </a>\n      </li>\n    ");n.before?n.before&&j$a(c).insertBefore(j$a("".concat(this.options.id," .nav-tabs li:first-child"))):j$a("".concat(this.id," .nav-tabs")).append(c),j$a("".concat(this.options.id," .tab-content")).append('\n      <div class="tab-pane fade '.concat(n.class||"",'" \n          id="tab-').concat(a,'"\n          role="tabpanel"\n          aria-labelledby="tab-').concat(a,'-tab">\n        ').concat(n.html||"","\n      </div>")),this.tabsInitialized&&(j$a("".concat(this.id," .nav-tabs .nav-item a")).removeClass("active"),j$a("".concat(this.id," .tab-content .tab-pane")).removeClass("active show"),this.setFirstTabActive());const f=document.querySelector("".concat(this.options.id," #tab-").concat(a," .content"));if(f){const d=new ResizeObserver(()=>{this.resize()});try{d.observe(f)}catch(u){log("Error setting up ResizeObserver:",u)}}if(n.scroll){const d=j$a("".concat(this.options.id," #tab-").concat(a," .content"));d.css({height:"inherit",overflow:"hidden",position:"relative",padding:"0 10px 10px 10px"}),d.addClass("nice").niceScroll({cursorborder:"none",preservenativescrolling:!1,overflowx:!1,railoffset:{top:0,right:0},bouncescroll:!1})}return"".concat(this.id," #tab-").concat(a)}dock(n){const a=this.addTab(n);log("request to dock window: ".concat(n.id," -> ").concat(a)),j$a(n.id).detach().appendTo(a).css({left:0,right:"auto",top:0,bottom:"auto",height:"100%",width:"100%",position:"relative",zIndex:"inherit",borderWidth:0}).removeClass("window");const c=j$a(n.id).get(0).win;return c.draggable(0),c.resize(),c.show(),j$a(n.id).find(".icon-remove").remove(),a}setTitle(n){if(n)this.options.title=n,j$a("".concat(this.id," .title")).html(n);else return this.options.title}maximize(){this.position=j$a(this.id).position(),this.width=j$a(this.id).width(),this.height=j$a(this.id).height();const n=j$a(this.id).parent();return j$a(this.id).css({width:n.width(),height:n.height(),top:0,left:0}),this}show(){return j$a(this.id).show(),Event$1.fire("window_show",this.id),this.bringToFront(),this}hide(){return j$a(this.id).hide(),Event$1.fire("window_hide",this.id),this.savePosition(),this}draggable(n){return this.setupDraggable(n)}}const colors256=["#000","#B00","#0B0","#BB0","#00B","#B0B","#0BB","#BBB","#555","#F55","#5F5","#FF5","#55F","#F5F","#5FF","#FFF","#000","#005","#008","#00B","#00D","#00F","#050","#055","#058","#05B","#05D","#05F","#080","#085","#088","#08B","#08D","#08F","#0B0","#0B5","#0B8","#0BB","#0BD","#0BF","#0D0","#0D5","#0D8","#0DB","#0DD","#0DF","#0F0","#0F5","#0F8","#0FB","#0FD","#0FF","#500","#505","#508","#50B","#50D","#50F","#550","#555","#558","#55B","#55D","#55F","#580","#585","#588","#58B","#58D","#58F","#5B0","#5B5","#5B8","#5BB","#5BD","#5BF","#5D0","#5D5","#5D8","#5DB","#5DD","#5DF","#5F0","#5F5","#5F8","#5FB","#5FD","#5FF","#800","#805","#808","#80B","#80D","#80F","#850","#855","#858","#85B","#85D","#85F","#880","#885","#888","#88B","#88D","#88F","#8B0","#8B5","#8B8","#8BB","#8BD","#8BF","#8D0","#8D5","#8D8","#8DB","#8DD","#8DF","#8F0","#8F5","#8F8","#8FB","#8FD","#8FF","#B00","#B05","#B08","#B0B","#B0D","#B0F","#B50","#B55","#B58","#B5B","#B5D","#B5F","#B80","#B85","#B88","#B8B","#B8D","#B8F","#BB0","#BB5","#BB8","#BBB","#BBD","#BBF","#BD0","#BD5","#BD8","#BDB","#BDD","#BDF","#BF0","#BF5","#BF8","#BFB","#BFD","#BFF","#D00","#D05","#D08","#D0B","#D0D","#D0F","#D50","#D55","#D58","#D5B","#D5D","#D5F","#D80","#D85","#D88","#D8B","#D8D","#D8F","#DB0","#DB5","#DB8","#DBB","#DBD","#DBF","#DD0","#DD5","#DD8","#DDB","#DDD","#DDF","#DF0","#DF5","#DF8","#DFB","#DFD","#DFF","#F00","#F05","#F08","#F0B","#F0D","#F0F","#F50","#F55","#F58","#F5B","#F5D","#F5F","#F80","#F85","#F88","#F8B","#F8D","#F8F","#FB0","#FB5","#FB8","#FBB","#FBD","#FBF","#FD0","#FD5","#FD8","#FDB","#FDD","#FDF","#FF0","#FF5","#FF8","#FFB","#FFD","#FFF","rgb(8,8,8)","rgb(18,18,18)","rgb(28,28,28)","rgb(38,38,38)","rgb(48,48,48)","rgb(58,58,58)","rgb(68,68,68)","rgb(78,78,78)","rgb(88,88,88)","rgb(98,98,98)","rgb(108,108,108)","rgb(118,118,118)","rgb(128,128,128)","rgb(138,138,138)","rgb(148,148,148)","rgb(158,158,158)","rgb(168,168,168)","rgb(178,178,178)","rgb(188,188,188)","rgb(198,198,198)","rgb(208,208,208)","rgb(218,218,218)","rgb(228,228,228)","rgb(238,238,238)"];class Colorize{constructor(){X(this,"process",n=>n.includes("\x1B")?this.colorize(n):n);this.ansi={30:"#000","1;30":"#6E6E6E",31:"#bf1b00","1;31":"#ff193f",32:"#00ac00","1;32":"#a1e577",33:"#DAA520","1;33":"#f3df00",34:"#1f68d5","1;34":"#3680ee",35:"#a501a7","1;35":"#e100e4",36:"#01c8d4","1;36":"#5bedf6",37:"#dbdbdb","1;37":"#fff; font-weight: bold",39:"#dbdbdb"},this.bgansi={40:"Black","1;40":"DimGray",41:"Red","1;41":"OrangeRed",42:"Green","1;42":"LightGreen,",43:"GoldenRod","1;43":"Gold",44:"Blue","1;44":"LightSkyBlue",45:"DarkOrchid","1;45":"Magenta",46:"Cyan","1;46":"LightCyan",47:"FloralWhite","1;47":"White",49:"Black","1;49":"DimGray"},this.other={"[1m":"<b>","[3m":"<i>","[4m":"<u>","[7m":"","[9m":"<s>","[22m":"</b>","[23m":"</i>","[24m":"</u>","[27m":"","[29m":"</s>"},this.colors256=colors256}prep(n){return n.replace(/\033/g,";").replace(/[m\[]/g,"").split(";").slice(1)}stripANSI(n){return n.replace(/\033\[[0-9;]+?m/g,"")}colorize(n){n.includes("[7m")&&(n=n.replace(/(\033\[.*?)3([0-9])(.*?m)\033\[7m/g,"$14$2$3")),n="<span>"+n,n=n.replace(/\033\[[0;]+m/g,"</span><span>");const a=n.match(/(\033\[[0-9;]+m\033\[[0-9;]+m|\033\[[0-9;]+m)/g);return a?([...new Set(a)].sort((f,d)=>d.length-f.length).forEach(f=>{let d="",u="",h="",E="",m=!1;const b=this.prep(f);b.forEach(T=>{T==="1"?h=" font-weight: bold;":T==="3"&&(E=" font-style: italic;")}),b.forEach((T,$)=>{T==="5"?b[$-1]==="38"?(d="color:".concat(this.colors256[parseInt(b[$+1])],";"),m=!0):b[$-1]==="48"&&(u=" background-color:".concat(this.colors256[parseInt(b[$+1])],";"),m=!0):!m&&this.ansi[T]?d="color:".concat(h?this.ansi["1;".concat(T)]:this.ansi[T],";"):!m&&this.bgansi[T]&&(u=" background-color:".concat(h?this.bgansi["1;".concat(T)]:this.bgansi[T],";"))});let _="</span><span";(d||u||h||E)&&(_+=' style="'.concat(d).concat(u).concat(h).concat(E,'"')),_+=">";const v=new RegExp(f.replace(/\[/g,"\\["),"g");n=n.replace(v,_)}),Object.entries(this.other).forEach(([f,d])=>{const u=new RegExp("\x1B\\".concat(f),"g");n=n.replace(u,d)}),n=n.replace(/\033\[[0-9;]+?m/g,"").replace(/\033\[2J/g,"").replace(/\033\[0c/g,""),n.replace(/<span><\/span>/g,"").replace(/<span>\s*<\/span>/g,"")+"</span>"):n+"</span>"}}var base64alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Base64Reader(l){this.position=0,this.base64=l,this.bits=0,this.bitsLength=0,this.readByte=function(){if(this.bitsLength==0){for(var n=0;this.position<this.base64.length&&this.bitsLength<24;){var a=this.base64.charAt(this.position);if(++this.position,a>" "){var c=base64alphabet.indexOf(a);if(c<0)throw"Invalid base64 character";if(c<64){if(n>0)throw"Invalid encoding (padding)";this.bits=this.bits<<6|c}else{if(this.bitsLenght<8)throw"Invalid encoding (extra)";this.bits<<=6,n+=6}this.bitsLength+=6}}if(this.position>=this.base64.length){if(this.bitsLength==0)return-1;if(this.bitsLength<24)throw"Invalid encoding (end)"}n==6?n=8:n==12&&(n=16),this.bits=this.bits>>n,this.bitsLength-=n}this.bitsLength-=8;var f=this.bits>>this.bitsLength&255;return f}}function BitReader(l){this.bitsLength=0,this.bits=0,this.reader=l,this.readBit=function(){if(this.bitsLength==0){var n=this.reader.readByte();if(n<0)throw new"Unexpected end of stream";this.bits=n,this.bitsLength=8}var a=(this.bits&1)!=0;return this.bits>>=1,--this.bitsLength,a},this.align=function(){this.bitsLength=0},this.readLSB=function(n){for(var a=0,c=0;c<n;++c)this.readBit()&&(a|=1<<c);return a},this.readMSB=function(n){for(var a=0,c=0;c<n;++c)this.readBit()?a=a<<1|1:a<<=1;return a}}function TextReader(l){this.translator=l,this.unreads=new Array(0),this.readChar=function(){return this.unreads.length>0?this.unreads.pop():l.readChar()},this.unreadChar=function(n){this.unreads.push(n)},this.readToEnd=function(){for(var n="",a="",c=this.readChar();c!=null;)a+=c,a.length>1e3&&(n+=a,a=""),c=this.readChar();return n+a},this.readLine=function(){var n="",a=this.readChar();if(a==null)return null;for(;a!="\r"&&a!="\n";)if(n+=a,a=this.readChar(),a==null)return n;return a=="\r"&&(a=this.readChar(),a!=null&&a!="\n"&&this.unreadChar(a)),n}}function Utf8Translator(l){this.reader=l,this.waitBom=!0,this.pendingChar=null,this.readChar=function(){var n=null;do{if(this.pendingChar!=null)n=this.pendingChar,this.pendingChar=null;else{var a=this.reader.readByte();if(a<0)return null;if((a&128)==0)n=String.fromCharCode(a);else{var c=192,f=5;do{var d=c>>1|128;if((a&d)==c)break;c=c>>1|128,--f}while(f>=0);if(f>0){for(var u=a&(1<<f)-1,h=5;h>=f;--h){var E=this.reader.readByte();if((E&192)!=128)return n=String.fromCharCode(a),this.pendingChar=String.fromCharCode(E),n;u=u<<6|E&63}if(u<=65535)u==65279&&this.waitBom?n=null:n=String.fromCharCode(u);else{var m=u-65536,b=55296|m>>10&1023,_=56320|m&1023;this.pendingChar=String.fromCharCode(_),n=String.fromCharCode(b)}}else return n=String.fromCharCode(a),n}}this.waitBom=!1}while(n==null);return n}}var staticCodes,staticDistances,encodedLengthStart=new Array(3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258),encodedLengthAdditionalBits=new Array(0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0),encodedDistanceStart=new Array(1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577),encodedDistanceAdditionalBits=new Array(0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13),clenMap=new Array(16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15);function buildCodes(l){for(var n=new Array(l.length),a=l[0],c=1;c<l.length;c++)a<l[c]&&(a=l[c]);for(var f=new Array(a+1),c=0;c<=a;c++)f[c]=0;for(var c=0;c<l.length;c++)++f[l[c]];var d=new Array(a+1),u=0;f[0]=0;for(var h=1;h<=a;h++)u=u+f[h-1]<<1,d[h]=u;for(var E=0;E<n.length;E++){var m=l[E];m!=0&&(n[E]=d[m],d[m]++)}return n}function initializeStaticTrees(){for(var l=new Array(288),n=new Array(288),a=0;a<=143;a++)l[a]=48+a,n[a]=8;for(var a=144;a<=255;a++)l[a]=400+a-144,n[a]=9;for(var a=256;a<=279;a++)l[a]=0+a-256,n[a]=7;for(var a=280;a<=287;a++)l[a]=192+a-280,n[a]=8;staticCodes=buildTree(l,n);for(var c=new Array(32),f=new Array(32),a=0;a<=31;a++)c[a]=a,f[a]=5;staticDistances=buildTree(c,f)}function buildTree(l,n){for(var a=new Array(0),c=0;c<l.length;++c)if(n[c]>0){var f=new Object;f.bits=l[c],f.length=n[c],f.index=c,a.push(f)}return buildTreeBranch(a,0,0)}function buildTreeBranch(l,n,a){if(l.length==0)return null;var c=new Array(0),f=new Array(0),d=new Object;d.isLeaf=!1;for(var u=0;u<l.length;++u)if(l[u].length==a&&l[u].bits==n){d.isLeaf=!0,d.index=l[u].index;break}else{var h=(l[u].bits>>l[u].length-a-1&1)>0;h?f.push(l[u]):c.push(l[u])}return d.isLeaf||(d.zero=buildTreeBranch(c,n<<1,a+1),d.one=buildTreeBranch(f,n<<1|1,a+1)),d}function readDynamicTrees(l){for(var n=l.readLSB(5)+257,a=l.readLSB(5)+1,c=l.readLSB(4)+4,f=new Array(19),d=0;d<f.length;++d)f[d]=0;for(var d=0;d<c;++d)f[clenMap[d]]=l.readLSB(3);for(var u=buildCodes(f),h=buildTree(u,f),E=new Array(0);E.length<n+a;){for(var m=h;!m.isLeaf;)m=l.readBit()?m.one:m.zero;var b=m.index;if(b<=15)E.push(b);else if(b==16)for(var _=l.readLSB(2)+3,v=0;v<_;++v)E.push(E[E.length-1]);else if(b==17)for(var _=l.readLSB(3)+3,v=0;v<_;++v)E.push(0);else if(b==18)for(var _=l.readLSB(7)+11,v=0;v<_;++v)E.push(0)}var T=E.slice(0,n),$=buildCodes(T),C=E.slice(n,n+a),O=buildCodes(C),I=new Object;return I.codesTree=buildTree($,T),I.distancesTree=buildTree(O,C),I}function Inflator(l){this.reader=l,this.bitReader=new BitReader(l),this.buffer=new Array(0),this.bufferPosition=0,this.state=0,this.blockFinal=!1,this.readByte=function(){for(;this.bufferPosition>=this.buffer.length;){var n=this.decodeItem();if(n==null)return-1;switch(n.itemType){case 0:this.buffer=this.buffer.concat(n.array);break;case 2:this.buffer.push(n.symbol);break;case 3:for(var a=this.buffer.length-n.distance,c=0;c<n.length;c++)this.buffer.push(this.buffer[a++]);break}}var f=this.buffer[this.bufferPosition++];if(this.bufferPosition>49152){var d=this.buffer.length-32768;d>this.bufferPosition&&(d=this.bufferPosition),this.buffer.splice(0,d),this.bufferPosition-=d}return f},this.decodeItem=function(){if(this.state==2)return null;var n;if(this.state==0){this.blockFinal=this.bitReader.readBit();var a=this.bitReader.readLSB(2);switch(a){case 0:this.bitReader.align();var c=this.bitReader.readLSB(16),f=this.bitReader.readLSB(16);if((c&~f)!=c)throw"Invalid block type 0 length";n=new Object,n.itemType=0,n.array=new Array(c);for(var d=0;d<c;++d){var u=this.reader.readByte();if(u<0)throw"Uncomplete block";n.array[d]=u}return this.blockFinal&&(this.state=2),n;case 1:this.codesTree=staticCodes,this.distancesTree=staticDistances,this.state=1;break;case 2:var h=readDynamicTrees(this.bitReader);this.codesTree=h.codesTree,this.distancesTree=h.distancesTree,this.state=1;break;default:throw new"Invalid block type (3)"}}n=new Object;for(var E=this.codesTree;!E.isLeaf;)E=this.bitReader.readBit()?E.one:E.zero;if(E.index<256)n.itemType=2,n.symbol=E.index;else if(E.index>256){var m=E.index;if(m>285)throw new"Invalid length code";var b=encodedLengthStart[m-257];for(encodedLengthAdditionalBits[m-257]>0&&(b+=this.bitReader.readLSB(encodedLengthAdditionalBits[m-257])),E=this.distancesTree;!E.isLeaf;)E=this.bitReader.readBit()?E.one:E.zero;var _=E.index,v=encodedDistanceStart[_];encodedDistanceAdditionalBits[_]>0&&(v+=this.bitReader.readLSB(encodedDistanceAdditionalBits[_])),n.itemType=3,n.distance=v,n.length=b}else n.itemType=1,this.state=this.blockFinal?2:0;return n}}initializeStaticTrees();function CharReader(l){this.position=0,this.arr=l,this.readByte=function(){return this.position>=this.arr.length?-1:this.arr.charCodeAt([this.position++])}}var ZLIB=ZLIB||{};typeof ZLIB.common_initialized>"u"&&(ZLIB.Z_NO_FLUSH=0,ZLIB.Z_PARTIAL_FLUSH=1,ZLIB.Z_SYNC_FLUSH=2,ZLIB.Z_FULL_FLUSH=3,ZLIB.Z_FINISH=4,ZLIB.Z_BLOCK=5,ZLIB.Z_TREES=6,ZLIB.Z_OK=0,ZLIB.Z_STREAM_END=1,ZLIB.Z_NEED_DICT=2,ZLIB.Z_ERRNO=-1,ZLIB.Z_STREAM_ERROR=-2,ZLIB.Z_DATA_ERROR=-3,ZLIB.Z_MEM_ERROR=-4,ZLIB.Z_BUF_ERROR=-5,ZLIB.Z_VERSION_ERROR=-6,ZLIB.Z_DEFLATED=8,ZLIB.z_stream=function(){this.next_in=0,this.avail_in=0,this.total_in=0,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=null,this.state=null,this.data_type=0,this.adler=0,this.input_data="",this.output_data="",this.error=0,this.checksum_function=null},ZLIB.gz_header=function(){this.text=0,this.time=0,this.xflags=0,this.os=255,this.extra=null,this.extra_len=0,this.extra_max=0,this.name=null,this.name_max=0,this.comment=null,this.comm_max=0,this.hcrc=0,this.done=0},ZLIB.common_initialized=!0);typeof ZLIB>"u"&&alert("ZLIB is not defined.  SRC zlib.js before zlib-inflate.js");(function(){var DEF_WBITS=15,HEAD=0,FLAGS=1,TIME=2,OS=3,EXLEN=4,EXTRA=5,NAME=6,COMMENT=7,HCRC=8,DICTID=9,DICT=10,TYPE=11,TYPEDO=12,STORED=13,COPY_=14,COPY=15,TABLE=16,LENLENS=17,CODELENS=18,LEN_=19,LEN=20,LENEXT=21,DIST=22,DISTEXT=23,MATCH=24,LIT=25,CHECK=26,LENGTH=27,DONE=28,BAD=29,MEM=30,SYNC=31,ENOUGH_LENS=852,ENOUGH_DISTS=592,ENOUGH=ENOUGH_LENS+ENOUGH_DISTS,CODES=0,LENS=1,DISTS=2,inflate_table_lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],inflate_table_lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,203,69],inflate_table_dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],inflate_table_dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ZLIB.inflate_copyright=" inflate 1.2.6 Copyright 1995-2012 Mark Adler ";function inflate_table(l,n){var a=15,c=l.next,f=n==DISTS?l.distbits:l.lenbits,d=l.work,u=l.lens,h=n==DISTS?l.nlen:0,E=l.codes,m;n==LENS?m=l.nlen:n==DISTS?m=l.ndist:m=19;var b,_,v,T,$,C,O,I,M,R,N,y,D,F,k,B,H,V,z,W,K,U=new Array(a+1),Y=new Array(a+1);for(b=0;b<=a;b++)U[b]=0;for(_=0;_<m;_++)U[u[h+_]]++;for($=f,T=a;T>=1&&U[T]==0;T--);if($>T&&($=T),T==0)return k={op:64,bits:1,val:0},E[c++]=k,E[c++]=k,n==DISTS?l.distbits=1:l.lenbits=1,l.next=c,0;for(v=1;v<T&&U[v]==0;v++);for($<v&&($=v),I=1,b=1;b<=a;b++)if(I<<=1,I-=U[b],I<0)return-1;if(I>0&&(n==CODES||T!=1))return l.next=c,-1;for(Y[1]=0,b=1;b<a;b++)Y[b+1]=Y[b]+U[b];for(_=0;_<m;_++)u[h+_]!=0&&(d[Y[u[h+_]]++]=_);switch(n){case CODES:H=z=d,V=0,W=0,K=19;break;case LENS:H=inflate_table_lbase,V=-257,z=inflate_table_lext,W=-257,K=256;break;default:H=inflate_table_dbase,z=inflate_table_dext,V=0,W=0,K=-1}if(R=0,_=0,b=v,B=c,C=$,O=0,D=-1,M=1<<$,F=M-1,n==LENS&&M>=ENOUGH_LENS||n==DISTS&&M>=ENOUGH_DISTS)return l.next=c,1;for(;;){k={op:0,bits:b-O,val:0},d[_]<K?k.val=d[_]:d[_]>K?(k.op=z[W+d[_]],k.val=H[V+d[_]]):k.op=96,N=1<<b-O,y=1<<C,v=y;do y-=N,E[B+(R>>>O)+y]=k;while(y!=0);for(N=1<<b-1;R&N;)N>>>=1;if(N!=0?(R&=N-1,R+=N):R=0,_++,--U[b]==0){if(b==T)break;b=u[h+d[_]]}if(b>$&&(R&F)!=D){for(O==0&&(O=$),B+=v,C=b-O,I=1<<C;C+O<T&&(I-=U[C+O],!(I<=0));)C++,I<<=1;if(M+=1<<C,n==LENS&&M>=ENOUGH_LENS||n==DISTS&&M>=ENOUGH_DISTS)return l.next=c,1;D=R&F,E[c+D]={op:C,bits:$,val:B-c}}}return R!=0&&(E[B+R]={op:64,bits:b-O,val:0}),l.next=c+M,n==DISTS?l.distbits=$:l.lenbits=$,0}function inflate_fast(l,n){var a,c,f,d,u,h,E,m,b,_,v,T,$,C,O,I,M,R,N,y,D,F,k=-1,B=-1;a=l.state,c=l.input_data,f=l.next_in,d=f+l.avail_in-5,u=l.next_out,h=u-(n-l.avail_out),E=u+(l.avail_out-257),m=a.wsize,b=a.whave,_=a.wnext,v=a.window,T=a.hold,$=a.bits,C=a.codes,O=a.lencode,I=a.distcode,M=(1<<a.lenbits)-1,R=(1<<a.distbits)-1;t:do{$<15&&(T+=(c.charCodeAt(f++)&255)<<$,$+=8,T+=(c.charCodeAt(f++)&255)<<$,$+=8),N=C[O+(T&M)];e:for(;;){if(y=N.bits,T>>>=y,$-=y,y=N.op,y==0)l.output_data+=String.fromCharCode(N.val),u++;else if(y&16){D=N.val,y&=15,y&&($<y&&(T+=(c.charCodeAt(f++)&255)<<$,$+=8),D+=T&(1<<y)-1,T>>>=y,$-=y),$<15&&(T+=(c.charCodeAt(f++)&255)<<$,$+=8,T+=(c.charCodeAt(f++)&255)<<$,$+=8),N=C[I+(T&R)];i:for(;;){if(y=N.bits,T>>>=y,$-=y,y=N.op,y&16){if(F=N.val,y&=15,$<y&&(T+=(c.charCodeAt(f++)&255)<<$,$+=8,$<y&&(T+=(c.charCodeAt(f++)&255)<<$,$+=8)),F+=T&(1<<y)-1,T>>>=y,$-=y,y=u-h,F>y){if(y=F-y,y>b&&a.sane){l.msg="invalid distance too far back",a.mode=BAD;break t}k=0,B=-1,_==0?(k+=m-y,y<D&&(D-=y,l.output_data+=v.substring(k,k+y),u+=y,y=0,k=-1,B=u-F)):(k+=_-y,y<D&&(D-=y,l.output_data+=v.substring(k,k+y),u+=y,k=-1,B=u-F))}else k=-1,B=u-F;if(k>=0)l.output_data+=v.substring(k,k+D),u+=D,k+=D;else{var H=D;for(H>u-B&&(H=u-B),l.output_data+=l.output_data.substring(B,B+H),u+=H,D-=H,B+=H,u+=D;D>2;)l.output_data+=l.output_data.charAt(B++),l.output_data+=l.output_data.charAt(B++),l.output_data+=l.output_data.charAt(B++),D-=3;D&&(l.output_data+=l.output_data.charAt(B++),D>1&&(l.output_data+=l.output_data.charAt(B++)))}}else if((y&64)==0){N=C[I+(N.val+(T&(1<<y)-1))];continue i}else{l.msg="invalid distance code",a.mode=BAD;break t}break i}}else if((y&64)==0){N=C[O+(N.val+(T&(1<<y)-1))];continue e}else if(y&32){a.mode=TYPE;break t}else{l.msg="invalid literal/length code",a.mode=BAD;break t}break e}}while(f<d&&u<E);D=$>>>3,f-=D,$-=D<<3,T&=(1<<$)-1,l.next_in=f,l.next_out=u,l.avail_in=f<d?5+(d-f):5-(f-d),l.avail_out=u<E?257+(E-u):257-(u-E),a.hold=T,a.bits=$}function new_array(l){var n,a=new Array(l);for(n=0;n<l;n++)a[n]=0;return a}function getarg(l,n,a){return l&&n in l?l[n]:a}function checksum_none(){return 0}function inflate_state(){var l;this.mode=0,this.last=0,this.wrap=0,this.havedict=0,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=0,this.distcode=0,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=0,this.lens=new_array(320),this.work=new_array(288),this.codes=new Array(ENOUGH);var n={op:0,bits:0,val:0};for(l=0;l<ENOUGH;l++)this.codes[l]=n;this.sane=0,this.back=0,this.was=0}ZLIB.inflateResetKeep=function(l){var n;return!l||!l.state?ZLIB.Z_STREAM_ERROR:(n=l.state,l.total_in=l.total_out=n.total=0,l.msg=null,n.wrap&&(l.adler=n.wrap&1),n.mode=HEAD,n.last=0,n.havedict=0,n.dmax=32768,n.head=null,n.hold=0,n.bits=0,n.lencode=0,n.distcode=0,n.next=0,n.sane=1,n.back=-1,ZLIB.Z_OK)},ZLIB.inflateReset=function(l,n){var a,c;return!l||!l.state||(c=l.state,typeof n>"u"&&(n=DEF_WBITS),n<0?(a=0,n=-n):(a=(n>>>4)+1,n<48&&(n&=15)),a==1&&typeof ZLIB.adler32=="function"?l.checksum_function=ZLIB.adler32:a==2&&typeof ZLIB.crc32=="function"?l.checksum_function=ZLIB.crc32:l.checksum_function=checksum_none,n&&(n<8||n>15))?ZLIB.Z_STREAM_ERROR:(c.window&&c.wbits!=n&&(c.window=null),c.wrap=a,c.wbits=n,c.wsize=0,c.whave=0,c.wnext=0,ZLIB.inflateResetKeep(l))},ZLIB.inflateInit=function(l){var n=new ZLIB.z_stream;return n.state=new inflate_state,ZLIB.inflateReset(n,l),n},ZLIB.inflatePrime=function(l,n,a){var c;return!l||!l.state?ZLIB.Z_STREAM_ERROR:(c=l.state,n<0?(c.hold=0,c.bits=0,ZLIB.Z_OK):n>16||c.bits+n>32?ZLIB.Z_STREAM_ERROR:(a&=(1<<n)-1,c.hold+=a<<c.bits,c.bits+=n,ZLIB.Z_OK))};var lenfix_ary=null,lenfix_def="([    {op:96,bits:7,val:0},{op:0,bits:8,val:80},{op:0,bits:8,val:16},{op:20,bits:8,val:115},{op:18,bits:7,val:31},{op:0,bits:8,val:112},{op:0,bits:8,val:48},    {op:0,bits:9,val:192},{op:16,bits:7,val:10},{op:0,bits:8,val:96},{op:0,bits:8,val:32},{op:0,bits:9,val:160},{op:0,bits:8,val:0},{op:0,bits:8,val:128},    {op:0,bits:8,val:64},{op:0,bits:9,val:224},{op:16,bits:7,val:6},{op:0,bits:8,val:88},{op:0,bits:8,val:24},{op:0,bits:9,val:144},{op:19,bits:7,val:59},    {op:0,bits:8,val:120},{op:0,bits:8,val:56},{op:0,bits:9,val:208},{op:17,bits:7,val:17},{op:0,bits:8,val:104},{op:0,bits:8,val:40},{op:0,bits:9,val:176},    {op:0,bits:8,val:8},{op:0,bits:8,val:136},{op:0,bits:8,val:72},{op:0,bits:9,val:240},{op:16,bits:7,val:4},{op:0,bits:8,val:84},{op:0,bits:8,val:20},    {op:21,bits:8,val:227},{op:19,bits:7,val:43},{op:0,bits:8,val:116},{op:0,bits:8,val:52},{op:0,bits:9,val:200},{op:17,bits:7,val:13},{op:0,bits:8,val:100},    {op:0,bits:8,val:36},{op:0,bits:9,val:168},{op:0,bits:8,val:4},{op:0,bits:8,val:132},{op:0,bits:8,val:68},{op:0,bits:9,val:232},{op:16,bits:7,val:8},    {op:0,bits:8,val:92},{op:0,bits:8,val:28},{op:0,bits:9,val:152},{op:20,bits:7,val:83},{op:0,bits:8,val:124},{op:0,bits:8,val:60},{op:0,bits:9,val:216},    {op:18,bits:7,val:23},{op:0,bits:8,val:108},{op:0,bits:8,val:44},{op:0,bits:9,val:184},{op:0,bits:8,val:12},{op:0,bits:8,val:140},{op:0,bits:8,val:76},    {op:0,bits:9,val:248},{op:16,bits:7,val:3},{op:0,bits:8,val:82},{op:0,bits:8,val:18},{op:21,bits:8,val:163},{op:19,bits:7,val:35},{op:0,bits:8,val:114},    {op:0,bits:8,val:50},{op:0,bits:9,val:196},{op:17,bits:7,val:11},{op:0,bits:8,val:98},{op:0,bits:8,val:34},{op:0,bits:9,val:164},{op:0,bits:8,val:2},    {op:0,bits:8,val:130},{op:0,bits:8,val:66},{op:0,bits:9,val:228},{op:16,bits:7,val:7},{op:0,bits:8,val:90},{op:0,bits:8,val:26},{op:0,bits:9,val:148},    {op:20,bits:7,val:67},{op:0,bits:8,val:122},{op:0,bits:8,val:58},{op:0,bits:9,val:212},{op:18,bits:7,val:19},{op:0,bits:8,val:106},{op:0,bits:8,val:42},    {op:0,bits:9,val:180},{op:0,bits:8,val:10},{op:0,bits:8,val:138},{op:0,bits:8,val:74},{op:0,bits:9,val:244},{op:16,bits:7,val:5},{op:0,bits:8,val:86},    {op:0,bits:8,val:22},{op:64,bits:8,val:0},{op:19,bits:7,val:51},{op:0,bits:8,val:118},{op:0,bits:8,val:54},{op:0,bits:9,val:204},{op:17,bits:7,val:15},    {op:0,bits:8,val:102},{op:0,bits:8,val:38},{op:0,bits:9,val:172},{op:0,bits:8,val:6},{op:0,bits:8,val:134},{op:0,bits:8,val:70},{op:0,bits:9,val:236},    {op:16,bits:7,val:9},{op:0,bits:8,val:94},{op:0,bits:8,val:30},{op:0,bits:9,val:156},{op:20,bits:7,val:99},{op:0,bits:8,val:126},{op:0,bits:8,val:62},    {op:0,bits:9,val:220},{op:18,bits:7,val:27},{op:0,bits:8,val:110},{op:0,bits:8,val:46},{op:0,bits:9,val:188},{op:0,bits:8,val:14},{op:0,bits:8,val:142},    {op:0,bits:8,val:78},{op:0,bits:9,val:252},{op:96,bits:7,val:0},{op:0,bits:8,val:81},{op:0,bits:8,val:17},{op:21,bits:8,val:131},{op:18,bits:7,val:31},    {op:0,bits:8,val:113},{op:0,bits:8,val:49},{op:0,bits:9,val:194},{op:16,bits:7,val:10},{op:0,bits:8,val:97},{op:0,bits:8,val:33},{op:0,bits:9,val:162},    {op:0,bits:8,val:1},{op:0,bits:8,val:129},{op:0,bits:8,val:65},{op:0,bits:9,val:226},{op:16,bits:7,val:6},{op:0,bits:8,val:89},{op:0,bits:8,val:25},    {op:0,bits:9,val:146},{op:19,bits:7,val:59},{op:0,bits:8,val:121},{op:0,bits:8,val:57},{op:0,bits:9,val:210},{op:17,bits:7,val:17},{op:0,bits:8,val:105},    {op:0,bits:8,val:41},{op:0,bits:9,val:178},{op:0,bits:8,val:9},{op:0,bits:8,val:137},{op:0,bits:8,val:73},{op:0,bits:9,val:242},{op:16,bits:7,val:4},    {op:0,bits:8,val:85},{op:0,bits:8,val:21},{op:16,bits:8,val:258},{op:19,bits:7,val:43},{op:0,bits:8,val:117},{op:0,bits:8,val:53},{op:0,bits:9,val:202},    {op:17,bits:7,val:13},{op:0,bits:8,val:101},{op:0,bits:8,val:37},{op:0,bits:9,val:170},{op:0,bits:8,val:5},{op:0,bits:8,val:133},{op:0,bits:8,val:69},    {op:0,bits:9,val:234},{op:16,bits:7,val:8},{op:0,bits:8,val:93},{op:0,bits:8,val:29},{op:0,bits:9,val:154},{op:20,bits:7,val:83},{op:0,bits:8,val:125},    {op:0,bits:8,val:61},{op:0,bits:9,val:218},{op:18,bits:7,val:23},{op:0,bits:8,val:109},{op:0,bits:8,val:45},{op:0,bits:9,val:186},{op:0,bits:8,val:13},    {op:0,bits:8,val:141},{op:0,bits:8,val:77},{op:0,bits:9,val:250},{op:16,bits:7,val:3},{op:0,bits:8,val:83},{op:0,bits:8,val:19},{op:21,bits:8,val:195},    {op:19,bits:7,val:35},{op:0,bits:8,val:115},{op:0,bits:8,val:51},{op:0,bits:9,val:198},{op:17,bits:7,val:11},{op:0,bits:8,val:99},{op:0,bits:8,val:35},    {op:0,bits:9,val:166},{op:0,bits:8,val:3},{op:0,bits:8,val:131},{op:0,bits:8,val:67},{op:0,bits:9,val:230},{op:16,bits:7,val:7},{op:0,bits:8,val:91},    {op:0,bits:8,val:27},{op:0,bits:9,val:150},{op:20,bits:7,val:67},{op:0,bits:8,val:123},{op:0,bits:8,val:59},{op:0,bits:9,val:214},{op:18,bits:7,val:19},    {op:0,bits:8,val:107},{op:0,bits:8,val:43},{op:0,bits:9,val:182},{op:0,bits:8,val:11},{op:0,bits:8,val:139},{op:0,bits:8,val:75},{op:0,bits:9,val:246},    {op:16,bits:7,val:5},{op:0,bits:8,val:87},{op:0,bits:8,val:23},{op:64,bits:8,val:0},{op:19,bits:7,val:51},{op:0,bits:8,val:119},{op:0,bits:8,val:55},    {op:0,bits:9,val:206},{op:17,bits:7,val:15},{op:0,bits:8,val:103},{op:0,bits:8,val:39},{op:0,bits:9,val:174},{op:0,bits:8,val:7},{op:0,bits:8,val:135},    {op:0,bits:8,val:71},{op:0,bits:9,val:238},{op:16,bits:7,val:9},{op:0,bits:8,val:95},{op:0,bits:8,val:31},{op:0,bits:9,val:158},{op:20,bits:7,val:99},    {op:0,bits:8,val:127},{op:0,bits:8,val:63},{op:0,bits:9,val:222},{op:18,bits:7,val:27},{op:0,bits:8,val:111},{op:0,bits:8,val:47},{op:0,bits:9,val:190},    {op:0,bits:8,val:15},{op:0,bits:8,val:143},{op:0,bits:8,val:79},{op:0,bits:9,val:254},{op:96,bits:7,val:0},{op:0,bits:8,val:80},{op:0,bits:8,val:16},    {op:20,bits:8,val:115},{op:18,bits:7,val:31},{op:0,bits:8,val:112},{op:0,bits:8,val:48},{op:0,bits:9,val:193},{op:16,bits:7,val:10},{op:0,bits:8,val:96},    {op:0,bits:8,val:32},{op:0,bits:9,val:161},{op:0,bits:8,val:0},{op:0,bits:8,val:128},{op:0,bits:8,val:64},{op:0,bits:9,val:225},{op:16,bits:7,val:6},    {op:0,bits:8,val:88},{op:0,bits:8,val:24},{op:0,bits:9,val:145},{op:19,bits:7,val:59},{op:0,bits:8,val:120},{op:0,bits:8,val:56},{op:0,bits:9,val:209},    {op:17,bits:7,val:17},{op:0,bits:8,val:104},{op:0,bits:8,val:40},{op:0,bits:9,val:177},{op:0,bits:8,val:8},{op:0,bits:8,val:136},{op:0,bits:8,val:72},    {op:0,bits:9,val:241},{op:16,bits:7,val:4},{op:0,bits:8,val:84},{op:0,bits:8,val:20},{op:21,bits:8,val:227},{op:19,bits:7,val:43},{op:0,bits:8,val:116},    {op:0,bits:8,val:52},{op:0,bits:9,val:201},{op:17,bits:7,val:13},{op:0,bits:8,val:100},{op:0,bits:8,val:36},{op:0,bits:9,val:169},{op:0,bits:8,val:4},    {op:0,bits:8,val:132},{op:0,bits:8,val:68},{op:0,bits:9,val:233},{op:16,bits:7,val:8},{op:0,bits:8,val:92},{op:0,bits:8,val:28},{op:0,bits:9,val:153},    {op:20,bits:7,val:83},{op:0,bits:8,val:124},{op:0,bits:8,val:60},{op:0,bits:9,val:217},{op:18,bits:7,val:23},{op:0,bits:8,val:108},{op:0,bits:8,val:44},    {op:0,bits:9,val:185},{op:0,bits:8,val:12},{op:0,bits:8,val:140},{op:0,bits:8,val:76},{op:0,bits:9,val:249},{op:16,bits:7,val:3},{op:0,bits:8,val:82},    {op:0,bits:8,val:18},{op:21,bits:8,val:163},{op:19,bits:7,val:35},{op:0,bits:8,val:114},{op:0,bits:8,val:50},{op:0,bits:9,val:197},{op:17,bits:7,val:11},    {op:0,bits:8,val:98},{op:0,bits:8,val:34},{op:0,bits:9,val:165},{op:0,bits:8,val:2},{op:0,bits:8,val:130},{op:0,bits:8,val:66},{op:0,bits:9,val:229},    {op:16,bits:7,val:7},{op:0,bits:8,val:90},{op:0,bits:8,val:26},{op:0,bits:9,val:149},{op:20,bits:7,val:67},{op:0,bits:8,val:122},{op:0,bits:8,val:58},    {op:0,bits:9,val:213},{op:18,bits:7,val:19},{op:0,bits:8,val:106},{op:0,bits:8,val:42},{op:0,bits:9,val:181},{op:0,bits:8,val:10},{op:0,bits:8,val:138},    {op:0,bits:8,val:74},{op:0,bits:9,val:245},{op:16,bits:7,val:5},{op:0,bits:8,val:86},{op:0,bits:8,val:22},{op:64,bits:8,val:0},{op:19,bits:7,val:51},    {op:0,bits:8,val:118},{op:0,bits:8,val:54},{op:0,bits:9,val:205},{op:17,bits:7,val:15},{op:0,bits:8,val:102},{op:0,bits:8,val:38},{op:0,bits:9,val:173},    {op:0,bits:8,val:6},{op:0,bits:8,val:134},{op:0,bits:8,val:70},{op:0,bits:9,val:237},{op:16,bits:7,val:9},{op:0,bits:8,val:94},{op:0,bits:8,val:30},    {op:0,bits:9,val:157},{op:20,bits:7,val:99},{op:0,bits:8,val:126},{op:0,bits:8,val:62},{op:0,bits:9,val:221},{op:18,bits:7,val:27},{op:0,bits:8,val:110},    {op:0,bits:8,val:46},{op:0,bits:9,val:189},{op:0,bits:8,val:14},{op:0,bits:8,val:142},{op:0,bits:8,val:78},{op:0,bits:9,val:253},{op:96,bits:7,val:0},    {op:0,bits:8,val:81},{op:0,bits:8,val:17},{op:21,bits:8,val:131},{op:18,bits:7,val:31},{op:0,bits:8,val:113},{op:0,bits:8,val:49},{op:0,bits:9,val:195},    {op:16,bits:7,val:10},{op:0,bits:8,val:97},{op:0,bits:8,val:33},{op:0,bits:9,val:163},{op:0,bits:8,val:1},{op:0,bits:8,val:129},{op:0,bits:8,val:65},    {op:0,bits:9,val:227},{op:16,bits:7,val:6},{op:0,bits:8,val:89},{op:0,bits:8,val:25},{op:0,bits:9,val:147},{op:19,bits:7,val:59},{op:0,bits:8,val:121},    {op:0,bits:8,val:57},{op:0,bits:9,val:211},{op:17,bits:7,val:17},{op:0,bits:8,val:105},{op:0,bits:8,val:41},{op:0,bits:9,val:179},{op:0,bits:8,val:9},    {op:0,bits:8,val:137},{op:0,bits:8,val:73},{op:0,bits:9,val:243},{op:16,bits:7,val:4},{op:0,bits:8,val:85},{op:0,bits:8,val:21},{op:16,bits:8,val:258},    {op:19,bits:7,val:43},{op:0,bits:8,val:117},{op:0,bits:8,val:53},{op:0,bits:9,val:203},{op:17,bits:7,val:13},{op:0,bits:8,val:101},{op:0,bits:8,val:37},    {op:0,bits:9,val:171},{op:0,bits:8,val:5},{op:0,bits:8,val:133},{op:0,bits:8,val:69},{op:0,bits:9,val:235},{op:16,bits:7,val:8},{op:0,bits:8,val:93},    {op:0,bits:8,val:29},{op:0,bits:9,val:155},{op:20,bits:7,val:83},{op:0,bits:8,val:125},{op:0,bits:8,val:61},{op:0,bits:9,val:219},{op:18,bits:7,val:23},    {op:0,bits:8,val:109},{op:0,bits:8,val:45},{op:0,bits:9,val:187},{op:0,bits:8,val:13},{op:0,bits:8,val:141},{op:0,bits:8,val:77},{op:0,bits:9,val:251},    {op:16,bits:7,val:3},{op:0,bits:8,val:83},{op:0,bits:8,val:19},{op:21,bits:8,val:195},{op:19,bits:7,val:35},{op:0,bits:8,val:115},{op:0,bits:8,val:51},    {op:0,bits:9,val:199},{op:17,bits:7,val:11},{op:0,bits:8,val:99},{op:0,bits:8,val:35},{op:0,bits:9,val:167},{op:0,bits:8,val:3},{op:0,bits:8,val:131},    {op:0,bits:8,val:67},{op:0,bits:9,val:231},{op:16,bits:7,val:7},{op:0,bits:8,val:91},{op:0,bits:8,val:27},{op:0,bits:9,val:151},{op:20,bits:7,val:67},    {op:0,bits:8,val:123},{op:0,bits:8,val:59},{op:0,bits:9,val:215},{op:18,bits:7,val:19},{op:0,bits:8,val:107},{op:0,bits:8,val:43},{op:0,bits:9,val:183},    {op:0,bits:8,val:11},{op:0,bits:8,val:139},{op:0,bits:8,val:75},{op:0,bits:9,val:247},{op:16,bits:7,val:5},{op:0,bits:8,val:87},{op:0,bits:8,val:23},    {op:64,bits:8,val:0},{op:19,bits:7,val:51},{op:0,bits:8,val:119},{op:0,bits:8,val:55},{op:0,bits:9,val:207},{op:17,bits:7,val:15},{op:0,bits:8,val:103},    {op:0,bits:8,val:39},{op:0,bits:9,val:175},{op:0,bits:8,val:7},{op:0,bits:8,val:135},{op:0,bits:8,val:71},{op:0,bits:9,val:239},{op:16,bits:7,val:9},    {op:0,bits:8,val:95},{op:0,bits:8,val:31},{op:0,bits:9,val:159},{op:20,bits:7,val:99},{op:0,bits:8,val:127},{op:0,bits:8,val:63},{op:0,bits:9,val:223},    {op:18,bits:7,val:27},{op:0,bits:8,val:111},{op:0,bits:8,val:47},{op:0,bits:9,val:191},{op:0,bits:8,val:15},{op:0,bits:8,val:143},{op:0,bits:8,val:79},    {op:0,bits:9,val:255}])",distfix_ary=null,distfix_def="([    {op:16,bits:5,val:1},{op:23,bits:5,val:257},{op:19,bits:5,val:17},{op:27,bits:5,val:4097},{op:17,bits:5,val:5},{op:25,bits:5,val:1025},    {op:21,bits:5,val:65},{op:29,bits:5,val:16385},{op:16,bits:5,val:3},{op:24,bits:5,val:513},{op:20,bits:5,val:33},{op:28,bits:5,val:8193},    {op:18,bits:5,val:9},{op:26,bits:5,val:2049},{op:22,bits:5,val:129},{op:64,bits:5,val:0},{op:16,bits:5,val:2},{op:23,bits:5,val:385},    {op:19,bits:5,val:25},{op:27,bits:5,val:6145},{op:17,bits:5,val:7},{op:25,bits:5,val:1537},{op:21,bits:5,val:97},{op:29,bits:5,val:24577},    {op:16,bits:5,val:4},{op:24,bits:5,val:769},{op:20,bits:5,val:49},{op:28,bits:5,val:12289},{op:18,bits:5,val:13},{op:26,bits:5,val:3073},    {op:22,bits:5,val:193},{op:64,bits:5,val:0}])";function fixedtables(state){var i;for(lenfix_ary||(lenfix_ary=eval(lenfix_def)),distfix_ary||(distfix_ary=eval(distfix_def)),state.lencode=0,state.distcode=512,i=0;i<512;i++)state.codes[i]=lenfix_ary[i];for(i=0;i<32;i++)state.codes[i+512]=distfix_ary[i];state.lenbits=9,state.distbits=5}function updatewindow(l){var n=l.state,a=l.output_data.length;return n.window===null&&(n.window=""),n.wsize==0&&(n.wsize=1<<n.wbits),a>=n.wsize?n.window=l.output_data.substring(a-n.wsize):n.whave+a<n.wsize?n.window+=l.output_data:n.window=n.window.substring(n.whave-(n.wsize-a))+l.output_data,n.whave=n.window.length,n.whave<n.wsize?n.wnext=n.whave:n.wnext=0,0}function CRC2(l,n){var a=[n&255,n>>>8&255];l.state.check=l.checksum_function(l.state.check,a,0,2)}function CRC4(l,n){var a=[n&255,n>>>8&255,n>>>16&255,n>>>24&255];l.state.check=l.checksum_function(l.state.check,a,0,4)}function LOAD(l,n){return n.strm=l,n.left=l.avail_out,n.next=l.next_in,n.have=l.avail_in,n.hold=l.state.hold,n.bits=l.state.bits,n}function RESTORE(l){var n=l.strm;n.next_in=l.next,n.avail_out=l.left,n.avail_in=l.have,n.state.hold=l.hold,n.state.bits=l.bits}function INITBITS(l){l.hold=0,l.bits=0}function PULLBYTE(l){return l.have==0?!1:(l.have--,l.hold+=(l.strm.input_data.charCodeAt(l.next++)&255)<<l.bits,l.bits+=8,!0)}function NEEDBITS(l,n){for(;l.bits<n;)if(!PULLBYTE(l))return!1;return!0}function BITS(l,n){return l.hold&(1<<n)-1}function DROPBITS(l,n){l.hold>>>=n,l.bits-=n}function BYTEBITS(l){l.hold>>>=l.bits&7,l.bits-=l.bits&7}function REVERSE(l){return(l>>>24&255)+(l>>>8&65280)+((l&65280)<<8)+((l&255)<<24)}var inflate_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];ZLIB.inflate=function(l,n){var a,c,f,d,u,h=-1,E=-1,m,b,_,v;if(!l||!l.state||!l.input_data&&l.avail_in!=0)return ZLIB.Z_STREAM_ERROR;a=l.state,a.mode==TYPE&&(a.mode=TYPEDO),c={},LOAD(l,c),f=c.have,d=c.left,v=ZLIB.Z_OK;t:for(;;)switch(a.mode){case HEAD:if(a.wrap==0){a.mode=TYPEDO;break}if(!NEEDBITS(c,16))break t;if(a.wrap&2&&c.hold==35615){a.check=l.checksum_function(0,null,0,0),CRC2(l,c.hold),INITBITS(c),a.mode=FLAGS;break}if(a.flags=0,a.head!==null&&(a.head.done=-1),!(a.wrap&1)||((BITS(c,8)<<8)+(c.hold>>>8))%31){l.msg="incorrect header check",a.mode=BAD;break}if(BITS(c,4)!=ZLIB.Z_DEFLATED){l.msg="unknown compression method",a.mode=BAD;break}if(DROPBITS(c,4),_=BITS(c,4)+8,a.wbits==0)a.wbits=_;else if(_>a.wbits){l.msg="invalid window size",a.mode=BAD;break}a.dmax=1<<_,l.adler=a.check=l.checksum_function(0,null,0,0),a.mode=c.hold&512?DICTID:TYPE,INITBITS(c);break;case FLAGS:if(!NEEDBITS(c,16))break t;if(a.flags=c.hold,(a.flags&255)!=ZLIB.Z_DEFLATED){l.msg="unknown compression method",a.mode=BAD;break}if(a.flags&57344){l.msg="unknown header flags set",a.mode=BAD;break}a.head!==null&&(a.head.text=c.hold>>>8&1),a.flags&512&&CRC2(l,c.hold),INITBITS(c),a.mode=TIME;case TIME:if(!NEEDBITS(c,32))break t;a.head!==null&&(a.head.time=c.hold),a.flags&512&&CRC4(l,c.hold),INITBITS(c),a.mode=OS;case OS:if(!NEEDBITS(c,16))break t;a.head!==null&&(a.head.xflags=c.hold&255,a.head.os=c.hold>>>8),a.flags&512&&CRC2(l,c.hold),INITBITS(c),a.mode=EXLEN;case EXLEN:if(a.flags&1024){if(!NEEDBITS(c,16))break t;a.length=c.hold,a.head!==null&&(a.head.extra_len=c.hold),a.flags&512&&CRC2(l,c.hold),INITBITS(c),a.head.extra=""}else a.head!==null&&(a.head.extra=null);a.mode=EXTRA;case EXTRA:if(a.flags&1024&&(u=a.length,u>c.have&&(u=c.have),u&&(a.head!==null&&a.head.extra!==null&&(_=a.head.extra_len-a.length,a.head.extra+=l.input_data.substring(c.next,c.next+(_+u>a.head.extra_max?a.head.extra_max-_:u))),a.flags&512&&(a.check=l.checksum_function(a.check,l.input_data,c.next,u)),c.have-=u,c.next+=u,a.length-=u),a.length))break t;a.length=0,a.mode=NAME;case NAME:if(a.flags&2048){if(c.have==0)break t;a.head!==null&&a.head.name===null&&(a.head.name=""),u=0;do{if(_=l.input_data.charAt(c.next+u),u++,_==="\0")break;a.head!==null&&a.length<a.head.name_max&&(a.head.name+=_,a.length++)}while(u<c.have);if(a.flags&512&&(a.check=l.checksum_function(a.check,l.input_data,c.next,u)),c.have-=u,c.next+=u,_!=="\0")break t}else a.head!==null&&(a.head.name=null);a.length=0,a.mode=COMMENT;case COMMENT:if(a.flags&4096){if(c.have==0)break t;u=0,a.head!==null&&a.head.comment===null&&(a.head.comment="");do{if(_=l.input_data.charAt(c.next+u),u++,_==="\0")break;a.head!==null&&a.length<a.head.comm_max&&(a.head.comment+=_,a.length++)}while(u<c.have);if(a.flags&512&&(a.check=l.checksum_function(a.check,l.input_data,c.next,u)),c.have-=u,c.next+=u,_!=="\0")break t}else a.head!==null&&(a.head.comment=null);a.mode=HCRC;case HCRC:if(a.flags&512){if(!NEEDBITS(c,16))break t;if(c.hold!=(a.check&65535)){l.msg="header crc mismatch",a.mode=BAD;break}INITBITS(c)}a.head!==null&&(a.head.hcrc=a.flags>>>9&1,a.head.done=1),l.adler=a.check=l.checksum_function(0,null,0,0),a.mode=TYPE;break;case DICTID:if(!NEEDBITS(c,32))break t;l.adler=a.check=REVERSE(c.hold),INITBITS(c),a.mode=DICT;case DICT:if(a.havedict==0)return RESTORE(c),ZLIB.Z_NEED_DICT;l.adler=a.check=l.checksum_function(0,null,0,0),a.mode=TYPE;case TYPE:if(n==ZLIB.Z_BLOCK||n==ZLIB.Z_TREES)break t;case TYPEDO:if(a.last){BYTEBITS(c),a.mode=CHECK;break}if(!NEEDBITS(c,3))break t;switch(a.last=BITS(c,1),DROPBITS(c,1),BITS(c,2)){case 0:a.mode=STORED;break;case 1:if(fixedtables(a),a.mode=LEN_,n==ZLIB.Z_TREES){DROPBITS(c,2);break t}break;case 2:a.mode=TABLE;break;case 3:l.msg="invalid block type",a.mode=BAD}DROPBITS(c,2);break;case STORED:if(BYTEBITS(c),!NEEDBITS(c,32))break t;if((c.hold&65535)!=(c.hold>>>16&65535^65535)){l.msg="invalid stored block lengths",a.mode=BAD;break}if(a.length=c.hold&65535,INITBITS(c),a.mode=COPY_,n==ZLIB.Z_TREES)break t;case COPY_:a.mode=COPY;case COPY:if(u=a.length,u){if(u>c.have&&(u=c.have),u>c.left&&(u=c.left),u==0)break t;l.output_data+=l.input_data.substring(c.next,c.next+u),l.next_out+=u,c.have-=u,c.next+=u,c.left-=u,a.length-=u;break}a.mode=TYPE;break;case TABLE:if(!NEEDBITS(c,14))break t;if(a.nlen=BITS(c,5)+257,DROPBITS(c,5),a.ndist=BITS(c,5)+1,DROPBITS(c,5),a.ncode=BITS(c,4)+4,DROPBITS(c,4),a.nlen>286||a.ndist>30){l.msg="too many length or distance symbols",a.mode=BAD;break}a.have=0,a.mode=LENLENS;case LENLENS:for(;a.have<a.ncode;){if(!NEEDBITS(c,3))break t;var T=BITS(c,3);a.lens[inflate_order[a.have++]]=T,DROPBITS(c,3)}for(;a.have<19;)a.lens[inflate_order[a.have++]]=0;if(a.next=0,a.lencode=0,a.lenbits=7,v=inflate_table(a,CODES),v){l.msg="invalid code lengths set",a.mode=BAD;break}a.have=0,a.mode=CODELENS;case CODELENS:for(;a.have<a.nlen+a.ndist;){for(;m=a.codes[a.lencode+BITS(c,a.lenbits)],!(m.bits<=c.bits);)if(!PULLBYTE(c))break t;if(m.val<16)DROPBITS(c,m.bits),a.lens[a.have++]=m.val;else{if(m.val==16){if(!NEEDBITS(c,m.bits+2))break t;if(DROPBITS(c,m.bits),a.have==0){l.msg="invalid bit length repeat",a.mode=BAD;break}_=a.lens[a.have-1],u=3+BITS(c,2),DROPBITS(c,2)}else if(m.val==17){if(!NEEDBITS(c,m.bits+3))break t;DROPBITS(c,m.bits),_=0,u=3+BITS(c,3),DROPBITS(c,3)}else{if(!NEEDBITS(c,m.bits+7))break t;DROPBITS(c,m.bits),_=0,u=11+BITS(c,7),DROPBITS(c,7)}if(a.have+u>a.nlen+a.ndist){l.msg="invalid bit length repeat",a.mode=BAD;break}for(;u--;)a.lens[a.have++]=_}}if(a.mode==BAD)break;if(a.lens[256]==0){l.msg="invalid code -- missing end-of-block",a.mode=BAD;break}if(a.next=0,a.lencode=a.next,a.lenbits=9,v=inflate_table(a,LENS),v){l.msg="invalid literal/lengths set",a.mode=BAD;break}if(a.distcode=a.next,a.distbits=6,v=inflate_table(a,DISTS),v){l.msg="invalid distances set",a.mode=BAD;break}if(a.mode=LEN_,n==ZLIB.Z_TREES)break t;case LEN_:a.mode=LEN;case LEN:if(c.have>=6&&c.left>=258){RESTORE(c),inflate_fast(l,d),LOAD(l,c),a.mode==TYPE&&(a.back=-1);break}for(a.back=0;m=a.codes[a.lencode+BITS(c,a.lenbits)],!(m.bits<=c.bits);)if(!PULLBYTE(c))break t;if(m.op&&(m.op&240)==0){for(b=m;m=a.codes[a.lencode+b.val+(BITS(c,b.bits+b.op)>>>b.bits)],!(b.bits+m.bits<=c.bits);)if(!PULLBYTE(c))break t;DROPBITS(c,b.bits),a.back+=b.bits}if(DROPBITS(c,m.bits),a.back+=m.bits,a.length=m.val,m.op==0){a.mode=LIT;break}if(m.op&32){a.back=-1,a.mode=TYPE;break}if(m.op&64){l.msg="invalid literal/length code",a.mode=BAD;break}a.extra=m.op&15,a.mode=LENEXT;case LENEXT:if(a.extra){if(!NEEDBITS(c,a.extra))break t;a.length+=BITS(c,a.extra),DROPBITS(c,a.extra),a.back+=a.extra}a.was=a.length,a.mode=DIST;case DIST:for(;m=a.codes[a.distcode+BITS(c,a.distbits)],!(m.bits<=c.bits);)if(!PULLBYTE(c))break t;if((m.op&240)==0){for(b=m;m=a.codes[a.distcode+b.val+(BITS(c,b.bits+b.op)>>>b.bits)],!(b.bits+m.bits<=c.bits);)if(!PULLBYTE(c))break t;DROPBITS(c,b.bits),a.back+=b.bits}if(DROPBITS(c,m.bits),a.back+=m.bits,m.op&64){l.msg="invalid distance code",a.mode=BAD;break}a.offset=m.val,a.extra=m.op&15,a.mode=DISTEXT;case DISTEXT:if(a.extra){if(!NEEDBITS(c,a.extra))break t;a.offset+=BITS(c,a.extra),DROPBITS(c,a.extra),a.back+=a.extra}a.mode=MATCH;case MATCH:if(c.left==0)break t;if(u=d-c.left,a.offset>u){if(u=a.offset-u,u>a.whave&&a.sane){l.msg="invalid distance too far back",a.mode=BAD;break}u>a.wnext?(u-=a.wnext,h=a.wsize-u,E=-1):(h=a.wnext-u,E=-1),u>a.length&&(u=a.length)}else h=-1,E=l.next_out-a.offset,u=a.length;if(u>c.left&&(u=c.left),c.left-=u,a.length-=u,h>=0)l.output_data+=a.window.substring(h,h+u),l.next_out+=u,u=0;else{l.next_out+=u;do l.output_data+=l.output_data.charAt(E++);while(--u)}a.length==0&&(a.mode=LEN);break;case LIT:if(c.left==0)break t;l.output_data+=String.fromCharCode(a.length),l.next_out++,c.left--,a.mode=LEN;break;case CHECK:if(a.wrap){if(!NEEDBITS(c,32))break t;if(d-=c.left,l.total_out+=d,a.total+=d,d&&(l.adler=a.check=l.checksum_function(a.check,l.output_data,l.output_data.length-d,d)),d=c.left,(a.flags?c.hold:REVERSE(c.hold))!=a.check){l.msg="incorrect data check",a.mode=BAD;break}INITBITS(c)}a.mode=LENGTH;case LENGTH:if(a.wrap&&a.flags){if(!NEEDBITS(c,32))break t;if(c.hold!=(a.total&4294967295)){l.msg="incorrect length check",a.mode=BAD;break}INITBITS(c)}a.mode=DONE;case DONE:v=ZLIB.Z_STREAM_END;break t;case BAD:v=ZLIB.Z_DATA_ERROR;break t;case MEM:return ZLIB.Z_MEM_ERROR;case SYNC:default:return ZLIB.Z_STREAM_ERROR}return RESTORE(c),(a.wsize||d!=l.avail_out&&a.mode<BAD&&(a.mode<CHECK||n!=ZLIB.Z_FINISH))&&updatewindow(l),f-=l.avail_in,d-=l.avail_out,l.total_in+=f,l.total_out+=d,a.total+=d,a.wrap&&d&&(l.adler=a.check=l.checksum_function(a.check,l.output_data,0,l.output_data.length)),l.data_type=a.bits+(a.last?64:0)+(a.mode==TYPE?128:0)+(a.mode==LEN_||a.mode==COPY_?256:0),(f==0&&d==0||n==ZLIB.Z_FINISH)&&v==ZLIB.Z_OK&&(v=ZLIB.Z_BUF_ERROR),v},ZLIB.inflateEnd=function(l){var n;return!l||!l.state?ZLIB.Z_STREAM_ERROR:(n=l.state,n.window=null,l.state=null,ZLIB.Z_OK)},ZLIB.z_stream.prototype.inflate=function(l,n){var a,c,f=16384;this.input_data=l,this.next_in=getarg(n,"next_in",0),this.avail_in=getarg(n,"avail_in",l.length-this.next_in),a=getarg(n,"flush",ZLIB.Z_SYNC_FLUSH),c=getarg(n,"avail_out",-1);var d="";do{if(this.avail_out=c>=0?c:f,this.output_data="",this.next_out=0,this.error=ZLIB.inflate(this,a),c>=0)return this.output_data;if(d+=this.output_data,this.avail_out>0)break}while(this.error==ZLIB.Z_OK);return d},ZLIB.z_stream.prototype.inflateReset=function(l){return ZLIB.inflateReset(this,l)}})();class Socket{constructor(n){X(this,"handleOpen",n=>{var a;log("Socket: connected"),this.connected=!0,!this.options.proxy&&this.options.type==="telnet"&&this.ws.send(stringify({host:this.options.host,port:this.options.port,utf8:1,mxp:1,connect:1,mccp:config$1.device.mobile?0:1,debug:config$1.debug,client:this.options.client,ttype:this.options.ttype,name:((a=window.user)==null?void 0:a.username)||"Guest"})),this.options.onOpen&&this.options.onOpen(n),this.options.type==="telnet"&&Event$1.fire("socket_open",this),Event$1.fire("".concat(this.options.type,"_open"),this)});X(this,"handleClose",n=>{Event$1.fire("socket_before_close",this),this.ws.close(),this.connected=!1,this.zlibState.lib=!1,this.zlibState.stream&&ZLIB.inflateEnd(this.zlibState.stream),this.out&&this.out.add('<br><span style="color: green;">Remote server has disconnected. Refresh page to reconnect.</span><br>'),this.options.onClose&&this.options.onClose(n),Event$1.fire("socket_close",this),Event$1.fire("".concat(this.options.type,"_close"),this),log("Socket: closed")});X(this,"handleError",()=>{var n;(n=this.out)==null||n.add('<span style="font-size: 12px; color: red;">Error: telnet proxy may be down.</span><br>')});X(this,"handleMessage",n=>{if(this.options.type==="chat"){log("Socket.onMessage chat_data"),Event$1.fire("".concat(this.options.type,"_data"),n.data);return}let a=n.data;Event$1.q.socket_data&&(a=Event$1.fire("socket_data",a,this),!a)||this.processIncomingData(a)});var a,c;this.options={type:"telnet",...n},this.ws={},this.out=n.out||config$1.ScrollView,this.connected=!1,this.proxy=config$1.proxy,this.host=n.host,this.port=n.port,this.buffer="",this.zlibState={lib:null,stream:null,raw:null},this.utf8=!1,this.colorize=new Colorize,this.commands=[],this.commandIndex=0,this.echo=!0,this.keepCommand=(a=config$1.getSetting("keepcom"))!=null?a:!0,(c=this.proxy)!=null&&c.includes("maldorne")&&delete this.options.proxy,this.initializeSocket(),this.options.type==="telnet"&&(config$1.socket=config$1.Socket=this)}async processIncomingData(n){if(log("process incoming data",n),n instanceof Blob)try{n=await new Promise((u,h)=>{const E=new FileReader;E.onload=()=>u(E.result),E.onerror=()=>h(E.error),E.readAsText(n)})}catch(d){log("Error reading Blob:",d);return}if(config$1.uncompressed)return this.buffer+=n,this.process();if(config$1.base64){try{var a=new Base64Reader(e.data),c=new Utf8Translator(a),f=new TextReader(c);this.buffer+=f.readToEnd()}catch(d){log("Attempt to base64-decode failed:",d),this.buffer+=n}return this.process()}if(!this.zlibState.lib)try{let d=new Base64Reader(n),u=new Inflator(d),h=new Utf8Translator(u),E=new TextReader(h);this.buffer+=E.readToEnd()}catch(d){this.zlibState.lib=1,log("Attempting zlib stream decompression (MCCP).")}if(this.zlibState.lib)try{let d,u=new Base64Reader(n);for(this.zlibState.raw="";(d=u.readByte())!=-1;)this.zlibState.raw+=String.fromCharCode(d);this.zlibState.stream||(this.zlibState.stream=ZLIB.inflateInit()),this.zlibState.raw=this.zlibState.stream.inflate(this.zlibState.raw);let h=new CharReader(this.zlibState.raw),E=new Utf8Translator(h),m=new TextReader(E);this.buffer+=m.readToEnd()}catch(d){log("ZLIB processing failed:",d)}this.process()}initializeSocket(){log("Socket: setting websocket proxy to ".concat(this.proxy)),log("Socket: connecting"),this.ws=new WebSocket(this.proxy),this.ws.onopen=this.handleOpen,this.ws.onclose=this.handleClose,this.ws.onmessage=this.handleMessage,this.ws.onerror=this.handleError,window.onbeforeunload=()=>{this.ws.onclose=null,this.ws.close()}}send(n){var a;if(n=n.trim(),n=Event$1.fire("before_send",n,this),!n.includes("macro")&&!n.includes("alias")&&!n.includes("trig")&&config$1.separator.length){const c=new RegExp(config$1.separator,"g");n=n.replace(c,"\r\n")}return this.ws.send&&this.connected?((a=this.out)==null||a.echo(n),config$1.useMuProtocol&&(n=MU_CHANNELS.TEXT+n),log("Socket.send: ".concat(n)),this.ws.send(n+"\r\n")):this.out&&this.out.add('<span style="font-size: 12px; color: green;">WARNING: please connect first.<br></span>'),this}sendBinary(n){return this.connected?(log("Socket.sendBin: ".concat(n)),this.ws.send(stringify({bin:n})),this):(log("attempt to sendBin before socket connect"),this)}sendMSDP(n){return this.connected?(log("Socket.sendMSDP: ".concat(stringify(n))),this.ws.send(stringify({msdp:n})),this):(log("attempt to sendMSDP before socket connect"),this)}sendGMCP(n){return this.connected?(this.ws.send(stringify({gmcp:n})),this):(log("attempt to sendGMCP before socket connect"),this)}process(n=!1){if(!this.buffer.length)return;let a=this.buffer;this.buffer="",a=this.prepareContent(a,n),a&&(this.out.add(a),Event$1.fire("after_display",a))}prepareContent(n,a=!1){var f,d,u,h,E;let c=n;if(c.match(/\xff\xfa[^\xff\xf0\x01]+$/)&&!a){log("protocol split protection waiting for more input."),this.buffer=c,setTimeout(()=>this.process(!0),1e3);return}if((f=config$1.mxp)!=null&&f.enabled){const m=c.match(/\x1b\[[1-7]z/g);if(m&&m.length%2&&!a){log("mxp split protection waiting for more input: "+m.length),log(c),this.buffer=c;return}}if(c.match(/\x1b\[[^mz]+$/)&&!a){log("ansi split protection is waiting for more input."),this.buffer=c,setTimeout(()=>this.process(!0),500);return}if(c.match(/<dest/i)&&!a&&(!c.match(/<\/dest/i)||((d=c.match(/<dest/gi))==null?void 0:d.length)!==((u=c.match(/<\/dest/gi))==null?void 0:u.length))){this.buffer=c;return}if(c=Event$1.fire("before_process",c),config$1.useMuProtocol){if(c.startsWith(MU_CHANNELS.TEXT))c=c.substring(MU_CHANNELS.TEXT.length);else if(c.startsWith(MU_CHANNELS.JSON)){c=c.substring(MU_CHANNELS.JSON.length),Event$1.fire("gmcp",c);return}else if(c.startsWith(MU_CHANNELS.PUEBLO)){c=c.substring(MU_CHANNELS.PUEBLO.length),Event$1.fire("pueblo",c);return}}if(c.includes("E")&&(log("Got IAC WILL MSDP"),Event$1.fire("will_msdp",this),c=c.replace(/\xff\xfb\x45/,"")),c.includes("")&&(log("Got IAC WILL GMCP"),Event$1.fire("will_gmcp",this),c=c.replace(/\xff\xfb\xc9/,"")),c.includes("E")){const m=c.match(/\xff\xfaE([^]+?)\xff\xf0/gm);if(m!=null&&m.length)for(let b=0;b<m.length;b++){let _=m[b].substring(4,m[b].length-2);log("detected & parsing msdp: "),_=_.replace("//g","MSDP_VAL").replace("//g","MSDP_TABLE_OPEN").replace("//g","MSDP_TABLE_CLOSE").replace("//g","MSDP_ARRAY_OPEN").replace("//g","MSDP_ARRAY_CLOSE").split(""),log(_),Event$1.fire("msdp",_),c=c.replace(m[b],"")}}if(!this.utf8&&c.includes("* UTF-8")&&(this.utf8=!0,log("UTF-8 enabled."),c=c.replace(/.. UTF-8../,"")),c.includes("")){const m=c.match(/\xff\xfa\xc9([^]+?)\xff\xf0/gm);if(m!=null&&m.length)for(let b=0;b<m.length;b++){const _=m[b].substring(3,m[b].length-2);log("detected gmcp"),Event$1.fire("gmcp",_),c=c.replace(m[b],"")}if(c.includes(""))return this.buffer=c,""}if(c.includes("")){const m=c.match(/\xff\xfa\xc8([^]+?)\xff\xf0/gm);if(m!=null&&m.length)for(let b=0;b<m.length;b++){const _=m[b].substring(3,m[b].length-2);log("detected atcp:"+_),Event$1.fire("atcp",_),c=c.replace(m[b],"")}}if(c.includes("[")&&config$1.base64&&this.ws.send("["),c.includes("")&&(log("IAC WILL ECHO"),(h=config$1.ScrollView)==null||h.echoOff(),c=c.replace(/\xff.\x01/g,"")),c.includes("")&&(log("IAC WONT ECHO"),(E=config$1.ScrollView)==null||E.echoOn(),c=c.replace(/\xff.\x01/g,"")),c=Event$1.fire("internal_mxp",c),c=Event$1.fire("after_protocols",c,this),c.includes("")&&config$1.debug){log("Unhandled IAC sequence:");const m=Array.from(c).map(b=>b.charCodeAt(0));log(m)}return c.includes("\x07")&&new Audio("/app/sound/ding.mp3").play(),c=c.replace(/([^\x1b])</g,"$1&lt;").replace(/([^\x1b])>/g,"$1&gt;").replace(/\x1b>/g,">").replace(/\x1b</g,"<"),c=Event$1.fire("before_html",c,this),c=c.replace(/([^"'])(http.*:\/\/[^\s\x1b"']+)/g,'$1<a href="$2" target="_blank">$2</a>'),c=Event$1.fire("internal_colorize",c,this),c=c.replace(/\xff\xfa.+\xff\xf0/g,"").replace(/\xff(\xfa|\xfb|\xfc|\xfd|\xfe)./g,"").replace(/\x07/g,"").replace(/\x1b\[1;1/g,"").replace(/([])/g,"").replace(/\x1b\[[A-Z0-9]/gi,"").replace(";0;37","").replace(/\uFFFF/gi,"").replace(/\n\r/g,"\n").replace(/\r\n/g,"\n"),c.match(/^\x1b+$/)?"":Event$1.fire("before_display",c)}reconnect(){this.connected&&(this.ws.onclose=null,this.ws.close()),this.buffer="",config$1.mxp.disable(),this.initializeSocket()}type(){return this.options.type}write(n){this.connected&&(log("Socket.write: ".concat(n)),this.send(n))}getProxy(){return this.proxy}getSocket(){return this.ws}connected(){return this.connected}}X(Socket,"PROTOCOL",{IS:0,REQUEST:1,ACCEPTED:2,REJECTED:3,TTYPE:24,ESC:33,CHARSET:42,MCCP2:86,MSDP:69,MXP:91,WILL:251,ATCP:200,GMCP:201,SE:240,SB:250,WONT:252,DO:253,DONT:254,IAC:255});const j$9=jQuery;class ControlPanel{constructor(){window.user&&(this.touch&&param("host")||(this.id="#control-panel",this.mobile=config$1.device.mobile,this.touch=config$1.device.touch,this.chatlog=[],this.mychannel=null,this.nice=null,this.sound=!1,this.pref=window.user.pref,this.exposeToConfig()))}async initialize(){this.initWindow(),this.initLayout(),await this.loadGamelist(),this.initEventListeners(),this.initChat(),this.touch||j$9("".concat(this.id," .nice")).niceScroll({cursorborder:"none",cursorwidth:"7px"})}initWindow(){this.win=new Window({id:this.id,title:"Game Center",noresize:1,closeable:0,class:"nofade",css:{width:700,height:500,top:0,right:0,opacity:1,zIndex:101}}),j$9(this.id).get(0).win=this.win}initLayout(){j$9("".concat(this.id," .content")).append('\n      <div style="width: 27%; border-right: 1px solid #222;" class="left gamelist nice"></div>\n      <div class="left gamepanel" style="width: 72%; height: 100%"></div>\n    '),this.touch&&(this.win.maximize(),j$9("".concat(this.id," .gamelist")).css({width:"50%"}),j$9("".concat(this.id," .gamepanel")).css({width:"49%",overflow:"hidden"}).addClass("nice"))}loadProfiles(){j$9("".concat(this.id," .gamelist")).prepend('\n      <div class="profiles">\n        <a class="folder" data="profile-link">\n          <i class="icon-folder-open-alt"></i> My Profiles\n        </a><br>\n      </div>\n    '),this.pref.profiles&&Object.entries(this.pref.profiles).forEach(([n,a])=>{if((config$1.clean||config$1.solo)&&config$1.host!==a.host)return;const c=this.sitelist.findIndex(d=>d.host===a.host),f=this.sitelist[c];j$9("".concat(this.id," .gamelist .profiles")).append('\n        <a class="profile-link" \n           host="'.concat(f.host,'" \n           port="').concat(f.port,'" \n           thumb="').concat(f.img,'" \n           profile="').concat(n,'" \n           name="').concat(f.name,'">\n          <i class="icon-star-empty"></i> ').concat(n,"<br>\n        </a>\n      "))})}async loadMudconnectList(){if(!(config$1.solo||config$1.clean||this.touch))try{j$9("".concat(this.id," .gamelist .profiles")).after('\n        <div class="tmc">\n          <a class="tmc-list folder">\n            <i class="icon-folder-close-alt"></i> Big List (A-Z)<br>\n          </a>\n        </div>\n      ');const a=await(await fetch("/mudconnect/mudconnect.xml")).text(),f=new DOMParser().parseFromString(a,"text/xml");Array.from(f.querySelectorAll("mud")).sort((u,h)=>{const E=u.querySelector("title").textContent,m=h.querySelector("title").textContent;return E.localeCompare(m)}).forEach(u=>{const h=u.querySelector("title").textContent,E=u.querySelector("host").textContent,m=u.querySelector("port").textContent;h&&E&&m&&j$9("".concat(this.id," .gamelist .tmc")).append('\n            <a style="display:none" \n               class="tmc-link game-link" \n               host="'.concat(E,'" \n               port="').concat(m,'" \n               thumb="" \n               name="').concat(h,'">\n              ').concat(h,"<br>\n            </a>\n          "))})}catch(n){log("Error loading mudconnect.xml:",n)}}async loadSiteList(){j$9("".concat(this.id," .gamelist")).append('\n      <div class="sitelist">\n        <a class="big-list folder" data="game-link">\n          <i class="icon-folder-open-alt"></i> Site List<br>\n        </a>\n      </div>\n    ');try{(await(await fetch("/sitelist/sitelist.json")).json()).forEach((c,f)=>{var d;try{const u=(d=c.elements)==null?void 0:d.replace(/&amp;/g,"&");if(!u)return;const h=u.match(/\[play=(.+?)\]/);if(!h)return;const E=h[1].replace(/\\\//g,"/");if(E.includes("http"))c.host=E.param("host"),c.port=E.param("port");else{const[b,_]=E.split(":");c.host=b,c.port=_}if((!c.host||!c.port)&&!(c.host&&c.port)){log("Skipping game:",stringify(c));return}if((config$1.clean||config$1.solo)&&config$1.host!==c.host)return;let m=c.img;m&&!m.startsWith("/")&&(m="/"+m),j$9("".concat(this.id," .sitelist")).append('\n            <a class="game-link" \n               data="'.concat(f,'" \n               host="').concat(c.host,'" \n               port="').concat(c.port,'" \n               thumb="').concat(m,'" \n               name="').concat(c.name,'">\n              <i class="icon-sun"></i> ').concat(c.name,"<br>\n            </a>\n          "))}catch(u){log("Error processing game:",u,c)}})}catch(n){log("Error loading sitelist.json:",n)}}loadChat(){j$9("".concat(this.id," .gamelist")).prepend('\n      <div class="chatlist">\n        <a class="chat-list folder" data="chat-link">\n          <i class="icon-folder-open-alt"></i> Portal Chat<br>\n        </a>\n      </div>\n    '),["Lobby","Players","Devs"].forEach(a=>{j$9("".concat(this.id," .chatlist")).append('\n        <a class="chat-link" data="'.concat(a,'">\n          <i class="icon-comment-alt"></i> ').concat(a,"<br>\n        </a>\n      "))})}async loadGamelist(){j$9("".concat(this.id," .gamelist")).empty(),await this.loadSiteList(),await this.loadMudconnectList(),this.loadProfiles(),this.loadChat()}initEventListeners(){this.initDoubleClickHandler(),this.initFolderClickHandler(),this.initGameLinkHandler()}initDoubleClickHandler(){j$9(this.id).on("dblclick",".tmc",n=>{n.stopPropagation(),j$9(".tmc .folder").click(),j$9(".gamelist").scrollTop(0)})}initFolderClickHandler(){j$9(this.id).on("click"," .folder",n=>{n.stopPropagation();const a=j$9(n.currentTarget);a.siblings().toggle(),a.find("i").toggleClass("icon-folder-open-alt icon-folder-close-alt"),j$9(".gamelist").getNiceScroll().resize()})}initGameLinkHandler(){j$9(this.id).on("click"," .game-link, .profile-link",n=>{n.stopPropagation(),this.mychannel=null;const a=j$9(n.currentTarget);j$9(".gamelist a").removeClass("game-link-selected"),a.addClass("game-link-selected"),a.hasClass("profile-link"),a.hasClass("tmc-link");const c=j$9("".concat(this.id," .gamepanel"));c.removeAttr("profile");const f={name:a.attr("name"),host:a.attr("host"),port:a.attr("port"),thumb:a.attr("thumb"),profile:a.attr("profile")};this.updateGamePanel(c,f)})}updateGamePanel(n,a){const{name:c,host:f,port:d,thumb:u,profile:h}=a;n.attr({name:c,host:f,port:d,...h&&{profile:h}});const E="/play?host=".concat(f,"&port=").concat(d,"&name=").concat(encodeURIComponent(c)).concat(h?"&profile=".concat(encodeURIComponent(h)):""),m='<a href="'.concat(E,'" class="button-primary">play</a>'),b="".concat(c).concat(h?": ".concat(h):"");j$9(".gamepanel .scroll").niceScroll("destroy"),n.html('\n      <div class="left game-blurb" style="padding: 4px 18px 0px 4px">\n        <img class="game-thumb" src="'.concat(u,'">\n      </div>\n      <div class="left" style="padding-top: 4px">\n        ').concat(b,'\n        <div style="height: 8px; clear: both"></div>\n        ').concat(m,"\n      </div>\n    ")),this.mobile||(this.appendButtons(n,h),this.appendTabs(n,h),this.loadSettings(n))}appendButtons(n,a){a?n.append('\n        <br>\n        <a class="kbutton save right tip" title="Save your preferences for this profile.">\n          <i class="icon-save"></i> save\n        </a>\n        <a class="kbutton pdel right tip" title="Delete this game profile.">\n          <i class="icon-remove"></i> delete\n        </a>\n        <div style="clear: both"></div>\n      '):n.append('\n        <br>\n        <a class="kbutton save right tip" title="Save your preferences for this game.">\n          <i class="icon-save"></i> save\n        </a>\n        <a class="kbutton clone right tip" title="Create a profile for this game.">\n          <i class="icon-copy"></i> profile\n        </a>\n        <div style="clear: both"></div>\n      ')}appendTabs(n,a){n.append('\n      <ul class="nav nav-tabs">\n        <li class="active">\n          <a href="#macros" class="kbutton" data-toggle="tab">\n            <i class="icon-retweet"></i> macros\n          </a>\n        </li>\n        <li>\n          <a href="#triggers" class="kbutton" data-toggle="tab">\n            <i class="icon-reply"></i> triggers\n          </a>\n        </li>\n        <li>\n          <a href="#settings" class="kbutton settings" data-toggle="tab">\n            <i class="icon-cog"></i> settings\n          </a>\n        </li>\n      </ul>\n    '),a||j$9("".concat(this.id," .gamepanel ul")).append('\n        <span class="kbutton right" title="Configurations at this level will apply to all profiles for this game">\n          <i class="icon-question"></i>\n        </span>\n      '),n.append('\n      <div class="tab-content">\n        <div class="tab-pane active" id="macros">\n          Macros support arguments (wildcards) in the format $1, $2... $*. \n          The macro "$me -> Myname" will replace $me with Myname in any other macros or triggers.\n          <br><br>\n          <a class="right kbutton macro-add">\n            <i class="icon-plus"></i> new\n          </a>\n          <div class="scroll"></div>\n        </div>\n        <div class="tab-pane" id="triggers">\n          Triggers support wildcards in the format $1, $2... $9.\n          <br><br>\n          <a class="right kbutton trigger-add">\n            <i class="icon-plus"></i> new\n          </a>\n          <div class="scroll"></div>\n        </div>\n        <div class="tab-pane" id="settings">\n          <div class="scroll"></div>\n        </div>\n      </div>\n    ')}loadSettings(n){var u,h;const a=n.attr("name"),c=n.attr("profile");if(window.user.id&&this.pref){const E=c?(u=this.pref.profiles)==null?void 0:u[c]:(h=this.pref.sitelist)==null?void 0:h[a];E&&(this.loadMacros(E.macros),this.loadTriggers(E.triggers))}const f=j$9("".concat(this.id," .gamepanel #settings .scroll"));[["official","Auto-load official plugins"],["echo","Echo commands to main window"],["keepcom","Keep last command in input"],["spellcheck","Spellcheck command input",!0],["mxp","Enable MXP"],["automulti","Auto-paste multiline selects in multiline input",!0]].forEach(([E,m,b])=>{f.append('\n        <i class="icon-'.concat(b?"unchecked":"check",'" id="').concat(E,'"></i> ').concat(m,"<br>\n      "))}),j$9(".gamepanel .scroll").css({height:"280px"}),config$1.touch||j$9(".gamepanel .scroll").niceScroll({cursorborder:"none",cursorwidth:"7px"})}loadMacros(n=[]){const a=j$9("#control-panel #macros .scroll");n.forEach(([c,f,d,u])=>{a.append('\n        <div>\n          <input type="text" style="width: 100px" placeholder="macro name" value="'.concat(c,'">\n          <input type="text" placeholder="commands to send" value="').concat(f,'">\n          <i class="icon-').concat(d?"check":"unchecked",'"></i>\n          <i class="icon-star').concat(u?"":"-empty",'"></i>\n          <i class="icon-remove-sign"></i>\n        </div>\n      '))})}loadTriggers(n=[]){const a=j$9("#control-panel #triggers .scroll");n.forEach(([c,f,d])=>{a.append('\n        <div>\n          <input type="text" style="width: 100px" placeholder="trigger phrase" value="'.concat(c,'">\n          <input type="text" placeholder="response" value="').concat(f,'">\n          <i class="icon-').concat(d?"check":"unchecked",'"></i>\n          <i class="icon-remove-sign"></i>\n        </div>\n      '))})}initChat(){this.chat=new Socket({type:"chat"}),Event$1.listen("chat_open",n=>{log("Event: chat_open"),n===this.chat&&this.chat.send(stringify({chat:1,name:window.user.username||"guest",channel:"op",msg:"joined chat."}))}),Event$1.listen("chat_data",(n,a)=>{const[,c]=n.match(/([^ ]+?) /),[,f]=n.match(/[^ ]+? (.*)/);if(c==="portal.chatlog")this.chatlog=JSON.parse(f),this.chatUpdate();else if(c==="portal.chat"){const d=[new Date().toISOString(),JSON.parse(f)];new Audio("/app/sound/blop.mp3").play(),this.chatlog.push(d),this.chatUpdate(d)}return null}),Event$1.listen("chat_before_close",n=>{n===this.chat&&this.chat.send(stringify({chat:1,name:window.user.username||"guest",channel:"op",msg:"left chat."}))}),Event$1.listen("chat_close",n=>{n===this.chat&&(j$9("".concat(this.id," .chatlist")).remove(),this.closeChat())}),param("profile")?j$9("".concat(this.id," .profile-link")).each((n,a)=>{j$9(a).attr("profile")===param("profile")&&j$9(a).click()}):param("host")?j$9("".concat(this.id," .game-link")).each((n,a)=>{j$9(a).attr("host")===param("host")&&j$9(a).click()}):j$9("".concat(this.id," .game-link:first")).length&&j$9("".concat(this.id," .game-link:first")).click()}closeChat(){j$9("".concat(this.id," .chat-panel")).remove(),this.nice&&this.nice.remove(),window.user.channel&&delete window.user.channel}chatUpdate(n){const a=j$9(".chat-".concat(this.mychannel));n?this.mychannel===n[1].channel&&a.append(this.formatChatMessage(n[0],n[1])):(a.empty(),this.chatlog.forEach(([c,f])=>{this.mychannel===f.channel?a.append(this.formatChatMessage(c,f)):f.channel==="status"&&a.append(this.formatStatusMessage(c,f))})),a.scrollTop(a.prop("scrollHeight"))}formatChatMessage(n,a){return'\n      <span style="opacity: 0.6">'.concat(n.substr(11,5),'</span>\n      <span style="color: #01c8d4;opacity:0.7">').concat(a.name,": </span>\n      ").concat(this.linkify(a.msg),"<br>\n    ")}formatStatusMessage(n,a){return'\n      <span style="opacity: 0.6">'.concat(n.substr(11,5),'</span>\n      <span style="color: #FFEB9E;opacity:0.6">').concat(a.name,' </span>\n      <span style="opacity: 0.7">').concat(this.linkify(a.msg),"</span><br>\n    ")}linkify(n){return n.replace(/([^"']|^)(http.*:\/\/[^\s\x1b"']+)/g,'$1<a href="$2" target="_blank">$2</a>')}exposeToConfig(){config$1.ControlPanel=this,setTimeout(()=>{Event$1.fire("controlpanel_ready",this)},500)}}var FileSaver_min$1={exports:{}},FileSaver_min=FileSaver_min$1.exports,hasRequiredFileSaver_min;function requireFileSaver_min(){return hasRequiredFileSaver_min||(hasRequiredFileSaver_min=1,function(l,n){(function(a,c){c()})(FileSaver_min,function(){function a(m,b){return typeof b>"u"?b={autoBom:!1}:typeof b!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function c(m,b,_){var v=new XMLHttpRequest;v.open("GET",m),v.responseType="blob",v.onload=function(){E(v.response,b,_)},v.onerror=function(){console.error("could not download file")},v.send()}function f(m){var b=new XMLHttpRequest;b.open("HEAD",m,!1);try{b.send()}catch(_){}return 200<=b.status&&299>=b.status}function d(m){try{m.dispatchEvent(new MouseEvent("click"))}catch(_){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(b)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,h=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),E=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(m,b,_){var v=u.URL||u.webkitURL,T=document.createElement("a");b=b||m.name||"download",T.download=b,T.rel="noopener",typeof m=="string"?(T.href=m,T.origin===location.origin?d(T):f(T.href)?c(m,b,_):d(T,T.target="_blank")):(T.href=v.createObjectURL(m),setTimeout(function(){v.revokeObjectURL(T.href)},4e4),setTimeout(function(){d(T)},0))}:"msSaveOrOpenBlob"in navigator?function(m,b,_){if(b=b||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(a(m,_),b);else if(f(m))c(m,b,_);else{var v=document.createElement("a");v.href=m,v.target="_blank",setTimeout(function(){d(v)})}}:function(m,b,_,v){if(v=v||open("","_blank"),v&&(v.document.title=v.document.body.innerText="downloading..."),typeof m=="string")return c(m,b,_);var T=m.type==="application/octet-stream",$=/constructor/i.test(u.HTMLElement)||u.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||T&&$||h)&&typeof FileReader<"u"){var O=new FileReader;O.onloadend=function(){var R=O.result;R=C?R:R.replace(/^data:[^;]*;/,"data:attachment/file;"),v?v.location.href=R:location=R,v=null},O.readAsDataURL(m)}else{var I=u.URL||u.webkitURL,M=I.createObjectURL(m);v?v.location=M:location.href=M,v=null,setTimeout(function(){I.revokeObjectURL(M)},4e4)}});u.saveAs=E.saveAs=E,l.exports=E})}(FileSaver_min$1)),FileSaver_min$1.exports}var FileSaver_minExports=requireFileSaver_min();/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function _defineProperty(l,n,a){return(n=_toPropertyKey(n))in l?Object.defineProperty(l,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[n]=a,l}function ownKeys(l,n){var a=Object.keys(l);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(l);n&&(c=c.filter(function(f){return Object.getOwnPropertyDescriptor(l,f).enumerable})),a.push.apply(a,c)}return a}function _objectSpread2(l){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?ownKeys(Object(a),!0).forEach(function(c){_defineProperty(l,c,a[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(c){Object.defineProperty(l,c,Object.getOwnPropertyDescriptor(a,c))})}return l}function _toPrimitive(l,n){if(typeof l!="object"||!l)return l;var a=l[Symbol.toPrimitive];if(a!==void 0){var c=a.call(l,n);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(l)}function _toPropertyKey(l){var n=_toPrimitive(l,"string");return typeof n=="symbol"?n:n+""}const noop=()=>{};let _WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop,measure:noop};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(l){}const{userAgent=""}=_WINDOW.navigator||{},WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;const IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/");var p=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,g=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,S={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},A={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},P=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],s="classic",t="duotone",r="sharp",o="sharp-duotone",L=[s,t,r,o],G={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},lt={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},pt=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),xt={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Ft=["fak","fa-kit","fakd","fa-kit-duotone"],St={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},At=["kit"],Ct={kit:{"fa-kit":"fak"}},Lt=["fak","fakd"],Wt={kit:{fak:"fa-kit"}},Et={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},t$1={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},r$1=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],bt$1=["fak","fa-kit","fakd","fa-kit-duotone"],Yt={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},ua={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},I$1={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},ga={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},x=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Ia=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...r$1,...x],m$1=["solid","regular","light","thin","duotone","brands"],c$1=[1,2,3,4,5,6,7,8,9,10],F$1=c$1.concat([11,12,13,14,15,16,17,18,19,20]),ma=[...Object.keys(I$1),...m$1,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",t$1.GROUP,t$1.SWAP_OPACITY,t$1.PRIMARY,t$1.SECONDARY].concat(c$1.map(l=>"".concat(l,"x"))).concat(F$1.map(l=>"w-".concat(l))),wa={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION=(()=>{try{return!0}catch(l){return!1}})();function familyProxy(l){return new Proxy(l,{get(n,a){return a in n?n[a]:n[s]}})}const _PREFIX_TO_STYLE=_objectSpread2({},S);_PREFIX_TO_STYLE[s]=_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},{"fa-duotone":"duotone"}),S[s]),St.kit),St["kit-duotone"]);const PREFIX_TO_STYLE=familyProxy(_PREFIX_TO_STYLE),_STYLE_TO_PREFIX=_objectSpread2({},xt);_STYLE_TO_PREFIX[s]=_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},{duotone:"fad"}),_STYLE_TO_PREFIX[s]),Et.kit),Et["kit-duotone"]);const STYLE_TO_PREFIX=familyProxy(_STYLE_TO_PREFIX),_PREFIX_TO_LONG_STYLE=_objectSpread2({},ga);_PREFIX_TO_LONG_STYLE[s]=_objectSpread2(_objectSpread2({},_PREFIX_TO_LONG_STYLE[s]),Wt.kit);const PREFIX_TO_LONG_STYLE=familyProxy(_PREFIX_TO_LONG_STYLE),_LONG_STYLE_TO_PREFIX=_objectSpread2({},ua);_LONG_STYLE_TO_PREFIX[s]=_objectSpread2(_objectSpread2({},_LONG_STYLE_TO_PREFIX[s]),Ct.kit);familyProxy(_LONG_STYLE_TO_PREFIX);const ICON_SELECTION_SYNTAX_PATTERN=p,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=g,_FONT_WEIGHT_TO_PREFIX=_objectSpread2({},G);familyProxy(_FONT_WEIGHT_TO_PREFIX);const ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES=A,RESERVED_CLASSES=[...At,...ma],initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(l){var n=DOCUMENT.querySelector("script["+l+"]");if(n)return n.getAttribute(l)}function coerce(l){return l===""?!0:l==="false"?!1:l==="true"?!0:l}DOCUMENT&&typeof DOCUMENT.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(n=>{let[a,c]=n;const f=coerce(getAttrConfig(a));f!=null&&(initial[c]=f)});const _default={styleDefault:"solid",familyDefault:s,cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);const _config=_objectSpread2(_objectSpread2({},_default),initial);_config.autoReplaceSvg||(_config.observeMutations=!1);const config={};Object.keys(_default).forEach(l=>{Object.defineProperty(config,l,{enumerable:!0,set:function(n){_config[l]=n,_onChangeCb.forEach(a=>a(config))},get:function(){return _config[l]}})});Object.defineProperty(config,"familyPrefix",{enumerable:!0,set:function(l){_config.cssPrefix=l,_onChangeCb.forEach(n=>n(config))},get:function(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config;const _onChangeCb=[];function onChange(l){return _onChangeCb.push(l),()=>{_onChangeCb.splice(_onChangeCb.indexOf(l),1)}}const d$2=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(l){if(!l||!IS_DOM)return;const n=DOCUMENT.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=l;const a=DOCUMENT.head.childNodes;let c=null;for(let f=a.length-1;f>-1;f--){const d=a[f],u=(d.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(c=d)}return DOCUMENT.head.insertBefore(n,c),l}const idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){let l=12,n="";for(;l-- >0;)n+=idPool[Math.random()*62|0];return n}function toArray(l){const n=[];for(let a=(l||[]).length>>>0;a--;)n[a]=l[a];return n}function classArray(l){return l.classList?toArray(l.classList):(l.getAttribute("class")||"").split(" ").filter(n=>n)}function htmlEscape(l){return"".concat(l).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(l){return Object.keys(l||{}).reduce((n,a)=>n+"".concat(a,'="').concat(htmlEscape(l[a]),'" '),"").trim()}function joinStyles(l){return Object.keys(l||{}).reduce((n,a)=>n+"".concat(a,": ").concat(l[a].trim(),";"),"")}function transformIsMeaningful(l){return l.size!==meaninglessTransform.size||l.x!==meaninglessTransform.x||l.y!==meaninglessTransform.y||l.rotate!==meaninglessTransform.rotate||l.flipX||l.flipY}function transformForSvg(l){let{transform:n,containerWidth:a,iconWidth:c}=l;const f={transform:"translate(".concat(a/2," 256)")},d="translate(".concat(n.x*32,", ").concat(n.y*32,") "),u="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),h="rotate(".concat(n.rotate," 0 0)"),E={transform:"".concat(d," ").concat(u," ").concat(h)},m={transform:"translate(".concat(c/2*-1," -256)")};return{outer:f,inner:E,path:m}}function transformForCss(l){let{transform:n,width:a=UNITS_IN_GRID,height:c=UNITS_IN_GRID,startCentered:f=!1}=l,d="";return f&&IS_IE?d+="translate(".concat(n.x/d$2-a/2,"em, ").concat(n.y/d$2-c/2,"em) "):f?d+="translate(calc(-50% + ".concat(n.x/d$2,"em), calc(-50% + ").concat(n.y/d$2,"em)) "):d+="translate(".concat(n.x/d$2,"em, ").concat(n.y/d$2,"em) "),d+="scale(".concat(n.size/d$2*(n.flipX?-1:1),", ").concat(n.size/d$2*(n.flipY?-1:1),") "),d+="rotate(".concat(n.rotate,"deg) "),d}var baseStyles=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';function css(){const l=DEFAULT_CSS_PREFIX,n=DEFAULT_REPLACEMENT_CLASS,a=config.cssPrefix,c=config.replacementClass;let f=baseStyles;if(a!==l||c!==n){const d=new RegExp("\\.".concat(l,"\\-"),"g"),u=new RegExp("\\--".concat(l,"\\-"),"g"),h=new RegExp("\\.".concat(n),"g");f=f.replace(d,".".concat(a,"-")).replace(u,"--".concat(a,"-")).replace(h,".".concat(c))}return f}let _cssInserted=!1;function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout(){return{dom:{css,insertCss:ensureCss}}},hooks(){return{beforeDOMElementCreation(){ensureCss()},beforeI2svg(){ensureCss()}}}};const w=WINDOW||{};w[NAMESPACE_IDENTIFIER]||(w[NAMESPACE_IDENTIFIER]={});w[NAMESPACE_IDENTIFIER].styles||(w[NAMESPACE_IDENTIFIER].styles={});w[NAMESPACE_IDENTIFIER].hooks||(w[NAMESPACE_IDENTIFIER].hooks={});w[NAMESPACE_IDENTIFIER].shims||(w[NAMESPACE_IDENTIFIER].shims=[]);var namespace=w[NAMESPACE_IDENTIFIER];const functions=[],listener=function(){DOCUMENT.removeEventListener("DOMContentLoaded",listener),loaded=1,functions.map(l=>l())};let loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(l){IS_DOM&&(loaded?setTimeout(l,0):functions.push(l))}function toHtml(l){const{tag:n,attributes:a={},children:c=[]}=l;return typeof l=="string"?htmlEscape(l):"<".concat(n," ").concat(joinAttributes(a),">").concat(c.map(toHtml).join(""),"</").concat(n,">")}function iconFromMapping(l,n,a){if(l&&l[n]&&l[n][a])return{prefix:n,iconName:a,icon:l[n][a]}}var reduce=function l(n,a,c,f){var d=Object.keys(n),u=d.length,h=a,E,m,b;for(c===void 0?(E=1,b=n[d[0]]):(E=0,b=c);E<u;E++)m=d[E],b=h(b,n[m],m,n);return b};function ucs2decode(l){const n=[];let a=0;const c=l.length;for(;a<c;){const f=l.charCodeAt(a++);if(f>=55296&&f<=56319&&a<c){const d=l.charCodeAt(a++);(d&64512)==56320?n.push(((f&1023)<<10)+(d&1023)+65536):(n.push(f),a--)}else n.push(f)}return n}function toHex(l){const n=ucs2decode(l);return n.length===1?n[0].toString(16):null}function codePointAt(l,n){const a=l.length;let c=l.charCodeAt(n),f;return c>=55296&&c<=56319&&a>n+1&&(f=l.charCodeAt(n+1),f>=56320&&f<=57343)?(c-55296)*1024+f-56320+65536:c}function normalizeIcons(l){return Object.keys(l).reduce((n,a)=>{const c=l[a];return!!c.icon?n[c.iconName]=c.icon:n[a]=c,n},{})}function defineIcons(l,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:c=!1}=a,f=normalizeIcons(n);typeof namespace.hooks.addPack=="function"&&!c?namespace.hooks.addPack(l,normalizeIcons(n)):namespace.styles[l]=_objectSpread2(_objectSpread2({},namespace.styles[l]||{}),f),l==="fas"&&defineIcons("fa",n)}const{styles,shims}=namespace,FAMILY_NAMES=Object.keys(PREFIX_TO_LONG_STYLE),PREFIXES_FOR_FAMILY=FAMILY_NAMES.reduce((l,n)=>(l[n]=Object.keys(PREFIX_TO_LONG_STYLE[n]),l),{});let _defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={};function isReserved(l){return~RESERVED_CLASSES.indexOf(l)}function getIconName(l,n){const a=n.split("-"),c=a[0],f=a.slice(1).join("-");return c===l&&f!==""&&!isReserved(f)?f:null}const build=()=>{const l=c=>reduce(styles,(f,d,u)=>(f[u]=reduce(d,c,{}),f),{});_byUnicode=l((c,f,d)=>(f[3]&&(c[f[3]]=d),f[2]&&f[2].filter(h=>typeof h=="number").forEach(h=>{c[h.toString(16)]=d}),c)),_byLigature=l((c,f,d)=>(c[d]=d,f[2]&&f[2].filter(h=>typeof h=="string").forEach(h=>{c[h]=d}),c)),_byAlias=l((c,f,d)=>{const u=f[2];return c[d]=d,u.forEach(h=>{c[h]=d}),c});const n="far"in styles||config.autoFetchSvg,a=reduce(shims,(c,f)=>{const d=f[0];let u=f[1];const h=f[2];return u==="far"&&!n&&(u="fas"),typeof d=="string"&&(c.names[d]={prefix:u,iconName:h}),typeof d=="number"&&(c.unicodes[d.toString(16)]={prefix:u,iconName:h}),c},{names:{},unicodes:{}});_byOldName=a.names,_byOldUnicode=a.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config.styleDefault,{family:config.familyDefault})};onChange(l=>{_defaultUsablePrefix=getCanonicalPrefix(l.styleDefault,{family:config.familyDefault})});build();function byUnicode(l,n){return(_byUnicode[l]||{})[n]}function byLigature(l,n){return(_byLigature[l]||{})[n]}function byAlias(l,n){return(_byAlias[l]||{})[n]}function byOldName(l){return _byOldName[l]||{prefix:null,iconName:null}}function byOldUnicode(l){const n=_byOldUnicode[l],a=byUnicode("fas",l);return n||(a?{prefix:"fas",iconName:a}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}const emptyCanonicalIcon=()=>({prefix:null,iconName:null,rest:[]});function getFamilyId(l){let n=s;const a=FAMILY_NAMES.reduce((c,f)=>(c[f]="".concat(config.cssPrefix,"-").concat(f),c),{});return L.forEach(c=>{(l.includes(a[c])||l.some(f=>PREFIXES_FOR_FAMILY[c].includes(f)))&&(n=c)}),n}function getCanonicalPrefix(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:a=s}=n,c=PREFIX_TO_STYLE[a][l];if(a===t&&!l)return"fad";const f=STYLE_TO_PREFIX[a][l]||STYLE_TO_PREFIX[a][c],d=l in namespace.styles?l:null;return f||d||null}function moveNonFaClassesToRest(l){let n=[],a=null;return l.forEach(c=>{const f=getIconName(config.cssPrefix,c);f?a=f:c&&n.push(c)}),{iconName:a,rest:n}}function sortedUniqueValues(l){return l.sort().filter((n,a,c)=>c.indexOf(n)===a)}function getCanonicalIcon(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:a=!1}=n;let c=null;const f=Ia.concat(bt$1),d=sortedUniqueValues(l.filter(_=>f.includes(_))),u=sortedUniqueValues(l.filter(_=>!Ia.includes(_))),h=d.filter(_=>(c=_,!P.includes(_))),[E=null]=h,m=getFamilyId(d),b=_objectSpread2(_objectSpread2({},moveNonFaClassesToRest(u)),{},{prefix:getCanonicalPrefix(E,{family:m})});return _objectSpread2(_objectSpread2(_objectSpread2({},b),getDefaultCanonicalPrefix({values:l,family:m,styles,config,canonical:b,givenPrefix:c})),applyShimAndAlias(a,c,b))}function applyShimAndAlias(l,n,a){let{prefix:c,iconName:f}=a;if(l||!c||!f)return{prefix:c,iconName:f};const d=n==="fa"?byOldName(f):{},u=byAlias(c,f);return f=d.iconName||u||f,c=d.prefix||c,c==="far"&&!styles.far&&styles.fas&&!config.autoFetchSvg&&(c="fas"),{prefix:c,iconName:f}}const newCanonicalFamilies=L.filter(l=>l!==s||l!==t),newCanonicalStyles=Object.keys(ga).filter(l=>l!==s).map(l=>Object.keys(ga[l])).flat();function getDefaultCanonicalPrefix(l){const{values:n,family:a,canonical:c,givenPrefix:f="",styles:d={},config:u={}}=l,h=a===t,E=n.includes("fa-duotone")||n.includes("fad"),m=u.familyDefault==="duotone",b=c.prefix==="fad"||c.prefix==="fa-duotone";if(!h&&(E||m||b)&&(c.prefix="fad"),(n.includes("fa-brands")||n.includes("fab"))&&(c.prefix="fab"),!c.prefix&&newCanonicalFamilies.includes(a)&&(Object.keys(d).find(v=>newCanonicalStyles.includes(v))||u.autoFetchSvg)){const v=pt.get(a).defaultShortPrefixId;c.prefix=v,c.iconName=byAlias(c.prefix,c.iconName)||c.iconName}return(c.prefix==="fa"||f==="fa")&&(c.prefix=getDefaultUsablePrefix()||"fas"),c}class Library{constructor(){this.definitions={}}add(){for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];const f=a.reduce(this._pullDefinitions,{});Object.keys(f).forEach(d=>{this.definitions[d]=_objectSpread2(_objectSpread2({},this.definitions[d]||{}),f[d]),defineIcons(d,f[d]);const u=PREFIX_TO_LONG_STYLE[s][d];u&&defineIcons(u,f[d]),build()})}reset(){this.definitions={}}_pullDefinitions(n,a){const c=a.prefix&&a.iconName&&a.icon?{0:a}:a;return Object.keys(c).map(f=>{const{prefix:d,iconName:u,icon:h}=c[f],E=h[2];n[d]||(n[d]={}),E.length>0&&E.forEach(m=>{typeof m=="string"&&(n[d][m]=h)}),n[d][u]=h}),n}}let _plugins=[],_hooks={};const providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(l,n){let{mixoutsTo:a}=n;return _plugins=l,_hooks={},Object.keys(providers).forEach(c=>{defaultProviderKeys.indexOf(c)===-1&&delete providers[c]}),_plugins.forEach(c=>{const f=c.mixout?c.mixout():{};if(Object.keys(f).forEach(d=>{typeof f[d]=="function"&&(a[d]=f[d]),typeof f[d]=="object"&&Object.keys(f[d]).forEach(u=>{a[d]||(a[d]={}),a[d][u]=f[d][u]})}),c.hooks){const d=c.hooks();Object.keys(d).forEach(u=>{_hooks[u]||(_hooks[u]=[]),_hooks[u].push(d[u])})}c.provides&&c.provides(providers)}),a}function chainHooks(l,n){for(var a=arguments.length,c=new Array(a>2?a-2:0),f=2;f<a;f++)c[f-2]=arguments[f];return(_hooks[l]||[]).forEach(u=>{n=u.apply(null,[n,...c])}),n}function callHooks(l){for(var n=arguments.length,a=new Array(n>1?n-1:0),c=1;c<n;c++)a[c-1]=arguments[c];(_hooks[l]||[]).forEach(d=>{d.apply(null,a)})}function callProvided(){const l=arguments[0],n=Array.prototype.slice.call(arguments,1);return providers[l]?providers[l].apply(null,n):void 0}function findIconDefinition(l){l.prefix==="fa"&&(l.prefix="fas");let{iconName:n}=l;const a=l.prefix||getDefaultUsablePrefix();if(n)return n=byAlias(a,n)||n,iconFromMapping(library.definitions,a,n)||iconFromMapping(namespace.styles,a,n)}const library=new Library,noAuto=()=>{config.autoReplaceSvg=!1,config.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",l),callProvided("pseudoElements2svg",l),callProvided("i2svg",l)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:n}=l;config.autoReplaceSvg===!1&&(config.autoReplaceSvg=!0),config.observeMutations=!0,domready(()=>{autoReplace({autoReplaceSvgRoot:n}),callHooks("watch",l)})}},parse={icon:l=>{if(l===null)return null;if(typeof l=="object"&&l.prefix&&l.iconName)return{prefix:l.prefix,iconName:byAlias(l.prefix,l.iconName)||l.iconName};if(Array.isArray(l)&&l.length===2){const n=l[1].indexOf("fa-")===0?l[1].slice(3):l[1],a=getCanonicalPrefix(l[0]);return{prefix:a,iconName:byAlias(a,n)||n}}if(typeof l=="string"&&(l.indexOf("".concat(config.cssPrefix,"-"))>-1||l.match(ICON_SELECTION_SYNTAX_PATTERN))){const n=getCanonicalIcon(l.split(" "),{skipLookups:!0});return{prefix:n.prefix||getDefaultUsablePrefix(),iconName:byAlias(n.prefix,n.iconName)||n.iconName}}if(typeof l=="string"){const n=getDefaultUsablePrefix();return{prefix:n,iconName:byAlias(n,l)||l}}}},api={noAuto,config,dom,parse,library,findIconDefinition,toHtml},autoReplace=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:n=DOCUMENT}=l;(Object.keys(namespace.styles).length>0||config.autoFetchSvg)&&IS_DOM&&config.autoReplaceSvg&&api.dom.i2svg({node:n})};function domVariants(l,n){return Object.defineProperty(l,"abstract",{get:n}),Object.defineProperty(l,"html",{get:function(){return l.abstract.map(a=>toHtml(a))}}),Object.defineProperty(l,"node",{get:function(){if(!IS_DOM)return;const a=DOCUMENT.createElement("div");return a.innerHTML=l.html,a.children}}),l}function asIcon(l){let{children:n,main:a,mask:c,attributes:f,styles:d,transform:u}=l;if(transformIsMeaningful(u)&&a.found&&!c.found){const{width:h,height:E}=a,m={x:h/E/2,y:.5};f.style=joinStyles(_objectSpread2(_objectSpread2({},d),{},{"transform-origin":"".concat(m.x+u.x/16,"em ").concat(m.y+u.y/16,"em")}))}return[{tag:"svg",attributes:f,children:n}]}function asSymbol(l){let{prefix:n,iconName:a,children:c,attributes:f,symbol:d}=l;const u=d===!0?"".concat(n,"-").concat(config.cssPrefix,"-").concat(a):d;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread2(_objectSpread2({},f),{},{id:u}),children:c}]}]}function makeInlineSvgAbstract(l){const{icons:{main:n,mask:a},prefix:c,iconName:f,transform:d,symbol:u,title:h,maskId:E,titleId:m,extra:b,watchable:_=!1}=l,{width:v,height:T}=a.found?a:n,$=Lt.includes(c),C=[config.replacementClass,f?"".concat(config.cssPrefix,"-").concat(f):""].filter(y=>b.classes.indexOf(y)===-1).filter(y=>y!==""||!!y).concat(b.classes).join(" ");let O={children:[],attributes:_objectSpread2(_objectSpread2({},b.attributes),{},{"data-prefix":c,"data-icon":f,class:C,role:b.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(T)})};const I=$&&!~b.classes.indexOf("fa-fw")?{width:"".concat(v/T*16*.0625,"em")}:{};_&&(O.attributes[DATA_FA_I2SVG]=""),h&&(O.children.push({tag:"title",attributes:{id:O.attributes["aria-labelledby"]||"title-".concat(m||nextUniqueId())},children:[h]}),delete O.attributes.title);const M=_objectSpread2(_objectSpread2({},O),{},{prefix:c,iconName:f,main:n,mask:a,maskId:E,transform:d,symbol:u,styles:_objectSpread2(_objectSpread2({},I),b.styles)}),{children:R,attributes:N}=a.found&&n.found?callProvided("generateAbstractMask",M)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",M)||{children:[],attributes:{}};return M.children=R,M.attributes=N,u?asSymbol(M):asIcon(M)}function makeLayersTextAbstract(l){const{content:n,width:a,height:c,transform:f,title:d,extra:u,watchable:h=!1}=l,E=_objectSpread2(_objectSpread2(_objectSpread2({},u.attributes),d?{title:d}:{}),{},{class:u.classes.join(" ")});h&&(E[DATA_FA_I2SVG]="");const m=_objectSpread2({},u.styles);transformIsMeaningful(f)&&(m.transform=transformForCss({transform:f,startCentered:!0,width:a,height:c}),m["-webkit-transform"]=m.transform);const b=joinStyles(m);b.length>0&&(E.style=b);const _=[];return _.push({tag:"span",attributes:E,children:[n]}),d&&_.push({tag:"span",attributes:{class:"sr-only"},children:[d]}),_}function makeLayersCounterAbstract(l){const{content:n,title:a,extra:c}=l,f=_objectSpread2(_objectSpread2(_objectSpread2({},c.attributes),a?{title:a}:{}),{},{class:c.classes.join(" ")}),d=joinStyles(c.styles);d.length>0&&(f.style=d);const u=[];return u.push({tag:"span",attributes:f,children:[n]}),a&&u.push({tag:"span",attributes:{class:"sr-only"},children:[a]}),u}const{styles:styles$1}=namespace;function asFoundIcon(l){const n=l[0],a=l[1],[c]=l.slice(4);let f=null;return Array.isArray(c)?f={tag:"g",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:c[0]}},{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:c[1]}}]}:f={tag:"path",attributes:{fill:"currentColor",d:c}},{found:!0,width:n,height:a,icon:f}}const missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(l,n){!PRODUCTION&&!config.showMissingIcons&&l&&console.error('Icon with name "'.concat(l,'" and prefix "').concat(n,'" is missing.'))}function findIcon(l,n){let a=n;return n==="fa"&&config.styleDefault!==null&&(n=getDefaultUsablePrefix()),new Promise((c,f)=>{if(a==="fa"){const d=byOldName(l)||{};l=d.iconName||l,n=d.prefix||n}if(l&&n&&styles$1[n]&&styles$1[n][l]){const d=styles$1[n][l];return c(asFoundIcon(d))}maybeNotifyMissing(l,n),c(_objectSpread2(_objectSpread2({},missingIconResolutionMixin),{},{icon:config.showMissingIcons&&l?callProvided("missingIconAbstract")||{}:{}}))})}const noop$1=()=>{},p$2=config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1,measure:noop$1},preamble='FA "6.7.2"',begin=l=>(p$2.mark("".concat(preamble," ").concat(l," begins")),()=>end(l)),end=l=>{p$2.mark("".concat(preamble," ").concat(l," ends")),p$2.measure("".concat(preamble," ").concat(l),"".concat(preamble," ").concat(l," begins"),"".concat(preamble," ").concat(l," ends"))};var perf={begin,end};const noop$2=()=>{};function isWatched(l){return typeof(l.getAttribute?l.getAttribute(DATA_FA_I2SVG):null)=="string"}function hasPrefixAndIcon(l){const n=l.getAttribute?l.getAttribute(DATA_PREFIX):null,a=l.getAttribute?l.getAttribute(DATA_ICON):null;return n&&a}function hasBeenReplaced(l){return l&&l.classList&&l.classList.contains&&l.classList.contains(config.replacementClass)}function getMutator(){return config.autoReplaceSvg===!0?mutators.replace:mutators[config.autoReplaceSvg]||mutators.replace}function createElementNS(l){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",l)}function createElement(l){return DOCUMENT.createElement(l)}function convertSVG(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:a=l.tag==="svg"?createElementNS:createElement}=n;if(typeof l=="string")return DOCUMENT.createTextNode(l);const c=a(l.tag);return Object.keys(l.attributes||[]).forEach(function(d){c.setAttribute(d,l.attributes[d])}),(l.children||[]).forEach(function(d){c.appendChild(convertSVG(d,{ceFn:a}))}),c}function nodeAsComment(l){let n=" ".concat(l.outerHTML," ");return n="".concat(n,"Font Awesome fontawesome.com "),n}const mutators={replace:function(l){const n=l[0];if(n.parentNode)if(l[1].forEach(a=>{n.parentNode.insertBefore(convertSVG(a),n)}),n.getAttribute(DATA_FA_I2SVG)===null&&config.keepOriginalSource){let a=DOCUMENT.createComment(nodeAsComment(n));n.parentNode.replaceChild(a,n)}else n.remove()},nest:function(l){const n=l[0],a=l[1];if(~classArray(n).indexOf(config.replacementClass))return mutators.replace(l);const c=new RegExp("".concat(config.cssPrefix,"-.*"));if(delete a[0].attributes.id,a[0].attributes.class){const d=a[0].attributes.class.split(" ").reduce((u,h)=>(h===config.replacementClass||h.match(c)?u.toSvg.push(h):u.toNode.push(h),u),{toNode:[],toSvg:[]});a[0].attributes.class=d.toSvg.join(" "),d.toNode.length===0?n.removeAttribute("class"):n.setAttribute("class",d.toNode.join(" "))}const f=a.map(d=>toHtml(d)).join("\n");n.setAttribute(DATA_FA_I2SVG,""),n.innerHTML=f}};function performOperationSync(l){l()}function perform(l,n){const a=typeof n=="function"?n:noop$2;if(l.length===0)a();else{let c=performOperationSync;config.mutateApproach===MUTATION_APPROACH_ASYNC&&(c=WINDOW.requestAnimationFrame||performOperationSync),c(()=>{const f=getMutator(),d=perf.begin("mutate");l.map(f),d(),a()})}}let disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}let mo=null;function observe(l){if(!MUTATION_OBSERVER||!config.observeMutations)return;const{treeCallback:n=noop$2,nodeCallback:a=noop$2,pseudoElementsCallback:c=noop$2,observeMutationsRoot:f=DOCUMENT}=l;mo=new MUTATION_OBSERVER(d=>{if(disabled)return;const u=getDefaultUsablePrefix();toArray(d).forEach(h=>{if(h.type==="childList"&&h.addedNodes.length>0&&!isWatched(h.addedNodes[0])&&(config.searchPseudoElements&&c(h.target),n(h.target)),h.type==="attributes"&&h.target.parentNode&&config.searchPseudoElements&&c(h.target.parentNode),h.type==="attributes"&&isWatched(h.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(h.attributeName))if(h.attributeName==="class"&&hasPrefixAndIcon(h.target)){const{prefix:E,iconName:m}=getCanonicalIcon(classArray(h.target));h.target.setAttribute(DATA_PREFIX,E||u),m&&h.target.setAttribute(DATA_ICON,m)}else hasBeenReplaced(h.target)&&a(h.target)})}),IS_DOM&&mo.observe(f,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function disconnect(){mo&&mo.disconnect()}function styleParser(l){const n=l.getAttribute("style");let a=[];return n&&(a=n.split(";").reduce((c,f)=>{const d=f.split(":"),u=d[0],h=d.slice(1);return u&&h.length>0&&(c[u]=h.join(":").trim()),c},{})),a}function classParser(l){const n=l.getAttribute("data-prefix"),a=l.getAttribute("data-icon"),c=l.innerText!==void 0?l.innerText.trim():"";let f=getCanonicalIcon(classArray(l));return f.prefix||(f.prefix=getDefaultUsablePrefix()),n&&a&&(f.prefix=n,f.iconName=a),f.iconName&&f.prefix||(f.prefix&&c.length>0&&(f.iconName=byLigature(f.prefix,l.innerText)||byUnicode(f.prefix,toHex(l.innerText))),!f.iconName&&config.autoFetchSvg&&l.firstChild&&l.firstChild.nodeType===Node.TEXT_NODE&&(f.iconName=l.firstChild.data)),f}function attributesParser(l){const n=toArray(l.attributes).reduce((f,d)=>(f.name!=="class"&&f.name!=="style"&&(f[d.name]=d.value),f),{}),a=l.getAttribute("title"),c=l.getAttribute("data-fa-title-id");return config.autoA11y&&(a?n["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(c||nextUniqueId()):(n["aria-hidden"]="true",n.focusable="false")),n}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:a,prefix:c,rest:f}=classParser(l),d=attributesParser(l),u=chainHooks("parseNodeAttributes",{},l);let h=n.styleParser?styleParser(l):[];return _objectSpread2({iconName:a,title:l.getAttribute("title"),titleId:l.getAttribute("data-fa-title-id"),prefix:c,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:f,styles:h,attributes:d}},u)}const{styles:styles$2}=namespace;function generateMutation(l){const n=config.autoReplaceSvg==="nest"?parseMeta(l,{styleParser:!1}):parseMeta(l);return~n.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",l,n):callProvided("generateSvgReplacementMutation",l,n)}function getKnownPrefixes(){return[...Ft,...Ia]}function onTree(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();const a=DOCUMENT.documentElement.classList,c=b=>a.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(b)),f=b=>a.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(b)),d=config.autoFetchSvg?getKnownPrefixes():P.concat(Object.keys(styles$2));d.includes("fa")||d.push("fa");const u=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(d.map(b=>".".concat(b,":not([").concat(DATA_FA_I2SVG,"])"))).join(", ");if(u.length===0)return Promise.resolve();let h=[];try{h=toArray(l.querySelectorAll(u))}catch(b){}if(h.length>0)c("pending"),f("complete");else return Promise.resolve();const E=perf.begin("onTree"),m=h.reduce((b,_)=>{try{const v=generateMutation(_);v&&b.push(v)}catch(v){PRODUCTION||v.name==="MissingIcon"&&console.error(v)}return b},[]);return new Promise((b,_)=>{Promise.all(m).then(v=>{perform(v,()=>{c("active"),c("complete"),f("pending"),typeof n=="function"&&n(),E(),b()})}).catch(v=>{E(),_(v)})})}function onNode(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(l).then(a=>{a&&perform([a],n)})}function resolveIcons(l){return function(n){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=(n||{}).icon?n:findIconDefinition(n||{});let{mask:f}=a;return f&&(f=(f||{}).icon?f:findIconDefinition(f||{})),l(c,_objectSpread2(_objectSpread2({},a),{},{mask:f}))}}const render=function(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:a=meaninglessTransform,symbol:c=!1,mask:f=null,maskId:d=null,title:u=null,titleId:h=null,classes:E=[],attributes:m={},styles:b={}}=n;if(!l)return;const{prefix:_,iconName:v,icon:T}=l;return domVariants(_objectSpread2({type:"icon"},l),()=>(callHooks("beforeDOMElementCreation",{iconDefinition:l,params:n}),config.autoA11y&&(u?m["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(h||nextUniqueId()):(m["aria-hidden"]="true",m.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon(T),mask:f?asFoundIcon(f.icon):{found:!1,width:null,height:null,icon:{}}},prefix:_,iconName:v,transform:_objectSpread2(_objectSpread2({},meaninglessTransform),a),symbol:c,title:u,maskId:d,titleId:h,extra:{attributes:m,styles:b,classes:E}})))};var ReplaceElements={mixout(){return{icon:resolveIcons(render)}},hooks(){return{mutationObserverCallbacks(l){return l.treeCallback=onTree,l.nodeCallback=onNode,l}}},provides(l){l.i2svg=function(n){const{node:a=DOCUMENT,callback:c=()=>{}}=n;return onTree(a,c)},l.generateSvgReplacementMutation=function(n,a){const{iconName:c,title:f,titleId:d,prefix:u,transform:h,symbol:E,mask:m,maskId:b,extra:_}=a;return new Promise((v,T)=>{Promise.all([findIcon(c,u),m.iconName?findIcon(m.iconName,m.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then($=>{let[C,O]=$;v([n,makeInlineSvgAbstract({icons:{main:C,mask:O},prefix:u,iconName:c,transform:h,symbol:E,maskId:b,title:f,titleId:d,extra:_,watchable:!0})])}).catch(T)})},l.generateAbstractIcon=function(n){let{children:a,attributes:c,main:f,transform:d,styles:u}=n;const h=joinStyles(u);h.length>0&&(c.style=h);let E;return transformIsMeaningful(d)&&(E=callProvided("generateAbstractTransformGrouping",{main:f,transform:d,containerWidth:f.width,iconWidth:f.width})),a.push(E||f.icon),{children:a,attributes:c}}}},Layers={mixout(){return{layer(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:a=[]}=n;return domVariants({type:"layer"},()=>{callHooks("beforeDOMElementCreation",{assembler:l,params:n});let c=[];return l(f=>{Array.isArray(f)?f.map(d=>{c=c.concat(d.abstract)}):c=c.concat(f.abstract)}),[{tag:"span",attributes:{class:["".concat(config.cssPrefix,"-layers"),...a].join(" ")},children:c}]})}}}},LayersCounter={mixout(){return{counter(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:a=null,classes:c=[],attributes:f={},styles:d={}}=n;return domVariants({type:"counter",content:l},()=>(callHooks("beforeDOMElementCreation",{content:l,params:n}),makeLayersCounterAbstract({content:l.toString(),title:a,extra:{attributes:f,styles:d,classes:["".concat(config.cssPrefix,"-layers-counter"),...c]}})))}}}},LayersText={mixout(){return{text(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:a=meaninglessTransform,title:c=null,classes:f=[],attributes:d={},styles:u={}}=n;return domVariants({type:"text",content:l},()=>(callHooks("beforeDOMElementCreation",{content:l,params:n}),makeLayersTextAbstract({content:l,transform:_objectSpread2(_objectSpread2({},meaninglessTransform),a),title:c,extra:{attributes:d,styles:u,classes:["".concat(config.cssPrefix,"-layers-text"),...f]}})))}}},provides(l){l.generateLayersText=function(n,a){const{title:c,transform:f,extra:d}=a;let u=null,h=null;if(IS_IE){const E=parseInt(getComputedStyle(n).fontSize,10),m=n.getBoundingClientRect();u=m.width/E,h=m.height/E}return config.autoA11y&&!c&&(d.attributes["aria-hidden"]="true"),Promise.resolve([n,makeLayersTextAbstract({content:n.innerHTML,width:u,height:h,transform:f,title:c,extra:d,watchable:!0})])}}};const CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319],_FONT_FAMILY_WEIGHT_TO_PREFIX=_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},{FontAwesome:{normal:"fas",400:"fas"}}),lt),wa),Yt),FONT_FAMILY_WEIGHT_TO_PREFIX=Object.keys(_FONT_FAMILY_WEIGHT_TO_PREFIX).reduce((l,n)=>(l[n.toLowerCase()]=_FONT_FAMILY_WEIGHT_TO_PREFIX[n],l),{}),FONT_FAMILY_WEIGHT_FALLBACK=Object.keys(FONT_FAMILY_WEIGHT_TO_PREFIX).reduce((l,n)=>{const a=FONT_FAMILY_WEIGHT_TO_PREFIX[n];return l[n]=a[900]||[...Object.entries(a)][0][1],l},{});function hexValueFromContent(l){const n=l.replace(CLEAN_CONTENT_PATTERN,""),a=codePointAt(n,0),c=a>=SECONDARY_UNICODE_RANGE[0]&&a<=SECONDARY_UNICODE_RANGE[1],f=n.length===2?n[0]===n[1]:!1;return{value:toHex(f?n[0]:n),isSecondary:c||f}}function getPrefix(l,n){const a=l.replace(/^['"]|['"]$/g,"").toLowerCase(),c=parseInt(n),f=isNaN(c)?"normal":c;return(FONT_FAMILY_WEIGHT_TO_PREFIX[a]||{})[f]||FONT_FAMILY_WEIGHT_FALLBACK[a]}function replaceForPosition(l,n){const a="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(n.replace(":","-"));return new Promise((c,f)=>{if(l.getAttribute(a)!==null)return c();const u=toArray(l.children).filter(v=>v.getAttribute(DATA_FA_PSEUDO_ELEMENT)===n)[0],h=WINDOW.getComputedStyle(l,n),E=h.getPropertyValue("font-family"),m=E.match(FONT_FAMILY_PATTERN),b=h.getPropertyValue("font-weight"),_=h.getPropertyValue("content");if(u&&!m)return l.removeChild(u),c();if(m&&_!=="none"&&_!==""){const v=h.getPropertyValue("content");let T=getPrefix(E,b);const{value:$,isSecondary:C}=hexValueFromContent(v),O=m[0].startsWith("FontAwesome");let I=byUnicode(T,$),M=I;if(O){const R=byOldUnicode($);R.iconName&&R.prefix&&(I=R.iconName,T=R.prefix)}if(I&&!C&&(!u||u.getAttribute(DATA_PREFIX)!==T||u.getAttribute(DATA_ICON)!==M)){l.setAttribute(a,M),u&&l.removeChild(u);const R=blankMeta(),{extra:N}=R;N.attributes[DATA_FA_PSEUDO_ELEMENT]=n,findIcon(I,T).then(y=>{const D=makeInlineSvgAbstract(_objectSpread2(_objectSpread2({},R),{},{icons:{main:y,mask:emptyCanonicalIcon()},prefix:T,iconName:M,extra:N,watchable:!0})),F=DOCUMENT.createElementNS("http://www.w3.org/2000/svg","svg");n==="::before"?l.insertBefore(F,l.firstChild):l.appendChild(F),F.outerHTML=D.map(k=>toHtml(k)).join("\n"),l.removeAttribute(a),c()}).catch(f)}else c()}else c()})}function replace(l){return Promise.all([replaceForPosition(l,"::before"),replaceForPosition(l,"::after")])}function processable(l){return l.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(l.tagName.toUpperCase())&&!l.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!l.parentNode||l.parentNode.tagName!=="svg")}function searchPseudoElements(l){if(IS_DOM)return new Promise((n,a)=>{const c=toArray(l.querySelectorAll("*")).filter(processable).map(replace),f=perf.begin("searchPseudoElements");disableObservation(),Promise.all(c).then(()=>{f(),enableObservation(),n()}).catch(()=>{f(),enableObservation(),a()})})}var PseudoElements={hooks(){return{mutationObserverCallbacks(l){return l.pseudoElementsCallback=searchPseudoElements,l}}},provides(l){l.pseudoElements2svg=function(n){const{node:a=DOCUMENT}=n;config.searchPseudoElements&&searchPseudoElements(a)}}};let _unwatched=!1;var MutationObserver$1={mixout(){return{dom:{unwatch(){disableObservation(),_unwatched=!0}}}},hooks(){return{bootstrap(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto(){disconnect()},watch(l){const{observeMutationsRoot:n}=l;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:n}))}}}};const parseTransformString=l=>{let n={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return l.toLowerCase().split(" ").reduce((a,c)=>{const f=c.toLowerCase().split("-"),d=f[0];let u=f.slice(1).join("-");if(d&&u==="h")return a.flipX=!0,a;if(d&&u==="v")return a.flipY=!0,a;if(u=parseFloat(u),isNaN(u))return a;switch(d){case"grow":a.size=a.size+u;break;case"shrink":a.size=a.size-u;break;case"left":a.x=a.x-u;break;case"right":a.x=a.x+u;break;case"up":a.y=a.y-u;break;case"down":a.y=a.y+u;break;case"rotate":a.rotate=a.rotate+u;break}return a},n)};var PowerTransforms={mixout(){return{parse:{transform:l=>parseTransformString(l)}}},hooks(){return{parseNodeAttributes(l,n){const a=n.getAttribute("data-fa-transform");return a&&(l.transform=parseTransformString(a)),l}}},provides(l){l.generateAbstractTransformGrouping=function(n){let{main:a,transform:c,containerWidth:f,iconWidth:d}=n;const u={transform:"translate(".concat(f/2," 256)")},h="translate(".concat(c.x*32,", ").concat(c.y*32,") "),E="scale(".concat(c.size/16*(c.flipX?-1:1),", ").concat(c.size/16*(c.flipY?-1:1),") "),m="rotate(".concat(c.rotate," 0 0)"),b={transform:"".concat(h," ").concat(E," ").concat(m)},_={transform:"translate(".concat(d/2*-1," -256)")},v={outer:u,inner:b,path:_};return{tag:"g",attributes:_objectSpread2({},v.outer),children:[{tag:"g",attributes:_objectSpread2({},v.inner),children:[{tag:a.icon.tag,children:a.icon.children,attributes:_objectSpread2(_objectSpread2({},a.icon.attributes),v.path)}]}]}}}};const ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return l.attributes&&(l.attributes.fill||n)&&(l.attributes.fill="black"),l}function deGroup(l){return l.tag==="g"?l.children:[l]}var Masks={hooks(){return{parseNodeAttributes(l,n){const a=n.getAttribute("data-fa-mask"),c=a?getCanonicalIcon(a.split(" ").map(f=>f.trim())):emptyCanonicalIcon();return c.prefix||(c.prefix=getDefaultUsablePrefix()),l.mask=c,l.maskId=n.getAttribute("data-fa-mask-id"),l}}},provides(l){l.generateAbstractMask=function(n){let{children:a,attributes:c,main:f,mask:d,maskId:u,transform:h}=n;const{width:E,icon:m}=f,{width:b,icon:_}=d,v=transformForSvg({transform:h,containerWidth:b,iconWidth:E}),T={tag:"rect",attributes:_objectSpread2(_objectSpread2({},ALL_SPACE),{},{fill:"white"})},$=m.children?{children:m.children.map(fillBlack)}:{},C={tag:"g",attributes:_objectSpread2({},v.inner),children:[fillBlack(_objectSpread2({tag:m.tag,attributes:_objectSpread2(_objectSpread2({},m.attributes),v.path)},$))]},O={tag:"g",attributes:_objectSpread2({},v.outer),children:[C]},I="mask-".concat(u||nextUniqueId()),M="clip-".concat(u||nextUniqueId()),R={tag:"mask",attributes:_objectSpread2(_objectSpread2({},ALL_SPACE),{},{id:I,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[T,O]},N={tag:"defs",children:[{tag:"clipPath",attributes:{id:M},children:deGroup(_)},R]};return a.push(N,{tag:"rect",attributes:_objectSpread2({fill:"currentColor","clip-path":"url(#".concat(M,")"),mask:"url(#".concat(I,")")},ALL_SPACE)}),{children:a,attributes:c}}}},MissingIconIndicator={provides(l){let n=!1;WINDOW.matchMedia&&(n=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),l.missingIconAbstract=function(){const a=[],c={fill:"currentColor"},f={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};a.push({tag:"path",attributes:_objectSpread2(_objectSpread2({},c),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const d=_objectSpread2(_objectSpread2({},f),{},{attributeName:"opacity"}),u={tag:"circle",attributes:_objectSpread2(_objectSpread2({},c),{},{cx:"256",cy:"364",r:"28"}),children:[]};return n||u.children.push({tag:"animate",attributes:_objectSpread2(_objectSpread2({},f),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_objectSpread2(_objectSpread2({},d),{},{values:"1;0;1;1;0;1;"})}),a.push(u),a.push({tag:"path",attributes:_objectSpread2(_objectSpread2({},c),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:n?[]:[{tag:"animate",attributes:_objectSpread2(_objectSpread2({},d),{},{values:"1;0;0;0;0;1;"})}]}),n||a.push({tag:"path",attributes:_objectSpread2(_objectSpread2({},c),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_objectSpread2(_objectSpread2({},d),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:a}}}},SvgSymbols={hooks(){return{parseNodeAttributes(l,n){const a=n.getAttribute("data-fa-symbol"),c=a===null?!1:a===""?!0:a;return l.symbol=c,l}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api});api.noAuto;api.config;const library$1=api.library,dom$1=api.dom;api.parse;api.findIconDefinition;api.toHtml;api.icon;api.layer;api.text;api.counter;/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const faComments={prefix:"fas",iconName:"comments",icon:[640,512,[128490,61670],"f086","M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2s0 0 0 0s0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.2-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9c0 0 0 0 0 0s0 0 0 0l-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"]},faAlignJustify={prefix:"fas",iconName:"align-justify",icon:[448,512,[],"f039","M448 64c0-17.7-14.3-32-32-32L32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32zm0 256c0-17.7-14.3-32-32-32L32 288c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 192c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32zM448 448c0-17.7-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32z"]},faTableColumns={prefix:"fas",iconName:"table-columns",icon:[512,512,["columns"],"f0db","M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zm64 64l0 256 160 0 0-256L64 160zm384 0l-160 0 0 256 160 0 0-256z"]},faColumns=faTableColumns,faCaretDown={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},faDownload={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},faXmark={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},faRotate={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"]},faMagnifyingGlassPlus={prefix:"fas",iconName:"magnifying-glass-plus",icon:[512,512,["search-plus"],"f00e","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24l0-64 64 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-64 0 0-64c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 64-64 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l64 0 0 64z"]},faMagnifyingGlassMinus={prefix:"fas",iconName:"magnifying-glass-minus",icon:[512,512,["search-minus"],"f010","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM136 184c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"]};library$1.add(faRotate,faMagnifyingGlassPlus,faMagnifyingGlassMinus,faDownload,faColumns,faAlignJustify,faXmark,faComments,faCaretDown);dom$1.watch();const j$8=jQuery;class MacroPane{constructor(n){if(config$1.nomacros)return;this.id="#macro-pane",this.socket=n.socket,this.host=config$1.host,this.port=config$1.port,this.buttons=[],this.first=!0;const{sitelist:a,profiles:c}=window.user.pref;this.gMacros=null,this.pMacros=null;for(const f of Object.values(a))if(f.host===this.host){this.gMacros=f.macros;break}c&&c[param("profile")]&&(this.pMacros=c[param("profile")].macros),this.init()}init(){var a;let n=!1;this.buttons=[],this.gMacros&&this.gMacros.forEach(c=>{this.buttons.push(c),c[3]&&(n=!0)}),this.pMacros&&this.pMacros.forEach(c=>{this.buttons.push(c),c[3]&&(n=!0)}),this.socket.echo("Loaded ".concat(this.buttons.length," macros.")),n&&!((a=this.options)!=null&&a.noquickbuttons)&&this.createPane(),this.first=!1}createPane(){config$1.device.mobile||(j$8(this.id).remove(),this.buttons.length&&(new Window({id:this.id,title:"Quick Buttons",closeable:!0,class:"nofade",css:{width:200,height:400,top:160,left:j$8(window).width()-220,zIndex:4}}),j$8("".concat(this.id," .content")).append('<ul class="macro-btns"></ul>'),this.buttons.forEach(([n,a,c,f])=>{c&&f&&!a.includes("$")&&j$8("".concat(this.id," .content .macro-btns")).append('\n          <li class="kbutton macro-btn tip" \n              data="'.concat(a,'" \n              title="').concat(a,'">\n            ').concat(n,"\n          </li>\n        "))}),this.first&&(j$8("".concat(this.id," .content .macro-btns")).sortable(),j$8("body").on("click",".macro-btn",n=>{this.socket.send(j$8(n.currentTarget).attr("data"))}))))}replaceVariables(n){return this.buttons.reduce((a,[c,f,d])=>{if(c[0]==="$"&&d){const u=new RegExp("\\"+c,"g");log(u);const h=a.replace(u,f);return log("MacroPane: var replacement: ".concat(stringify([c,f,d]))),log(h),h}return a},n)}processCommand(n){if(config$1.nomacros)return n;log("MacroPane.sub: ".concat(this.buttons.length));for(const[a,c,f]of this.buttons){if(!f||!n.includes(a))continue;if(!c.includes("$")){const h=new RegExp("^"+a,"g");return n.replace(h,c)}if(c.includes("$*")){const[,...h]=n.split(" ");return c.replace("$*",h.join(" "))}if(!c.includes(" "))continue;const d=n.split(" ");if(d[0]!==a)continue;let u=c;return d.slice(1).forEach((h,E)=>{u=u.replace("$".concat(E+1),h,"g"),log(u)}),this.replaceVariables(u)}return n}}class TriggerHappy{constructor(n){this.host=Config$1.host,this.port=Config$1.port,this.triggers=[],this.gTriggers=[],this.pTriggers=[];const{sitelist:a,profiles:c}=window.user.pref;this.init(a,c)}init(n,a){if(this.setupFirstTimeEvents(),Config$1.notriggers){log("Triggers disabled by official code.");return}this.loadGameTriggers(n),this.loadProfileTriggers(a),this.compileTriggers(),this.notifyTriggerCount()}setupFirstTimeEvents(){Config$1.onfirst&&Event$1.listen("before_process",n=>{if(!Config$1.onfirst)return n;const a=Config$1.onfirst.split(";");return a.length>1&&n.includes(a[0])&&(a.slice(1).forEach((c,f)=>{setTimeout(()=>{Config$1.socket.write("".concat(c,"\r\n")),Config$1.socket.echo("\n")},(f+1)*600)}),log("sending onfirst text"),delete Config$1.onfirst),n})}loadGameTriggers(n){const a=Object.values(n).find(c=>c.host===this.host);a&&(this.gTriggers=a.triggers||[])}loadProfileTriggers(n){const a=param("profile");n!=null&&n[a]&&(this.pTriggers=n[a].triggers||[])}compileTriggers(){this.triggers=[...this.gTriggers.filter(n=>n[2]),...this.pTriggers.filter(n=>n[2])],this.triggers.forEach(n=>{try{n[3]=new RegExp(n[0].replace(/\$[0-9]/g,"([A-Za-z0-9-'\"]+)"),"g")}catch(a){log("Error compiling trigger regex: ".concat(a))}})}notifyTriggerCount(){const n=this.gTriggers.length+this.pTriggers.length,a=this.triggers.length;Config$1.socket.echo("Loaded ".concat(a,"/").concat(n," triggers."))}respond(n){return Config$1.notriggers||this.triggers.forEach(([a,c,f,d])=>{const u=d.exec(n);if(!(u!=null&&u.length))return;let h=c;u.length>1&&u.slice(1).forEach((E,m)=>{h=h.replace("$".concat(m+1),E,"g")}),Config$1.socket.send(h)}),n}}const j$7=jQuery;class ScrollView{constructor(n={}){X(this,"echoOff",()=>this.options.echo=!1);X(this,"echoOn",()=>this.options.echo=!0);var a;this.options={css:{width:config$1.width,height:config$1.height,top:config$1.top,left:config$1.left},local:1,scrollback:30*1e3,...n},this.id="#scroll-view",this.ws={},this.sesslog="",this.freeze=null,this.mobile=config$1.device.mobile,this.touch=config$1.device.touch,this.multi=null,this.cmds=[],this.cmdi=0,this.keepcom=(a=config$1.getSetting("keepcom"))!=null?a:!0,config$1.kong&&(this.options.css.height=j$7(window).height()-3),this.options.local=config$1.getSetting("echo")==null||config$1.getSetting("echo")==!0,this.options.echo=this.options.echo||!0,this.initializeWindow(),this.setupButtons(),this.setupContent(),this.setupEventListeners(),this.initializeSocket()}initializeWindow(){this.win=new Window({id:this.id,css:this.options.css,class:"scroll-view nofade",master:!config$1.notrack,closeable:config$1.controlPanel}),this.mobile&&(j$7("#page").css({background:"none no-repeat fixed 0 0 #000000",margin:"0px auto"}),j$7("body").css({width:"100%",height:"100%",overflow:"auto"}),this.win.maximize()),this.touch&&j$7(this.id).css({top:0,left:0})}setupButtons(){this.win.addButton({title:"Reconnect",icon:"fa-solid fa-rotate",click:()=>{this.echo("Attempting to reconnect..."),config$1.socket.reconnect()}}),this.win.addButton({title:"Increase the font size",icon:"fa-solid fa-magnifying-glass-plus",click:n=>{const a=j$7("".concat(this.id," .out")),c=parseInt(a.css("fontSize"));return a.css({fontSize:"".concat(c+1,"px"),lineHeight:"".concat(c+6,"px")}),a.scrollTop(a.prop("scrollHeight")),n.stopPropagation(),!1}}),this.win.addButton({title:"Decrease the font size",icon:"fa-solid fa-magnifying-glass-minus",click:n=>{const a=j$7("".concat(this.id," .out")),c=parseInt(a.css("fontSize"));return a.css({fontSize:"".concat(c-1,"px"),lineHeight:"".concat(c+4,"px")}),a.scrollTop(a.prop("scrollHeight")),n.stopPropagation(),!1}}),this.win.addButton({title:"Download a session log",icon:"fa-solid fa-download",click:n=>{const a=new Blob([this.sesslog],{type:"text/plain;charset=utf-8"});return FileSaver_minExports.saveAs(a,"log-".concat(config$1.host,"-").concat(new Date().toISOString().split("T")[0],".txt")),n.stopPropagation(),!1}}),this.win.addButton({title:"Toggle a freezepane",icon:"fa-solid fa-columns",click:n=>this.toggleFreezepane(n)})}toggleFreezepane(n){var f;const a=j$7("".concat(this.id," .out")),c=j$7("".concat(this.id," .freeze"));if(c.length)try{(f=this.freeze)==null||f.remove(),c.remove(),a.width("98%"),a.scrollTop(a.prop("scrollHeight"))}catch(d){log(d)}else a.after('<div class="freeze">'.concat(a.html(),"</div>")),a.width("52%"),this.freeze=j$7("".concat(this.id," .freeze")).niceScroll({cursorwidth:7,cursorborder:"none"}),j$7("".concat(this.id," .freeze")).scrollTop(j$7("".concat(this.id," .freeze")).prop("scrollHeight")),a.scrollTop(a.prop("scrollHeight"));return n.stopPropagation(),!1}setupContent(){const n=config$1.getSetting("spellcheck");j$7("".concat(this.id," .content")).html('\n      <div class="out nice"></div>\n      <div class="input">\n        <input class="send" \n               autocomplete="on" \n               autocorrect="off" \n               autocapitalize="off" \n               spellcheck="'.concat(n?"true":"false",'"\n               placeholder="type a command..." \n               aria-live="polite"/>\n      </div>\n    ')),this.mobile?j$7("".concat(this.id," .out")).css({"font-family":"DejaVu Sans Mono","font-size":"11px",height:"90%"}):this.setupDesktopFeatures(),j$7("".concat(this.id," .out")).niceScroll({cursorwidth:7,cursorborder:"none",railoffset:{top:-2,left:-2}})}setupDesktopFeatures(){const n="multiline-".concat(Math.random().toString(36).substr(2,9));j$7("".concat(this.id," .input")).append('\n      <a class="kbutton multiline tip '.concat(n,'" \n         title="Send multi-line text" \n         style="height: 21px;position: relative;top: 1px;display: inline-block;padding: 0px 8px !important;;">\n        <i class="fa-solid fa-align-justify"></i>\n      </a>\n    ')),this.setupMultilineInput(),this.setupAutocomplete()}setupMultilineInput(){const n=(a,c="")=>{const f=config$1.getSetting("spellcheck");return new Modal({title:"Multi-Line Input",text:'<textarea class="multitext" autocorrect="off" autocapitalize="off" spellcheck="'.concat(f?"true":"false",'">')+c+"</textarea>",closeable:!0,showOk:!1,buttons:[{text:"Send",handler:()=>{j$7(".multitext").val().split("\n").forEach((u,h)=>{setTimeout(()=>{config$1.Socket.write(u)},100*(h+1))})}},{text:"Cancel"}]}),j$7(".modal").on("shown.bs.modal",()=>{j$7(".multitext").focus()}),a&&a.stopPropagation(),!1};j$7(this.id).on("click",".multiline",n)}setupAutocomplete(){!config$1.embed&&!config$1.kong&&j$7("".concat(this.id," .send")).autocomplete({appendTo:"body",minLength:2,source:(n,a)=>{const c=[...new Set(this.cmds)],f=j$7.ui.autocomplete.filter(c,n.term);a(f.slice(0,5))}})}setupEventListeners(){this.setupInputHandlers(),this.setupColorization(),this.setupLogging()}setupInputHandlers(){const n=j$7("".concat(this.id," .send"));this.mobile?this.setupMobileHandlers(n):this.setupDesktopHandlers(n)}setupMobileHandlers(n){n.focus(()=>{j$7(this.id).height("82%"),this.scroll()}),n.blur(()=>{this.win.maximize(),this.scroll()}),document.addEventListener("touchstart",()=>this.scroll(),!1),n.keydown(a=>{if(a.which===13){a.preventDefault();const c=n.val();c.length?(this.ws.send(c),n.val("")):this.ws.send("\r\n")}}),n.focus(),setInterval(()=>this.scroll(),2e3)}setupDesktopHandlers(n){n.focus(function(){j$7(this).is(":focus")||j$7(this).select()}),n.focus().keydown(a=>{if(a.which===13){a.preventDefault();const c=n.val();c.length?(this.ws.send(c),this.cmds.push(c),this.cmdi++,this.keepcom?n[0].select():n.val("")):this.ws.send("\r\n")}else a.keyCode===38?(a.preventDefault(),this.cmdi&&n.val(this.cmds[--this.cmdi]),n[0].select()):a.keyCode===40&&(a.preventDefault(),this.cmdi<this.cmds.length-1&&n.val(this.cmds[++this.cmdi]),n[0].select())})}setupColorization(){Event$1.listen("internal_colorize",new Colorize().process)}setupLogging(){Event$1.listen("after_display",n=>{try{this.sesslog+=n.replace(/<br>/gi,"\n").replace(/<.+?>/gm,"")}catch(a){log("ScrollView.after_display ",a)}return n})}add(n){const a=j$7("".concat(this.id," .out")),c=j$7("".concat(this.id," .freeze"));if(a[0].scrollHeight>this.options.scrollback){a.children().slice(0,100).remove();const f=a.html(),d=f.indexOf("<span");a.html(f.slice(d))}a.append("<span>".concat(n,"</span>")),this.scroll(),c.length&&c.append("<span>".concat(n,"</span>")),Event$1.fire("scrollview_add",n,this)}scroll(){j$7("".concat(this.id," .out")).scrollTop(j$7("".concat(this.id," .out")).prop("scrollHeight"))}echo(n){if(n.length&&this.options.local&&this.options.echo){const a=n.replace(/>/g,"&gt;").replace(/</g,"&lt;");this.add('<span style="font-size: 12px; color: gold; opacity: 0.6">'.concat(a,"</span><br>"))}}title(n){this.win.setTitle(n),document.title=n||config$1.name}initializeSocket(){var n;this.title(config$1.name||"".concat(config$1.host,":").concat(config$1.port)),this.ws=new Socket({host:config$1.host,port:config$1.port,proxy:config$1.proxy,out:this}),(n=window.user)!=null&&n.id&&this.setupMacrosAndTriggers(),config$1.ScrollView=this,Event$1.fire("scrollview_ready",null,this)}setupMacrosAndTriggers(){config$1.MacroPane=new MacroPane({socket:this.ws}),config$1.TriggerHappy=new TriggerHappy({socket:this.ws}),config$1.nomacros||(Event$1.listen("before_send",config$1.MacroPane.sub),this.echo("Activating macros.")),config$1.notriggers||(Event$1.listen("after_display",config$1.TriggerHappy.respond),this.echo("Activating triggers."))}}const j$6=jQuery;class Toolbar{constructor(){this.init()}init(){return j$6("body").append('<div id="tmp-toolbar" class="tmp-toolbar"></div>'),j$6("#tmp-toolbar").on("click","button",n=>{n.stopPropagation();const a=j$6(n.target).attr("href"),c=j$6(a).get(0).win,f=j$6(n.target);f.hasClass("active")?(c.hide(),f.removeClass("active").addClass("disabled")):f.hasClass("disabled")?(c.show(),f.removeClass("disabled").addClass("active")):(c.bringToFront(),j$6("#tmp-toolbar button").removeClass("active"),f.addClass("active"))}),Event$1.listen("window_open",this.update.bind(this)),Event$1.listen("window_close",this.update.bind(this)),Event$1.listen("window_show",this.update.bind(this)),Event$1.listen("window_hide",this.update.bind(this)),Event$1.listen("window_front",this.front.bind(this)),this}update(){return j$6("#tmp-toolbar").empty(),j$6(".window").each(function(){const n=j$6(this),a=n.attr("id"),c=n.get(0).win.setTitle()||a,f='\n        <button href="#'.concat(a,'" class="btn kbutton">\n          ').concat(c,"\n        </button>\n      ");j$6("#tmp-toolbar").append(f),n.is(":visible")||j$6("#tmp-toolbar .btn:last").addClass("disabled")}),this}front(n){j$6("#tmp-toolbar button").removeClass("active"),j$6('#tmp-toolbar button[href="'.concat(n,'"]')).addClass("active")}}const j$5=jQuery;function initializeCore(){typeof WebSocket>"u"&&new Modal({title:"Incompatible Browser",html:"The portal web app requires a modern browser...",closeText:"Dismiss"}),j$5("body").addClass("app"),config$1.socket&&(window.onbeforeunload=()=>"Are you sure you want to disconnect and leave this page?"),config$1.embed&&j$5("body#page").css({background:"transparent"}),j$5(document).ready(function(){config$1.bare||config$1.clean?(j$5("#header").remove(),j$5("#maininner #content").attr("id","app-content")):j$5("#header").css({opacity:.4,zIndex:0}).on("click",function(){j$5(this).css("opacity",1)}),config$1.embed&&Event$1.listen("scrollview_ready",function(){j$5(".ui-resizable-handle").css({opacity:0}),j$5(".icon-minus").remove()})}),config$1.device.touch&&(document.ontouchmove=function(l){l.preventDefault()},j$5("head").append('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />			<meta name="apple-mobile-web-app-capable" content="yes">'),j$5("head").append('<link rel="apple-touch-startup-image" sizes="640x1136" href="/images/app-splash-5.png">'),j$5("head").append('<link rel="apple-touch-startup-image" sizes="640x960" href="/images/app-splash-4.png">')),config$1.nocore||(config$1.host&&config$1.port&&(new ScrollView({local:!0,css:{width:config$1.width,height:config$1.height,top:config$1.top,left:config$1.left,zIndex:103},scrollback:40*1e3}),!config$1.embed&&!config$1.device.mobile&&!config$1.kong&&(config$1.Toolbar=new Toolbar().init().update())),window.user&&window.user.guest&&!config$1.kong&&!config$1.device.touch&&j$5(".app").prepend('<a class="right" style="opacity:0.5;margin-right: 8px"           href="/component/comprofiler/login" target="_self">          <i class="icon-sun"></i> login</a>'),config$1.kong&&config$1.ScrollView.title("Bedlam")),j$5(document).on("click",'a[data-toggle="tab"]',function(l){j$5(this).find(".badge").remove()}),config$1.device.touch||j$5("body").tooltip({items:".tip",tooltipClass:"ui-tooltip",position:{my:"center bottom-10",at:"center top",collision:"flipfit"},show:{effect:"fadeIn",duration:200},hide:{effect:"fadeOut",duration:100},content:function(){return j$5(this).prop("title")}})}const j$4=jQuery;class MXP{constructor(){X(this,"handleMxpClick",n=>{j$4(".mxp-dropdown").remove();const a=j$4(n.currentTarget).attr("href");return a?a.includes("|")?this.handleMultiChoice(a,n.currentTarget):a==="#"?config$1.socket.write(""):config$1.socket.write(a):config$1.socket.write(j$4(n.currentTarget).text()),!1});X(this,"handleBodyClick",n=>{j$4(n.target).is("a")||j$4(".mxp-dropdown").remove()});this.enabled=!1,this.elements=[],this.entities=[],this.setupEventListeners()}setupEventListeners(){j$4("body").on("click",".mxp",this.handleMxpClick),j$4("body").on("click",this.handleBodyClick)}handleMultiChoice(n,a){var d;const c=n.split("|"),f=(d=j$4(a).attr("hint"))!=null&&d.includes("|")?j$4(a).attr("hint").split("|"):[];log(c),j$4(".mxp-dropdown").remove(),j$4("body").append('<ul class="mxp-dropdown"></ul>'),c.forEach((u,h)=>{const E=(f[h+1]||u).replace(/[0-9]/g,"");j$4(".mxp-dropdown").append('\n        <li>\n          <a class="mxp" href="'.concat(u,'">').concat(E,"</a>\n        </li>\n      "))}),j$4(".mxp-dropdown").css({top:j$4(a).offset().top,left:j$4(a).offset().left+j$4(a).width()+5,position:"absolute"}),j$4("input").on("mouseover",()=>j$4(".mxp-dropdown").remove())}prep(n){return n.replace(/\x1b\[[1-7]z/g,"").replace(/\r/g,"").replace(/\n/g,"<br>").replace(/\x1b>/g,">").replace(/\x1b</g,"<")}process(n){return!n||(n.includes("[")&&(log("Got IAC SB MXP IAC SE -> BEGIN MXP"),n=n.replace(/.\xff\xfa\x5b\xff\xf0/,""),this.enabled||(j$4("body").append('<div id="mxpf" style="display: none"></div>'),this.enabled=!0)),n.includes("[")&&(log("Got IAC WILL MXP -> BEGIN MXP"),n=n.replace(/.\xff\xfb\x5b/,""),this.enabled||(j$4("body").append('<div id="mxpf" style="display: none"></div>'),this.enabled=!0)),!this.enabled&&!n.match(/\x1b\[[0-7]z/))?n:(n=this.processElements(n),n=this.processEntities(n),n=this.processDeclaredElements(n),n=this.processColorTags(n),n=this.processLinks(n),n=this.processFontTags(n),n=this.processImageTags(n),n=this.processBasicTags(n),n=this.processFrames(n),this.cleanupTags(n))}processElements(n){const a=n.match(/<!element ([^]+?)>/gi);return a!=null&&a.length&&(this.elements=a.slice(1).map(c=>{const[f,d,...u]=c.substring(10,c.length-1).split(" ");return d==='FLAG=""'?[f,d,new RegExp("<(".concat(f,")>([^]+?)/</").concat(f,">"),"gi"),'\x1B<a class="mxp" href="$1 $2"\x1B>$2\x1B</a\x1B>']:[f,d,new RegExp("<(|/)".concat(f,">"),"gi"),""]}),Event$1.fire("mxp_elements",this.elements),n=n.replace(/<!element[^]+>/gi,"")),n}translate(n){return this.prep(this.process(n))}isEnabled(){return this.enabled}disable(){this.enabled=!1}}var Nt;(Nt=config$1.getSetting("mxp"))==null||Nt?(config$1.mxp=new MXP,Event$1.listen("internal_mxp",l=>config$1.mxp.process(l))):log("MXP disabled in profile or game preferences.");const j$3=jQuery;class ModalInput{constructor(n){this.options=n,this.colorize=new Colorize,this.modalInstance=null,this.init()}close(n=!1){log("ModalInput close"),n||Config$1.Socket.write(this.options.abort),this.cleanupEventListeners(),this.modalInstance&&this.modalInstance.hide()}send(){const n=j$3(".modal .me-input").val();if(j$3(".modal .me-pass2").length)Config$1.Socket.write(stringify({password1:n,password2:j$3(".modal .me-pass2").val()}));else{const{before:a="",after:c=""}=this.options;Config$1.Socket.write(a+n+c)}this.close(!0)}cleanupEventListeners(){j$3(".modal .me-dismiss").off(),j$3(".modal .me-send").off(),j$3(".modal .me-second").off()}init(){const n=this.options;if(n.backdrop=n.backdrop||!1,n.close&&n.close===1){this.close();return}if(n.mxp&&(n.replace=1,n.mxp=Config$1.mxp.translate(n.mxp),n.intro=n.intro?n.mxp+n.intro:n.mxp),n.text&&(n.text=this.colorize.strip(n.text).replace(/\r/g,"")),n.error&&(n.error=Config$1.mxp.prep(n.error)),n.info&&(n.info=Config$1.mxp.prep(n.info)),n.intro&&(n.intro=Config$1.mxp.prep(n.intro)),n.replace&&j$3(".me-modal").length&&j$3(".me-modal").is(":visible")){j$3(".modal h3").html(n.title),j$3(".modal .modal-body").html(n.text||n.html);return}const a=j$3(".modal");if(a){const d=Modal$1.getInstance(a);d&&d.hide(),a.remove()}const c='\n      <div class="modal '.concat(n.class||"",' fade me-modal" tabindex="-1">\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title">').concat(n.title||"Multi-Line Input","</h5>\n              ").concat(n.closeable!==!1?'<button type="button" class="btn-close me-dismiss" data-bs-dismiss="modal" aria-label="Close"></button>':"",'\n            </div>\n            <div class="modal-body">\n              ').concat(n.info?'<div class="alert alert-info">'.concat(n.info,"</div>"):"","\n              ").concat(n.error?'<div class="alert alert-danger">'.concat(n.error,"</div>"):"","\n              ").concat(n.intro?'<div class="intro">'.concat(n.intro,"</div><br>"):"","\n              ").concat(n.tag?'<input type="'.concat(n.type||"text",'" \n                  class="me-input ').concat(n.text?"modal-text-content":"",'"\n                  spellcheck="false"\n                  autocapitalize="off"\n                  autocorrect="off"\n                  placeholder="').concat(n.placeholder||"",'"\n                  value="').concat(n.text||"",'">'):'<textarea \n                  class="me-input '.concat(n.text?"modal-text-content":"",'"\n                  spellcheck="false"\n                  autocapitalize="off"\n                  autocorrect="off"\n                  placeholder="').concat(n.placeholder||"",'">').concat(n.text||n.html||"","</textarea>"),'\n            </div>\n            <div class="modal-footer">\n              <button class="btn btn-secondary kbutton me-dismiss">\n                ').concat(n.closeText||"Cancel",'\n              </button>\n              <button class="btn btn-primary kbutton me-send">\n                ').concat(n.sendText||"Send","\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    ");j$3("body").append(c),this.setupPasswordReset(),this.setupInputStyles(),this.setupButtons(),this.setupEventListeners();const f=document.querySelector(".modal");this.modalInstance=new Modal$1(f,{backdrop:n.backdrop?!0:"static",keyboard:!0}),n.css&&(n.css.width&&(n.css["margin-left"]=-(n.css.width/2)),j$3(".modal").css(n.css)),this.modalInstance.show(),setTimeout(()=>{j$3(".modal textarea").focus()},500)}setupPasswordReset(){const n=this.options;n.attr&&(n.attr==="reset"||n.attr==="change")&&(j$3(".modal-body").append('\n        <br>\n        <input type="password" class="me-pass2" placeholder="re-enter password">\n      '),j$3(".modal .me-send").addClass("disabled"),j$3(".modal input").on("keyup",()=>{const a=j$3(".modal .me-input").val(),c=j$3(".modal .me-pass2").val();j$3(".modal .me-send").toggleClass("disabled",!(a.length>5&&c.length>5&&a===c))}))}setupInputStyles(){const n=this.options;n.tag&&n.tag==="input"&&(j$3(".modal-body").css({padding:30}),j$3(".modal input").width(300),(!n.intro||n.intro.length<60)&&(n.css={...n.css,width:400}))}setupButtons(){const n=this.options;n.buttons&&(j$3(".modal-footer .kbutton").remove(),n.buttons.forEach((a,c)=>{const f=!a.click&&!exists(a.send)?" me-send":"";j$3(".modal-footer").prepend('\n        <button class="btn btn-secondary kbutton custom-'.concat(c).concat(f,'">\n          ').concat(a.text,"\n        </button>\n      ")),a.send&&j$3(".modal-footer .custom-"+c).click(()=>{Config$1.Socket.write(a.send)}),a.click&&j$3(".modal-footer .custom-"+c).click(a.click),a.css&&j$3(".modal-footer .custom-"+c).css(a.css)}))}setupEventListeners(){j$3(".modal .me-send").on("click",()=>this.send()),j$3(".modal .me-dismiss").on("click",()=>this.close()),this.options.sendText&&j$3(".modal .me-send").text(this.options.sendText)}}Event$1.listen("gmcp",l=>{if(!(l!=null&&l.length)||!l.startsWith("ModalInput"))return l;log("ModalInput detected gmcp trigger");try{const n=JSON.parse(l.match(/^[^ ]+ (.*)/)[1]);n.replace=n.gmcp=1,new ModalInput(n)}catch(n){log("ModalInput parse error:",n)}return l});const j$2=jQuery;class ChatterBox{constructor(n={}){this.options={title:"ChatterBox",css:{width:400,height:400,top:0,left:config$1.width},...config$1.chatterboxConfig,...n,id:"#chat-window"},config$1.kong&&(this.options.css.width=398,this.options.css.height=j$2(window).height()-143),this.win=new Window({id:this.options.id,title:this.options.title,class:"nofade ui-group ChatterBox",css:this.options.css||null,handle:".nav-tabs"}),config$1.ScrollView&&config$1.ScrollView.win.addButton({icon:"fa-solid fa-comments",title:"Hide / show the communication tabs",click:()=>{j$2(this.options.id).toggle()}}),this.initializeTabs(),this.createChannelsDropdown(this.options.tabs.filter(a=>a.channels).flatMap(a=>a.channels)),this.setupChannelEvents(),this.setupEventListeners(),this.exposeToConfig()}initializeTabs(){for(const n of this.options.tabs)if(n.channels&&(n.html=n.html||'<div class="content"></div>'),n.target||this.win.addTab(n),n.match)try{n.re=new RegExp(n.match,"gi")}catch(a){log(a)}}createChannelsDropdown(n){const a=n.map(u=>'<li><a class="dropdown-item" href="#" data="'.concat(u,'">').concat(u,"</a></li>")).join("");let c='\n      <div class="footer dropup" style="height: 30px">\n        <div class="dropdown"\n             data-toggle="tooltip"\n             title="Select chat channel"\n             style="float: left;">\n          <a id="dropdownMenuButtonChat" href="#" \n             class="channel dropdown-toggle kbutton"\n             data-bs-toggle="dropdown"\n             aria-expanded="false"\n             style="margin: 0 0 0 5px;position: relative;top: 0px;display: inline-block;height: 22px;padding: 0 10px !important;">\n            <span class="text">'.concat(n[0],'</span>\n          </a>\n          <ul class="dropdown-menu" aria-labelledby="dropdownMenuButtonChat">\n            ').concat(a,'\n          </ul>\n        </div>\n        <input class="send" type="text"\n               style="margin-left: 6px; margin-top: 2px; width: 260px"\n               placeholder="type your chat message">\n      </div>');const f=this.options.id,d=j$2("".concat(f," .tab-content"));d.length?d.after(c):j$2(f).append(c)}setupChannelEvents(){const n=this.options.id,a=document.querySelector("".concat(n," .dropdown"));a&&new bootstrap_bundle_minExports.Tooltip(a,{container:"body",trigger:"hover",boundary:"window",placement:"bottom",title:"Select chat channel",customClass:"ui-tooltip"});const c=document.querySelector("".concat(n," .dropdown-toggle"));if(c){const f=new bootstrap_bundle_minExports.Dropdown(c,{autoClose:!0,display:"dynamic"});c.addEventListener("click",u=>{u.preventDefault(),u.stopPropagation(),f.toggle()});const d=c.nextElementSibling;d&&d.addEventListener("click",u=>{if(u.target.classList.contains("dropdown-item")){u.preventDefault();const h=u.target.getAttribute("data");c.querySelector(".text").textContent=h,f.hide()}})}j$2(n).on("keydown","input",f=>{if(f.which===13&&j$2(f.currentTarget).val().length){const d=j$2("".concat(n," .dropdown-toggle .text")).text();config$1.Socket.write("".concat(d," ").concat(j$2(f.currentTarget).val())),j$2(f.currentTarget).val("");const u=d,h=this.options.tabs.findIndex(E=>E.channels&&E.channels.includes(u));if(h!==-1){const E=document.querySelector("".concat(n,' .nav-tabs a[href="#tab-').concat(h,'"]'));E&&new bootstrap_bundle_minExports.Tab(E).show()}f.stopPropagation(),f.preventDefault()}})}process(n){if(!n||n.length===0)return;let a=n;for(const c of this.options.tabs){if(!c.re)continue;const f=[...a.matchAll(c.re)];for(const d of f)if(d!=null&&d.length){let u=d[0];c.replace&&(u=d[0].replace(c.re,c.replace,"gi"));let h='<div id="c"><span>';if(c.time){const m=new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"});h+='<span style="color: DarkGray; opacity: 0.6">'.concat(m,"</span> ")}h+=u,h=h.replace(/([^"'])(http?:\/\/[^\s\x1b"']+)/g,'$1<a href="$2" target="_blank">$2</a>'),h+="</span></div>";const E=this.getTargetElement(c);E.append(h),E[0].scrollTop=E[0].scrollHeight,c.gag&&(a=this.handleGag(a,d[0]))}}return a}getTargetElement(n){if(n.target){const c=this.options.tabs.findIndex(f=>f.name===n.target);if(c>-1)return this.getContentElement(c)}const a=this.options.tabs.indexOf(n);return this.getContentElement(a)}getContentElement(n){const a="".concat(this.options.id," #tab-").concat(n);return j$2("".concat(a," .content")).length?j$2("".concat(a," .content")):j$2(a)}handleGag(n,a){const c=String.fromCharCode(parseInt("033",8));return n.replace(a,"".concat(c,'<span style="display: none"').concat(c,">").concat(a).concat(c,"</span").concat(c,">"))}setupEventListeners(){Event$1.listen("before_display",n=>this.process(n))}exposeToConfig(){config$1.ChatterBox=this,setTimeout(()=>{Event$1.fire("chatterbox_ready",this)},500)}addTab(n){return this.options.tabs.push(n),this.win.addTab(n)}}const j$1=jQuery,PATH="/app/images/group-";class GroupTab{constructor(n){this.options={id:"#group-tab",title:"Group",...n},this.group=null,this.affs=null,this.minimizedMembers=new Set,this.path=PATH}initialize(){log("GroupTab: init"),this.options.id=config$1.ChatterBox.addTab({name:this.options.title||"Group",before:!0,scroll:!0,html:'<div class="list" style="clear:both; min-height: 30px; height: 100%; position: relative"></div>',class:"group-tab-content"}),j$1("".concat(this.options.id," .group-member")).click(n=>{j$1("".concat(this.options.id," .group-member")).removeClass("active"),j$1(n.currentTarget).addClass("active")})}draw(){const n=this.group.members;j$1("".concat(this.options.id," .list")).empty(),n.forEach((a,c)=>{const f=Math.floor(a.info.hp*186/a.info.mhp),d=Math.floor(a.info.mn*186/a.info.mmn),u=Math.floor(a.info.mv*186/a.info.mmv),h='\n        <div class="group-member '.concat(a.name,'" data="').concat(a.name,'" id="group-member-').concat(c,'" num="').concat(c,'">\n          <i class="icon icon-double-angle-up member-close ui-button" style="position: absolute; z-index:2;" tabindex="1" title="minimize member panel"></i>\n          <i class="icon icon-double-angle-down member-show ui-button" style="position: absolute; z-index:2; display:none;" tabindex="1" title="maximize member panel"></i>\n          <div class="noart">\n            <div class="group-name">').concat(a.name,'</div>\n            <div class="group-desc">').concat(a.info.class,", Level ").concat(a.info.lvl,'</div>\n            <div class="group-chat"></div>\n            <div class="group-bars">\n              <img class="group-bar group-healthbar" src="').concat(this.path,'healthbar.png" style="width:').concat(f,'px">\n              <img class="group-bar group-manabar" src="').concat(this.path,'manabar.png" style="width:').concat(d,'px">\n              <img class="group-bar group-movebar" src="').concat(this.path,'movebar.png" style="width:').concat(u,'px">\n              <img class="group-bar group-expbar" src="').concat(this.path,'expbar.png">\n            </div>\n            <div class="group-stats">\n              <span class="group-stat group-hp">').concat(a.info.hp,'</span> / <span class="group-maxhp">').concat(a.info.mhp,'</span><br>\n              <span class="group-stat group-mn">').concat(a.info.mn,'</span> / <span class="group-maxmn">').concat(a.info.mmn,'</span><br>\n              <span class="group-stat group-mv">').concat(a.info.mv,'</span> / <span class="group-maxmv">').concat(a.info.mmv,'</span><br>\n              <span class="group-stat group-exp">100%</span><br>\n            </div>\n          </div>\n          <div class="group-aff"></div>\n        </div>\n      ');j$1("".concat(this.options.id," .list")).append(h)}),this.setupMemberEvents(),j$1("".concat(this.options.id," .list")).disableSelection(),this.options.noart&&j$1("".concat(this.options.id," .noart div")).css({left:20})}setupMemberEvents(){j$1("".concat(this.options.id," .group-member .member-close")).click(n=>{const a=j$1(n.currentTarget).parent(),c=parseInt(a.attr("num")),f=this.group.members[c].name;a.css({height:24}),a.find(".group-icon, .group-desc").hide(),a.find(".group-bars").css({top:14}),j$1(n.currentTarget).hide(),a.find(".member-show").show(),this.minimizedMembers.add(f)}),j$1("".concat(this.options.id," .group-member .member-show")).click(n=>{const a=j$1(n.currentTarget).parent(),c=parseInt(a.attr("num")),f=this.group.members[c].name;a.css({height:82}),j$1(n.currentTarget).hide(),a.find(".group-icon, .group-desc").show(),a.find(".group-bars").css({top:28}),a.find(".member-close").show(),this.minimizedMembers.delete(f)})}updateAffs(){var a,c,f,d;if(!((f=(c=(a=this.group)==null?void 0:a.members)==null?void 0:c[0])!=null&&f.name))return;const n=j$1("".concat(this.options.id," .list .").concat(this.group.members[0].name," .group-aff"));n.empty(),(d=this.affs)==null||d.forEach(u=>{const h=u.gives?'<div class="group-one-aff tip" title="Gives '.concat(u.gives," to ").concat(u.to,'">').concat(u.name,": ").concat(u.duration,"</div>"):'<div class="group-one-aff">'.concat(u.name,": ").concat(u.duration,"</div>");n.append(h)})}update(n){if(n.startsWith("group {"))try{this.group=JSON.parse(n.match(/^[^ ]+ (.*)/)[1]),this.draw(),this.updateAffs()}catch(a){log("GroupTab gmcp parse error:",a)}else if(n.startsWith("char.affs"))try{this.affs=JSON.parse(n.match(/^[^ ]+ (.*)/)[1]),this.updateAffs()}catch(a){log("GroupTab gmcp parse error:",a)}return n}getSelected(){var c,f;const n=j$1("".concat(this.options.id," .active"));if(!n.length)return null;const a=parseInt(n.attr("id"));return((f=(c=this.group)==null?void 0:c.members)==null?void 0:f[a])||null}}const j=jQuery;class IFrame{constructor(n){this.options={id:"#iframe",title:"IFrame",url:"",refresh:0,css:{width:800,height:600,top:0,right:0},...n},this.win=null,this.refreshTimer=null}initialize(){if(j(this.options.id).length){this.updateUrl(),j(this.options.id).toggle();return}this.win=new Window({id:this.options.id,title:this.options.title,iframe:!0,closeable:!0,class:"nofade ui-iframe",css:this.options.css,onResize:()=>{j("".concat(this.options.id," .content")).height(j(this.options.id).height()-16)},onClose:()=>{this.refreshTimer&&clearInterval(this.refreshTimer)},drag:this.options.drag,snap:this.options.snap}),j("".concat(this.options.id," .content")).html('\n      <div class="iframe-container" style="height: 100%; width: 100%;">\n        <iframe \n          src="'.concat(this.options.url,'" \n          style="overflow: hidden; height: 100%; width: 100%; padding: 0; margin: 0;" \n          frameBorder="0">\n        </iframe>\n      </div>\n    ')),j("".concat(this.options.id," .content")).height(j(this.options.id).height()-20),this.options.refresh&&(this.refreshTimer&&clearInterval(this.refreshTimer),this.refreshTimer=setInterval(()=>this.updateUrl(),this.options.refresh*1e3))}updateUrl(){j("".concat(this.options.id," iframe")).attr("src",this.options.url)}addButton(n){n&&window.sv&&(n.click=()=>this.initialize(),window.sv.win.button(n))}}window.jQuery=window.$=jQuery;document.addEventListener("DOMContentLoaded",async()=>{await config$1.initialize(),log("Config initialized:",config$1),initializeCore(),config$1.chatterbox&&new ChatterBox,config$1.controlPanel&&await new ControlPanel().initialize(),config$1.groupTab&&await new GroupTab().initialize(),config$1.initialIFrame&&(log("Loading initial URL:",config$1.initialURL),new IFrame({id:"#help-frame",title:config$1.initialIFrame.title||"Help",url:config$1.initialIFrame.URL,css:{width:800,height:600,top:0,left:"30%"},handle:".handle",drag:!0,snap:!0}).initialize())});export{__vite_legacy_guard};
