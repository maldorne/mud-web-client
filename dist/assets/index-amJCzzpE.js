var Bt=Object.defineProperty;var Ht=(a,e,l)=>e in a?Bt(a,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):a[e]=l;var Z=(a,e,l)=>Ht(a,typeof e!="symbol"?e+"":e,l);import{j as jQuery,c as commonjsGlobal}from"./jquery-ui-Coyhf0RB.js";import{r as requireBootstrap_bundle_min}from"./bootstrap-C2ejRGhm.js";import"./jquery-nicescroll-OPoEsYN3.js";function __vite_legacy_guard(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))c(f);new MutationObserver(f=>{for(const h of f)if(h.type==="childList")for(const u of h.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&c(u)}).observe(document,{childList:!0,subtree:!0});function l(f){const h={};return f.integrity&&(h.integrity=f.integrity),f.referrerPolicy&&(h.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?h.credentials="include":f.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function c(f){if(f.ep)return;f.ep=!0;const h=l(f);fetch(f.href,h)}})();var bootstrap_bundle_minExports=requireBootstrap_bundle_min();function polyfills(){String.prototype.has=function(a){return a.length?this.indexOf(a)!=-1:!1},String.prototype.start=function(a){return this.indexOf(a)==0},String.prototype.cap=function(){return this.charAt(0).toUpperCase()+this.slice(1)},Date.prototype.ymd=function(){var a=this.getFullYear().toString(),e=(this.getMonth()+1).toString(),l=this.getDate().toString();return a+"-"+(e[1]?e:"0"+e[0])+"-"+(l[1]?l:"0"+l[0])},Array.prototype.remove=function(){for(var a,e=arguments,l=e.length,c;l&&this.length;)for(a=e[--l];(c=this.indexOf(a))!=-1;)this.splice(c,1);return this},Array.prototype.index=function(a,e,l,c){if(!a){for(var f=0;f<this.length;f++)if(this[f]==e)return f}if(!this.length||!this[0][a])return-1;for(var f=0;f<this.length;f++)if(this[f][a]==e)if(c){if(this[f][l]==c)return f}else return f;return-1},Array.prototype.fetch=function(a,e,l){if(!this.length||!this[0][a])return null;for(var c=0;c<this.length;c++)if(this[c][a]==e)return this[c][l];return null},Array.prototype.has=function(a){return this.indexOf(a)!=-1},Array.prototype.not=function(a,e){if(!a)return null;for(var l=0;l<this.length;l++)if(this[l]!=e)return this[l];return null},Array.prototype.unique=function(){return this.reduce(function(a,e){return a.indexOf(e)<0&&a.push(e),a},[])},Array.prototype.add=function(a){this.indexOf(a)==-1&&this.push(a)},Array.prototype.remove=function(a){this.indexOf(a)!=-1&&this.splice(this.indexOf(a),1)},Array.prototype.filter||(Array.prototype.filter=function(a){var e=this.length;if(typeof a!="function")throw new TypeError;for(var l=new Array,c=arguments[1],f=0;f<e;f++)if(f in this){var h=this[f];a.call(c,h,f,this)&&l.push(h)}return l}),String.prototype.trimm=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},String.prototype.param=function(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+a+"=([^&#]*)"),l=e.exec(this);return l==null?"":decodeURIComponent(l[1])},jQuery&&jQuery.fn&&(jQuery.fn.center=function(){return this.css("top",Math.max(0,(jQuery(window).height()-jQuery(this).height())/2)),this.css("left",Math.max(0,(jQuery(window).width()-jQuery(this).width())/2)),this})}polyfills();function stringify(a){var e=[],l=JSON.stringify(a,function(c,f){if(typeof f=="object"&&f!==null){if(e.indexOf(f)!==-1)return;e.push(f)}return f});return l}function param(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+a+"=([^&#]*)"),l=e.exec(window.location.search);if(l==null)return!1;const c=decodeURIComponent(l[1]);return c.toLowerCase()==="true"||c==="1"?!0:c.toLowerCase()==="false"||c==="0"?!1:c}function log(){config$1.debug&&console.log.apply(console,arguments)}function exists(a){return typeof a<"u"?1:0}function addCommas(a){a+="";let e=a.split("."),l=e[0],c=e.length>1?"."+e[1]:"";for(var f=/(\d+)(\d{3})/;f.test(l);)l=l.replace(f,"$1,$2");return l+c}const j$i=jQuery;let Config$1=class{constructor(){this.debug=!1,this.host="muds.maldorne.org",this.port="5010",this.name="House of Maldorne",this.profile=null,this.width=800,this.height=j$i(window).height()-80,this.top=!1,this.left=!1,this.clean=!1,this.solo=!1,this.notrack=!1,this.nodrag=!1,this.embed=!1,this.kong=null,this.collapse=[],this.dev=!1,this.onfirst=!1,this.separator=";",this.proxy="wss://play.maldorne.org:6200/",this.uncompressed=!1,this.useMuProtocol=!1,this.chatterbox=!1,this.chatterboxConfig=null,this.settings=[],this.controlPanel=!1,this.groupTab=!1,this.initialIFrame=null,this.macros=!1,this.triggers=!1,this.useFakeUser=!1,this.fakeUser=null,this.saveRemotePrefs=!1,this.loginPrompt=!1,this.mapper=!1,this.havoc=!1,this.havocMapper=!1,this.misty=!1,this.gui=!0,this.fb=!1,this.fbAppId=null,this.device={touch:"ontouchstart"in window,lowres:j$i(window).width()<=640&&j$i(window).height()<=640,mobile:j$i(window).width()<=640&&j$i(window).height()<=640,tablet:"ontouchstart"in window&&j$i(window).width()>640,width:j$i(window).width(),height:j$i(window).height()},this.view="".concat(this.host,":").concat(this.port,":").concat(window.screen.width,"x").concat(window.screen.height)}async loadMudConfig(e){try{return await(await fetch("/muds/".concat(e,".json"))).json()}catch(l){return log("Error loading MUD configuration:",l),null}}getSettings(){var l,c,f,h,u,m,v;const e=[];return window.user&&((f=(c=(l=window.user)==null?void 0:l.pref)==null?void 0:c.sitelist)!=null&&f[param("name")]&&j$i.extend(!0,e,window.user.pref.sitelist[param("name")].settings),param("profile")&&((v=(m=(u=(h=window.user)==null?void 0:h.pref)==null?void 0:u.profiles)==null?void 0:m[param("profile")])!=null&&v.settings)&&j$i.extend(!0,e,window.user.pref.profiles[param("profile")].settings)),e}getSetting(e){var l,c;return this.settings.length&&(c=(l=this.settings.find(f=>f.id===e))==null?void 0:l.value)!=null?c:null}async initialize(){var c;const e=param("mud")||"example",l=await this.loadMudConfig(e);if(l&&(Object.keys(this).filter(h=>typeof this[h]!="function"&&h!=="device"&&h!=="view").forEach(h=>{h in l&&(this[h]=l[h])}),l.chatterbox&&(this.chatterboxConfig=structuredClone(l.chatterboxConfig),this.chatterbox=!0),l.useFakeUser&&l.fakeUser&&(this.fakeUser=structuredClone(l.fakeUser),this.useFakeUser=!0)),this.debug=param("debug")||this.debug,this.host=param("host")||this.host,this.port=param("port")||this.port,this.name=param("name")||this.name,this.profile=param("profile"),this.width=param("width")||this.width,this.height=param("height")||this.height,this.top=param("top")||this.top,this.left=param("left")||this.left,this.clean=window.location.search.includes("clean")||this.clean,this.solo=window.location.search.includes("solo")||this.solo,this.notrack=param("notrack")||this.notrack,this.nodrag=param("nodrag")||this.nodrag,this.embed=param("embed")||this.embed,this.kong=param("kong"),this.dev=window.location.search.includes("dev")||this.dev,this.onfirst=param("onfirst")||this.onfirst,this.separator=window.location.search.includes("separator")?param("separator"):this.separator,this.uncompressed=param("uncompressed")||this.uncompressed,this.useMuProtocol=param("useMuProtocol")||this.useMuProtocol,this.chatterbox=param("chatterbox")||this.chatterbox,this.controlPanel=param("controlPanel")||this.controlPanel,this.groupTab=param("groupTab")||this.groupTab,this.macros=param("macros")||this.macros,this.triggers=param("triggers")||this.triggers,this.useFakeUser=param("useFakeUser")||this.useFakeUser,this.saveRemotePrefs=param("saveRemotePrefs")||this.saveRemotePrefs,this.loginPrompt=param("loginPrompt")||this.loginPrompt,this.mapper=param("mapper")||this.mapper,this.havoc=param("havoc")||this.havoc,this.havocMapper=param("havocMapper")||this.havocMapper,this.misty=param("misty")||this.misty,this.gui=param("gui")||this.gui,this.fb=param("fb")||this.fb,this.fbAppId=param("fbAppId")||this.fbAppId,param("initialURL")){let f=param("initialURL");!f.startsWith("http://")&&!f.startsWith("https://")&&(f="https://"+f),new URL(f),this.initialIFrame={...this.initialIFrame,URL:f}}if(this.settings=this.getSettings(),this.view="".concat(this.host,":").concat(this.port,":").concat(window.screen.width,"x").concat(window.screen.height),this.useFakeUser){if((c=this.fakeUser.pref)!=null&&c.win){const f=Object.keys(this.fakeUser.pref.win)[0];f!==this.view&&(this.fakeUser.pref.win[this.view]=this.fakeUser.pref.win[f])}window.user||(window.user=this.fakeUser)}}};const MU_CHANNELS={TEXT:"t",JSON:"j",PUEBLO:"p"},config$1=new Config$1;var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start$1="start",end$1="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(a,e){return a.concat([e+"-"+start$1,e+"-"+end$1])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(a,e){return a.concat([e,e+"-"+start$1,e+"-"+end$1])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(a){return a?(a.nodeName||"").toLowerCase():null}function getWindow(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var e=a.ownerDocument;return e&&e.defaultView||window}return a}function isElement$1(a){var e=getWindow(a).Element;return a instanceof e||a instanceof Element}function isHTMLElement(a){var e=getWindow(a).HTMLElement;return a instanceof e||a instanceof HTMLElement}function isShadowRoot(a){if(typeof ShadowRoot>"u")return!1;var e=getWindow(a).ShadowRoot;return a instanceof e||a instanceof ShadowRoot}function applyStyles(a){var e=a.state;Object.keys(e.elements).forEach(function(l){var c=e.styles[l]||{},f=e.attributes[l]||{},h=e.elements[l];!isHTMLElement(h)||!getNodeName(h)||(Object.assign(h.style,c),Object.keys(f).forEach(function(u){var m=f[u];m===!1?h.removeAttribute(u):h.setAttribute(u,m===!0?"":m)}))})}function effect$2(a){var e=a.state,l={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,l.popper),e.styles=l,e.elements.arrow&&Object.assign(e.elements.arrow.style,l.arrow),function(){Object.keys(e.elements).forEach(function(c){var f=e.elements[c],h=e.attributes[c]||{},u=Object.keys(e.styles.hasOwnProperty(c)?e.styles[c]:l[c]),m=u.reduce(function(v,_){return v[_]="",v},{});!isHTMLElement(f)||!getNodeName(f)||(Object.assign(f.style,m),Object.keys(h).forEach(function(v){f.removeAttribute(v)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(a){return a.split("-")[0]}var max=Math.max,min=Math.min,round=Math.round;function getUAString(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(a,e,l){e===void 0&&(e=!1),l===void 0&&(l=!1);var c=a.getBoundingClientRect(),f=1,h=1;e&&isHTMLElement(a)&&(f=a.offsetWidth>0&&round(c.width)/a.offsetWidth||1,h=a.offsetHeight>0&&round(c.height)/a.offsetHeight||1);var u=isElement$1(a)?getWindow(a):window,m=u.visualViewport,v=!isLayoutViewport()&&l,_=(c.left+(v&&m?m.offsetLeft:0))/f,b=(c.top+(v&&m?m.offsetTop:0))/h,E=c.width/f,y=c.height/h;return{width:E,height:y,top:b,right:_+E,bottom:b+y,left:_,x:_,y:b}}function getLayoutRect(a){var e=getBoundingClientRect(a),l=a.offsetWidth,c=a.offsetHeight;return Math.abs(e.width-l)<=1&&(l=e.width),Math.abs(e.height-c)<=1&&(c=e.height),{x:a.offsetLeft,y:a.offsetTop,width:l,height:c}}function contains(a,e){var l=e.getRootNode&&e.getRootNode();if(a.contains(e))return!0;if(l&&isShadowRoot(l)){var c=e;do{if(c&&a.isSameNode(c))return!0;c=c.parentNode||c.host}while(c)}return!1}function getComputedStyle$1(a){return getWindow(a).getComputedStyle(a)}function isTableElement(a){return["table","td","th"].indexOf(getNodeName(a))>=0}function getDocumentElement(a){return((isElement$1(a)?a.ownerDocument:a.document)||window.document).documentElement}function getParentNode(a){return getNodeName(a)==="html"?a:a.assignedSlot||a.parentNode||(isShadowRoot(a)?a.host:null)||getDocumentElement(a)}function getTrueOffsetParent(a){return!isHTMLElement(a)||getComputedStyle$1(a).position==="fixed"?null:a.offsetParent}function getContainingBlock(a){var e=/firefox/i.test(getUAString()),l=/Trident/i.test(getUAString());if(l&&isHTMLElement(a)){var c=getComputedStyle$1(a);if(c.position==="fixed")return null}var f=getParentNode(a);for(isShadowRoot(f)&&(f=f.host);isHTMLElement(f)&&["html","body"].indexOf(getNodeName(f))<0;){var h=getComputedStyle$1(f);if(h.transform!=="none"||h.perspective!=="none"||h.contain==="paint"||["transform","perspective"].indexOf(h.willChange)!==-1||e&&h.willChange==="filter"||e&&h.filter&&h.filter!=="none")return f;f=f.parentNode}return null}function getOffsetParent(a){for(var e=getWindow(a),l=getTrueOffsetParent(a);l&&isTableElement(l)&&getComputedStyle$1(l).position==="static";)l=getTrueOffsetParent(l);return l&&(getNodeName(l)==="html"||getNodeName(l)==="body"&&getComputedStyle$1(l).position==="static")?e:l||getContainingBlock(a)||e}function getMainAxisFromPlacement(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function within(a,e,l){return max(a,min(e,l))}function withinMaxClamp(a,e,l){var c=within(a,e,l);return c>l?l:c}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(a){return Object.assign({},getFreshSideObject(),a)}function expandToHashMap(a,e){return e.reduce(function(l,c){return l[c]=a,l},{})}var toPaddingObject=function(e,l){return e=typeof e=="function"?e(Object.assign({},l.rects,{placement:l.placement})):e,mergePaddingObject(typeof e!="number"?e:expandToHashMap(e,basePlacements))};function arrow(a){var e,l=a.state,c=a.name,f=a.options,h=l.elements.arrow,u=l.modifiersData.popperOffsets,m=getBasePlacement(l.placement),v=getMainAxisFromPlacement(m),_=[left,right].indexOf(m)>=0,b=_?"height":"width";if(!(!h||!u)){var E=toPaddingObject(f.padding,l),y=getLayoutRect(h),$=v==="y"?top:left,T=v==="y"?bottom:right,C=l.rects.reference[b]+l.rects.reference[v]-u[v]-l.rects.popper[b],O=u[v]-l.rects.reference[v],D=getOffsetParent(h),R=D?v==="y"?D.clientHeight||0:D.clientWidth||0:0,k=C/2-O/2,I=E[$],N=R-y[b]-E[T],M=R/2-y[b]/2+k,H=within(I,M,N),B=v;l.modifiersData[c]=(e={},e[B]=H,e.centerOffset=H-M,e)}}function effect$1(a){var e=a.state,l=a.options,c=l.element,f=c===void 0?"[data-popper-arrow]":c;f!=null&&(typeof f=="string"&&(f=e.elements.popper.querySelector(f),!f)||contains(e.elements.popper,f)&&(e.elements.arrow=f))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(a){return a.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(a,e){var l=a.x,c=a.y,f=e.devicePixelRatio||1;return{x:round(l*f)/f||0,y:round(c*f)/f||0}}function mapToStyles(a){var e,l=a.popper,c=a.popperRect,f=a.placement,h=a.variation,u=a.offsets,m=a.position,v=a.gpuAcceleration,_=a.adaptive,b=a.roundOffsets,E=a.isFixed,y=u.x,$=y===void 0?0:y,T=u.y,C=T===void 0?0:T,O=typeof b=="function"?b({x:$,y:C}):{x:$,y:C};$=O.x,C=O.y;var D=u.hasOwnProperty("x"),R=u.hasOwnProperty("y"),k=left,I=top,N=window;if(_){var M=getOffsetParent(l),H="clientHeight",B="clientWidth";if(M===getWindow(l)&&(M=getDocumentElement(l),getComputedStyle$1(M).position!=="static"&&m==="absolute"&&(H="scrollHeight",B="scrollWidth")),M=M,f===top||(f===left||f===right)&&h===end$1){I=bottom;var F=E&&M===N&&N.visualViewport?N.visualViewport.height:M[H];C-=F-c.height,C*=v?1:-1}if(f===left||(f===top||f===bottom)&&h===end$1){k=right;var z=E&&M===N&&N.visualViewport?N.visualViewport.width:M[B];$-=z-c.width,$*=v?1:-1}}var V=Object.assign({position:m},_&&unsetSides),U=b===!0?roundOffsetsByDPR({x:$,y:C},getWindow(l)):{x:$,y:C};if($=U.x,C=U.y,v){var W;return Object.assign({},V,(W={},W[I]=R?"0":"",W[k]=D?"0":"",W.transform=(N.devicePixelRatio||1)<=1?"translate("+$+"px, "+C+"px)":"translate3d("+$+"px, "+C+"px, 0)",W))}return Object.assign({},V,(e={},e[I]=R?C+"px":"",e[k]=D?$+"px":"",e.transform="",e))}function computeStyles(a){var e=a.state,l=a.options,c=l.gpuAcceleration,f=c===void 0?!0:c,h=l.adaptive,u=h===void 0?!0:h,m=l.roundOffsets,v=m===void 0?!0:m,_={placement:getBasePlacement(e.placement),variation:getVariation(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:f,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mapToStyles(Object.assign({},_,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:v})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mapToStyles(Object.assign({},_,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:v})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(a){var e=a.state,l=a.instance,c=a.options,f=c.scroll,h=f===void 0?!0:f,u=c.resize,m=u===void 0?!0:u,v=getWindow(e.elements.popper),_=[].concat(e.scrollParents.reference,e.scrollParents.popper);return h&&_.forEach(function(b){b.addEventListener("scroll",l.update,passive)}),m&&v.addEventListener("resize",l.update,passive),function(){h&&_.forEach(function(b){b.removeEventListener("scroll",l.update,passive)}),m&&v.removeEventListener("resize",l.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(a){return a.replace(/left|right|bottom|top/g,function(e){return hash$1[e]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(a){return a.replace(/start|end/g,function(e){return hash[e]})}function getWindowScroll(a){var e=getWindow(a),l=e.pageXOffset,c=e.pageYOffset;return{scrollLeft:l,scrollTop:c}}function getWindowScrollBarX(a){return getBoundingClientRect(getDocumentElement(a)).left+getWindowScroll(a).scrollLeft}function getViewportRect(a,e){var l=getWindow(a),c=getDocumentElement(a),f=l.visualViewport,h=c.clientWidth,u=c.clientHeight,m=0,v=0;if(f){h=f.width,u=f.height;var _=isLayoutViewport();(_||!_&&e==="fixed")&&(m=f.offsetLeft,v=f.offsetTop)}return{width:h,height:u,x:m+getWindowScrollBarX(a),y:v}}function getDocumentRect(a){var e,l=getDocumentElement(a),c=getWindowScroll(a),f=(e=a.ownerDocument)==null?void 0:e.body,h=max(l.scrollWidth,l.clientWidth,f?f.scrollWidth:0,f?f.clientWidth:0),u=max(l.scrollHeight,l.clientHeight,f?f.scrollHeight:0,f?f.clientHeight:0),m=-c.scrollLeft+getWindowScrollBarX(a),v=-c.scrollTop;return getComputedStyle$1(f||l).direction==="rtl"&&(m+=max(l.clientWidth,f?f.clientWidth:0)-h),{width:h,height:u,x:m,y:v}}function isScrollParent(a){var e=getComputedStyle$1(a),l=e.overflow,c=e.overflowX,f=e.overflowY;return/auto|scroll|overlay|hidden/.test(l+f+c)}function getScrollParent(a){return["html","body","#document"].indexOf(getNodeName(a))>=0?a.ownerDocument.body:isHTMLElement(a)&&isScrollParent(a)?a:getScrollParent(getParentNode(a))}function listScrollParents(a,e){var l;e===void 0&&(e=[]);var c=getScrollParent(a),f=c===((l=a.ownerDocument)==null?void 0:l.body),h=getWindow(c),u=f?[h].concat(h.visualViewport||[],isScrollParent(c)?c:[]):c,m=e.concat(u);return f?m:m.concat(listScrollParents(getParentNode(u)))}function rectToClientRect(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function getInnerBoundingClientRect(a,e){var l=getBoundingClientRect(a,!1,e==="fixed");return l.top=l.top+a.clientTop,l.left=l.left+a.clientLeft,l.bottom=l.top+a.clientHeight,l.right=l.left+a.clientWidth,l.width=a.clientWidth,l.height=a.clientHeight,l.x=l.left,l.y=l.top,l}function getClientRectFromMixedType(a,e,l){return e===viewport?rectToClientRect(getViewportRect(a,l)):isElement$1(e)?getInnerBoundingClientRect(e,l):rectToClientRect(getDocumentRect(getDocumentElement(a)))}function getClippingParents(a){var e=listScrollParents(getParentNode(a)),l=["absolute","fixed"].indexOf(getComputedStyle$1(a).position)>=0,c=l&&isHTMLElement(a)?getOffsetParent(a):a;return isElement$1(c)?e.filter(function(f){return isElement$1(f)&&contains(f,c)&&getNodeName(f)!=="body"}):[]}function getClippingRect(a,e,l,c){var f=e==="clippingParents"?getClippingParents(a):[].concat(e),h=[].concat(f,[l]),u=h[0],m=h.reduce(function(v,_){var b=getClientRectFromMixedType(a,_,c);return v.top=max(b.top,v.top),v.right=min(b.right,v.right),v.bottom=min(b.bottom,v.bottom),v.left=max(b.left,v.left),v},getClientRectFromMixedType(a,u,c));return m.width=m.right-m.left,m.height=m.bottom-m.top,m.x=m.left,m.y=m.top,m}function computeOffsets(a){var e=a.reference,l=a.element,c=a.placement,f=c?getBasePlacement(c):null,h=c?getVariation(c):null,u=e.x+e.width/2-l.width/2,m=e.y+e.height/2-l.height/2,v;switch(f){case top:v={x:u,y:e.y-l.height};break;case bottom:v={x:u,y:e.y+e.height};break;case right:v={x:e.x+e.width,y:m};break;case left:v={x:e.x-l.width,y:m};break;default:v={x:e.x,y:e.y}}var _=f?getMainAxisFromPlacement(f):null;if(_!=null){var b=_==="y"?"height":"width";switch(h){case start$1:v[_]=v[_]-(e[b]/2-l[b]/2);break;case end$1:v[_]=v[_]+(e[b]/2-l[b]/2);break}}return v}function detectOverflow(a,e){e===void 0&&(e={});var l=e,c=l.placement,f=c===void 0?a.placement:c,h=l.strategy,u=h===void 0?a.strategy:h,m=l.boundary,v=m===void 0?clippingParents:m,_=l.rootBoundary,b=_===void 0?viewport:_,E=l.elementContext,y=E===void 0?popper:E,$=l.altBoundary,T=$===void 0?!1:$,C=l.padding,O=C===void 0?0:C,D=mergePaddingObject(typeof O!="number"?O:expandToHashMap(O,basePlacements)),R=y===popper?reference:popper,k=a.rects.popper,I=a.elements[T?R:y],N=getClippingRect(isElement$1(I)?I:I.contextElement||getDocumentElement(a.elements.popper),v,b,u),M=getBoundingClientRect(a.elements.reference),H=computeOffsets({reference:M,element:k,placement:f}),B=rectToClientRect(Object.assign({},k,H)),F=y===popper?B:M,z={top:N.top-F.top+D.top,bottom:F.bottom-N.bottom+D.bottom,left:N.left-F.left+D.left,right:F.right-N.right+D.right},V=a.modifiersData.offset;if(y===popper&&V){var U=V[f];Object.keys(z).forEach(function(W){var X=[right,bottom].indexOf(W)>=0?1:-1,K=[top,bottom].indexOf(W)>=0?"y":"x";z[W]+=U[K]*X})}return z}function computeAutoPlacement(a,e){e===void 0&&(e={});var l=e,c=l.placement,f=l.boundary,h=l.rootBoundary,u=l.padding,m=l.flipVariations,v=l.allowedAutoPlacements,_=v===void 0?placements:v,b=getVariation(c),E=b?m?variationPlacements:variationPlacements.filter(function(T){return getVariation(T)===b}):basePlacements,y=E.filter(function(T){return _.indexOf(T)>=0});y.length===0&&(y=E);var $=y.reduce(function(T,C){return T[C]=detectOverflow(a,{placement:C,boundary:f,rootBoundary:h,padding:u})[getBasePlacement(C)],T},{});return Object.keys($).sort(function(T,C){return $[T]-$[C]})}function getExpandedFallbackPlacements(a){if(getBasePlacement(a)===auto)return[];var e=getOppositePlacement(a);return[getOppositeVariationPlacement(a),e,getOppositeVariationPlacement(e)]}function flip(a){var e=a.state,l=a.options,c=a.name;if(!e.modifiersData[c]._skip){for(var f=l.mainAxis,h=f===void 0?!0:f,u=l.altAxis,m=u===void 0?!0:u,v=l.fallbackPlacements,_=l.padding,b=l.boundary,E=l.rootBoundary,y=l.altBoundary,$=l.flipVariations,T=$===void 0?!0:$,C=l.allowedAutoPlacements,O=e.options.placement,D=getBasePlacement(O),R=D===O,k=v||(R||!T?[getOppositePlacement(O)]:getExpandedFallbackPlacements(O)),I=[O].concat(k).reduce(function(it,Q){return it.concat(getBasePlacement(Q)===auto?computeAutoPlacement(e,{placement:Q,boundary:b,rootBoundary:E,padding:_,flipVariations:T,allowedAutoPlacements:C}):Q)},[]),N=e.rects.reference,M=e.rects.popper,H=new Map,B=!0,F=I[0],z=0;z<I.length;z++){var V=I[z],U=getBasePlacement(V),W=getVariation(V)===start$1,X=[top,bottom].indexOf(U)>=0,K=X?"width":"height",Y=detectOverflow(e,{placement:V,boundary:b,rootBoundary:E,altBoundary:y,padding:_}),q=X?W?right:left:W?bottom:top;N[K]>M[K]&&(q=getOppositePlacement(q));var ot=getOppositePlacement(q),J=[];if(h&&J.push(Y[U]<=0),m&&J.push(Y[q]<=0,Y[ot]<=0),J.every(function(it){return it})){F=V,B=!1;break}H.set(V,J)}if(B)for(var at=T?3:1,ht=function(Q){var st=I.find(function(ct){var tt=H.get(ct);if(tt)return tt.slice(0,Q).every(function(dt){return dt})});if(st)return F=st,"break"},nt=at;nt>0;nt--){var rt=ht(nt);if(rt==="break")break}e.placement!==F&&(e.modifiersData[c]._skip=!0,e.placement=F,e.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(a,e,l){return l===void 0&&(l={x:0,y:0}),{top:a.top-e.height-l.y,right:a.right-e.width+l.x,bottom:a.bottom-e.height+l.y,left:a.left-e.width-l.x}}function isAnySideFullyClipped(a){return[top,right,bottom,left].some(function(e){return a[e]>=0})}function hide(a){var e=a.state,l=a.name,c=e.rects.reference,f=e.rects.popper,h=e.modifiersData.preventOverflow,u=detectOverflow(e,{elementContext:"reference"}),m=detectOverflow(e,{altBoundary:!0}),v=getSideOffsets(u,c),_=getSideOffsets(m,f,h),b=isAnySideFullyClipped(v),E=isAnySideFullyClipped(_);e.modifiersData[l]={referenceClippingOffsets:v,popperEscapeOffsets:_,isReferenceHidden:b,hasPopperEscaped:E},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":b,"data-popper-escaped":E})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(a,e,l){var c=getBasePlacement(a),f=[left,top].indexOf(c)>=0?-1:1,h=typeof l=="function"?l(Object.assign({},e,{placement:a})):l,u=h[0],m=h[1];return u=u||0,m=(m||0)*f,[left,right].indexOf(c)>=0?{x:m,y:u}:{x:u,y:m}}function offset(a){var e=a.state,l=a.options,c=a.name,f=l.offset,h=f===void 0?[0,0]:f,u=placements.reduce(function(b,E){return b[E]=distanceAndSkiddingToXY(E,e.rects,h),b},{}),m=u[e.placement],v=m.x,_=m.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=v,e.modifiersData.popperOffsets.y+=_),e.modifiersData[c]=u}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(a){var e=a.state,l=a.name;e.modifiersData[l]=computeOffsets({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(a){return a==="x"?"y":"x"}function preventOverflow(a){var e=a.state,l=a.options,c=a.name,f=l.mainAxis,h=f===void 0?!0:f,u=l.altAxis,m=u===void 0?!1:u,v=l.boundary,_=l.rootBoundary,b=l.altBoundary,E=l.padding,y=l.tether,$=y===void 0?!0:y,T=l.tetherOffset,C=T===void 0?0:T,O=detectOverflow(e,{boundary:v,rootBoundary:_,padding:E,altBoundary:b}),D=getBasePlacement(e.placement),R=getVariation(e.placement),k=!R,I=getMainAxisFromPlacement(D),N=getAltAxis(I),M=e.modifiersData.popperOffsets,H=e.rects.reference,B=e.rects.popper,F=typeof C=="function"?C(Object.assign({},e.rects,{placement:e.placement})):C,z=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),V=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,U={x:0,y:0};if(M){if(h){var W,X=I==="y"?top:left,K=I==="y"?bottom:right,Y=I==="y"?"height":"width",q=M[I],ot=q+O[X],J=q-O[K],at=$?-B[Y]/2:0,ht=R===start$1?H[Y]:B[Y],nt=R===start$1?-B[Y]:-H[Y],rt=e.elements.arrow,it=$&&rt?getLayoutRect(rt):{width:0,height:0},Q=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:getFreshSideObject(),st=Q[X],ct=Q[K],tt=within(0,H[Y],it[Y]),dt=k?H[Y]/2-at-tt-st-z.mainAxis:ht-tt-st-z.mainAxis,Dt=k?-H[Y]/2+at+tt+ct+z.mainAxis:nt+tt+ct+z.mainAxis,ut=e.elements.arrow&&getOffsetParent(e.elements.arrow),kt=ut?I==="y"?ut.clientTop||0:ut.clientLeft||0:0,gt=(W=V==null?void 0:V[I])!=null?W:0,Rt=q+dt-gt-kt,Mt=q+Dt-gt,vt=within($?min(ot,Rt):ot,q,$?max(J,Mt):J);M[I]=vt,U[I]=vt-q}if(m){var _t,Pt=I==="x"?top:left,jt=I==="x"?bottom:right,et=M[N],ft=N==="y"?"height":"width",bt=et+O[Pt],yt=et-O[jt],mt=[top,left].indexOf(D)!==-1,$t=(_t=V==null?void 0:V[N])!=null?_t:0,wt=mt?bt:et-H[ft]-B[ft]-$t+z.altAxis,Tt=mt?et+H[ft]+B[ft]-$t-z.altAxis:yt,Nt=$&&mt?withinMaxClamp(wt,et,Tt):within($?wt:bt,et,$?Tt:yt);M[N]=Nt,U[N]=Nt-et}e.modifiersData[c]=U}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function getNodeScroll(a){return a===getWindow(a)||!isHTMLElement(a)?getWindowScroll(a):getHTMLElementScroll(a)}function isElementScaled(a){var e=a.getBoundingClientRect(),l=round(e.width)/a.offsetWidth||1,c=round(e.height)/a.offsetHeight||1;return l!==1||c!==1}function getCompositeRect(a,e,l){l===void 0&&(l=!1);var c=isHTMLElement(e),f=isHTMLElement(e)&&isElementScaled(e),h=getDocumentElement(e),u=getBoundingClientRect(a,f,l),m={scrollLeft:0,scrollTop:0},v={x:0,y:0};return(c||!c&&!l)&&((getNodeName(e)!=="body"||isScrollParent(h))&&(m=getNodeScroll(e)),isHTMLElement(e)?(v=getBoundingClientRect(e,!0),v.x+=e.clientLeft,v.y+=e.clientTop):h&&(v.x=getWindowScrollBarX(h))),{x:u.left+m.scrollLeft-v.x,y:u.top+m.scrollTop-v.y,width:u.width,height:u.height}}function order(a){var e=new Map,l=new Set,c=[];a.forEach(function(h){e.set(h.name,h)});function f(h){l.add(h.name);var u=[].concat(h.requires||[],h.requiresIfExists||[]);u.forEach(function(m){if(!l.has(m)){var v=e.get(m);v&&f(v)}}),c.push(h)}return a.forEach(function(h){l.has(h.name)||f(h)}),c}function orderModifiers(a){var e=order(a);return modifierPhases.reduce(function(l,c){return l.concat(e.filter(function(f){return f.phase===c}))},[])}function debounce(a){var e;return function(){return e||(e=new Promise(function(l){Promise.resolve().then(function(){e=void 0,l(a())})})),e}}function mergeByName(a){var e=a.reduce(function(l,c){var f=l[c.name];return l[c.name]=f?Object.assign({},f,c,{options:Object.assign({},f.options,c.options),data:Object.assign({},f.data,c.data)}):c,l},{});return Object.keys(e).map(function(l){return e[l]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var a=arguments.length,e=new Array(a),l=0;l<a;l++)e[l]=arguments[l];return!e.some(function(c){return!(c&&typeof c.getBoundingClientRect=="function")})}function popperGenerator(a){a===void 0&&(a={});var e=a,l=e.defaultModifiers,c=l===void 0?[]:l,f=e.defaultOptions,h=f===void 0?DEFAULT_OPTIONS:f;return function(m,v,_){_===void 0&&(_=h);var b={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,h),modifiersData:{},elements:{reference:m,popper:v},attributes:{},styles:{}},E=[],y=!1,$={state:b,setOptions:function(D){var R=typeof D=="function"?D(b.options):D;C(),b.options=Object.assign({},h,b.options,R),b.scrollParents={reference:isElement$1(m)?listScrollParents(m):m.contextElement?listScrollParents(m.contextElement):[],popper:listScrollParents(v)};var k=orderModifiers(mergeByName([].concat(c,b.options.modifiers)));return b.orderedModifiers=k.filter(function(I){return I.enabled}),T(),$.update()},forceUpdate:function(){if(!y){var D=b.elements,R=D.reference,k=D.popper;if(areValidElements(R,k)){b.rects={reference:getCompositeRect(R,getOffsetParent(k),b.options.strategy==="fixed"),popper:getLayoutRect(k)},b.reset=!1,b.placement=b.options.placement,b.orderedModifiers.forEach(function(z){return b.modifiersData[z.name]=Object.assign({},z.data)});for(var I=0;I<b.orderedModifiers.length;I++){if(b.reset===!0){b.reset=!1,I=-1;continue}var N=b.orderedModifiers[I],M=N.fn,H=N.options,B=H===void 0?{}:H,F=N.name;typeof M=="function"&&(b=M({state:b,options:B,name:F,instance:$})||b)}}}},update:debounce(function(){return new Promise(function(O){$.forceUpdate(),O(b)})}),destroy:function(){C(),y=!0}};if(!areValidElements(m,v))return $;$.setOptions(_).then(function(O){!y&&_.onFirstUpdate&&_.onFirstUpdate(O)});function T(){b.orderedModifiers.forEach(function(O){var D=O.name,R=O.options,k=R===void 0?{}:R,I=O.effect;if(typeof I=="function"){var N=I({state:b,name:D,instance:$,options:k}),M=function(){};E.push(N||M)}})}function C(){E.forEach(function(O){return O()}),E=[]}return $}}var createPopper$2=popperGenerator(),defaultModifiers$1=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1],createPopper$1=popperGenerator({defaultModifiers:defaultModifiers$1}),defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});const Popper=Object.freeze(Object.defineProperty({__proto__:null,afterMain,afterRead,afterWrite,applyStyles:applyStyles$1,arrow:arrow$1,auto,basePlacements,beforeMain,beforeRead,beforeWrite,bottom,clippingParents,computeStyles:computeStyles$1,createPopper,createPopperBase:createPopper$2,createPopperLite:createPopper$1,detectOverflow,end:end$1,eventListeners,flip:flip$1,hide:hide$1,left,main,modifierPhases,offset:offset$1,placements,popper,popperGenerator,popperOffsets:popperOffsets$1,preventOverflow:preventOverflow$1,read,reference,right,start:start$1,top,variationPlacements,viewport,write},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const elementMap=new Map,Data={set(a,e,l){elementMap.has(a)||elementMap.set(a,new Map);const c=elementMap.get(a);if(!c.has(e)&&c.size!==0){console.error("Bootstrap doesn't allow more than one instance per element. Bound instance: ".concat(Array.from(c.keys())[0],"."));return}c.set(e,l)},get(a,e){return elementMap.has(a)&&elementMap.get(a).get(e)||null},remove(a,e){if(!elementMap.has(a))return;const l=elementMap.get(a);l.delete(e),l.size===0&&elementMap.delete(a)}},MAX_UID=1e6,MILLISECONDS_MULTIPLIER=1e3,TRANSITION_END="transitionend",parseSelector=a=>(a&&window.CSS&&window.CSS.escape&&(a=a.replace(/#([^\s"#']+)/g,(e,l)=>"#".concat(CSS.escape(l)))),a),toType=a=>a==null?"".concat(a):Object.prototype.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase(),getUID=a=>{do a+=Math.floor(Math.random()*MAX_UID);while(document.getElementById(a));return a},getTransitionDurationFromElement=a=>{if(!a)return 0;let{transitionDuration:e,transitionDelay:l}=window.getComputedStyle(a);const c=Number.parseFloat(e),f=Number.parseFloat(l);return!c&&!f?0:(e=e.split(",")[0],l=l.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(l))*MILLISECONDS_MULTIPLIER)},triggerTransitionEnd=a=>{a.dispatchEvent(new Event(TRANSITION_END))},isElement=a=>!a||typeof a!="object"?!1:(typeof a.jquery<"u"&&(a=a[0]),typeof a.nodeType<"u"),getElement=a=>isElement(a)?a.jquery?a[0]:a:typeof a=="string"&&a.length>0?document.querySelector(parseSelector(a)):null,isVisible=a=>{if(!isElement(a)||a.getClientRects().length===0)return!1;const e=getComputedStyle(a).getPropertyValue("visibility")==="visible",l=a.closest("details:not([open])");if(!l)return e;if(l!==a){const c=a.closest("summary");if(c&&c.parentNode!==l||c===null)return!1}return e},isDisabled=a=>!a||a.nodeType!==Node.ELEMENT_NODE||a.classList.contains("disabled")?!0:typeof a.disabled<"u"?a.disabled:a.hasAttribute("disabled")&&a.getAttribute("disabled")!=="false",findShadowRoot=a=>{if(!document.documentElement.attachShadow)return null;if(typeof a.getRootNode=="function"){const e=a.getRootNode();return e instanceof ShadowRoot?e:null}return a instanceof ShadowRoot?a:a.parentNode?findShadowRoot(a.parentNode):null},noop$3=()=>{},reflow=a=>{a.offsetHeight},getjQuery=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,DOMContentLoadedCallbacks=[],onDOMContentLoaded=a=>{document.readyState==="loading"?(DOMContentLoadedCallbacks.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of DOMContentLoadedCallbacks)e()}),DOMContentLoadedCallbacks.push(a)):a()},isRTL=()=>document.documentElement.dir==="rtl",defineJQueryPlugin=a=>{onDOMContentLoaded(()=>{const e=getjQuery();if(e){const l=a.NAME,c=e.fn[l];e.fn[l]=a.jQueryInterface,e.fn[l].Constructor=a,e.fn[l].noConflict=()=>(e.fn[l]=c,a.jQueryInterface)}})},execute=(a,e=[],l=a)=>typeof a=="function"?a(...e):l,executeAfterTransition=(a,e,l=!0)=>{if(!l){execute(a);return}const f=getTransitionDurationFromElement(e)+5;let h=!1;const u=({target:m})=>{m===e&&(h=!0,e.removeEventListener(TRANSITION_END,u),execute(a))};e.addEventListener(TRANSITION_END,u),setTimeout(()=>{h||triggerTransitionEnd(e)},f)},getNextActiveElement=(a,e,l,c)=>{const f=a.length;let h=a.indexOf(e);return h===-1?!l&&c?a[f-1]:a[0]:(h+=l?1:-1,c&&(h=(h+f)%f),a[Math.max(0,Math.min(h,f-1))])},namespaceRegex=/[^.]*(?=\..*)\.|.*/,stripNameRegex=/\..*/,stripUidRegex=/::\d+$/,eventRegistry={};let uidEvent=1;const customEvents={mouseenter:"mouseover",mouseleave:"mouseout"},nativeEvents=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function makeEventUid(a,e){return e&&"".concat(e,"::").concat(uidEvent++)||a.uidEvent||uidEvent++}function getElementEvents(a){const e=makeEventUid(a);return a.uidEvent=e,eventRegistry[e]=eventRegistry[e]||{},eventRegistry[e]}function bootstrapHandler(a,e){return function l(c){return hydrateObj(c,{delegateTarget:a}),l.oneOff&&EventHandler.off(a,c.type,e),e.apply(a,[c])}}function bootstrapDelegationHandler(a,e,l){return function c(f){const h=a.querySelectorAll(e);for(let{target:u}=f;u&&u!==this;u=u.parentNode)for(const m of h)if(m===u)return hydrateObj(f,{delegateTarget:u}),c.oneOff&&EventHandler.off(a,f.type,e,l),l.apply(u,[f])}}function findHandler(a,e,l=null){return Object.values(a).find(c=>c.callable===e&&c.delegationSelector===l)}function normalizeParameters(a,e,l){const c=typeof e=="string",f=c?l:e||l;let h=getTypeEvent(a);return nativeEvents.has(h)||(h=a),[c,f,h]}function addHandler(a,e,l,c,f){if(typeof e!="string"||!a)return;let[h,u,m]=normalizeParameters(e,l,c);e in customEvents&&(u=(T=>function(C){if(!C.relatedTarget||C.relatedTarget!==C.delegateTarget&&!C.delegateTarget.contains(C.relatedTarget))return T.call(this,C)})(u));const v=getElementEvents(a),_=v[m]||(v[m]={}),b=findHandler(_,u,h?l:null);if(b){b.oneOff=b.oneOff&&f;return}const E=makeEventUid(u,e.replace(namespaceRegex,"")),y=h?bootstrapDelegationHandler(a,l,u):bootstrapHandler(a,u);y.delegationSelector=h?l:null,y.callable=u,y.oneOff=f,y.uidEvent=E,_[E]=y,a.addEventListener(m,y,h)}function removeHandler(a,e,l,c,f){const h=findHandler(e[l],c,f);h&&(a.removeEventListener(l,h,!!f),delete e[l][h.uidEvent])}function removeNamespacedHandlers(a,e,l,c){const f=e[l]||{};for(const[h,u]of Object.entries(f))h.includes(c)&&removeHandler(a,e,l,u.callable,u.delegationSelector)}function getTypeEvent(a){return a=a.replace(stripNameRegex,""),customEvents[a]||a}const EventHandler={on(a,e,l,c){addHandler(a,e,l,c,!1)},one(a,e,l,c){addHandler(a,e,l,c,!0)},off(a,e,l,c){if(typeof e!="string"||!a)return;const[f,h,u]=normalizeParameters(e,l,c),m=u!==e,v=getElementEvents(a),_=v[u]||{},b=e.startsWith(".");if(typeof h<"u"){if(!Object.keys(_).length)return;removeHandler(a,v,u,h,f?l:null);return}if(b)for(const E of Object.keys(v))removeNamespacedHandlers(a,v,E,e.slice(1));for(const[E,y]of Object.entries(_)){const $=E.replace(stripUidRegex,"");(!m||e.includes($))&&removeHandler(a,v,u,y.callable,y.delegationSelector)}},trigger(a,e,l){if(typeof e!="string"||!a)return null;const c=getjQuery(),f=getTypeEvent(e),h=e!==f;let u=null,m=!0,v=!0,_=!1;h&&c&&(u=c.Event(e,l),c(a).trigger(u),m=!u.isPropagationStopped(),v=!u.isImmediatePropagationStopped(),_=u.isDefaultPrevented());const b=hydrateObj(new Event(e,{bubbles:m,cancelable:!0}),l);return _&&b.preventDefault(),v&&a.dispatchEvent(b),b.defaultPrevented&&u&&u.preventDefault(),b}};function hydrateObj(a,e={}){for(const[l,c]of Object.entries(e))try{a[l]=c}catch(f){Object.defineProperty(a,l,{configurable:!0,get(){return c}})}return a}function normalizeData(a){if(a==="true")return!0;if(a==="false")return!1;if(a===Number(a).toString())return Number(a);if(a===""||a==="null")return null;if(typeof a!="string")return a;try{return JSON.parse(decodeURIComponent(a))}catch(e){return a}}function normalizeDataKey(a){return a.replace(/[A-Z]/g,e=>"-".concat(e.toLowerCase()))}const Manipulator={setDataAttribute(a,e,l){a.setAttribute("data-bs-".concat(normalizeDataKey(e)),l)},removeDataAttribute(a,e){a.removeAttribute("data-bs-".concat(normalizeDataKey(e)))},getDataAttributes(a){if(!a)return{};const e={},l=Object.keys(a.dataset).filter(c=>c.startsWith("bs")&&!c.startsWith("bsConfig"));for(const c of l){let f=c.replace(/^bs/,"");f=f.charAt(0).toLowerCase()+f.slice(1,f.length),e[f]=normalizeData(a.dataset[c])}return e},getDataAttribute(a,e){return normalizeData(a.getAttribute("data-bs-".concat(normalizeDataKey(e))))}};class Config{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,l){const c=isElement(l)?Manipulator.getDataAttribute(l,"config"):{};return{...this.constructor.Default,...typeof c=="object"?c:{},...isElement(l)?Manipulator.getDataAttributes(l):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,l=this.constructor.DefaultType){for(const[c,f]of Object.entries(l)){const h=e[c],u=isElement(h)?"element":toType(h);if(!new RegExp(f).test(u))throw new TypeError("".concat(this.constructor.NAME.toUpperCase(),': Option "').concat(c,'" provided type "').concat(u,'" but expected type "').concat(f,'".'))}}}const VERSION="5.3.3";class BaseComponent extends Config{constructor(e,l){super(),e=getElement(e),e&&(this._element=e,this._config=this._getConfig(l),Data.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Data.remove(this._element,this.constructor.DATA_KEY),EventHandler.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,l,c=!0){executeAfterTransition(e,l,c)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Data.get(getElement(e),this.DATA_KEY)}static getOrCreateInstance(e,l={}){return this.getInstance(e)||new this(e,typeof l=="object"?l:null)}static get VERSION(){return VERSION}static get DATA_KEY(){return"bs.".concat(this.NAME)}static get EVENT_KEY(){return".".concat(this.DATA_KEY)}static eventName(e){return"".concat(e).concat(this.EVENT_KEY)}}const getSelector=a=>{let e=a.getAttribute("data-bs-target");if(!e||e==="#"){let l=a.getAttribute("href");if(!l||!l.includes("#")&&!l.startsWith("."))return null;l.includes("#")&&!l.startsWith("#")&&(l="#".concat(l.split("#")[1])),e=l&&l!=="#"?l.trim():null}return e?e.split(",").map(l=>parseSelector(l)).join(","):null},SelectorEngine={find(a,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,a))},findOne(a,e=document.documentElement){return Element.prototype.querySelector.call(e,a)},children(a,e){return[].concat(...a.children).filter(l=>l.matches(e))},parents(a,e){const l=[];let c=a.parentNode.closest(e);for(;c;)l.push(c),c=c.parentNode.closest(e);return l},prev(a,e){let l=a.previousElementSibling;for(;l;){if(l.matches(e))return[l];l=l.previousElementSibling}return[]},next(a,e){let l=a.nextElementSibling;for(;l;){if(l.matches(e))return[l];l=l.nextElementSibling}return[]},focusableChildren(a){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(l=>"".concat(l,':not([tabindex^="-"])')).join(",");return this.find(e,a).filter(l=>!isDisabled(l)&&isVisible(l))},getSelectorFromElement(a){const e=getSelector(a);return e&&SelectorEngine.findOne(e)?e:null},getElementFromSelector(a){const e=getSelector(a);return e?SelectorEngine.findOne(e):null},getMultipleElementsFromSelector(a){const e=getSelector(a);return e?SelectorEngine.find(e):[]}},enableDismissTrigger=(a,e="hide")=>{const l="click.dismiss".concat(a.EVENT_KEY),c=a.NAME;EventHandler.on(document,l,'[data-bs-dismiss="'.concat(c,'"]'),function(f){if(["A","AREA"].includes(this.tagName)&&f.preventDefault(),isDisabled(this))return;const h=SelectorEngine.getElementFromSelector(this)||this.closest(".".concat(c));a.getOrCreateInstance(h)[e]()})},NAME$f="alert",DATA_KEY$a="bs.alert",EVENT_KEY$b=".".concat(DATA_KEY$a),EVENT_CLOSE="close".concat(EVENT_KEY$b),EVENT_CLOSED="closed".concat(EVENT_KEY$b),CLASS_NAME_FADE$5="fade",CLASS_NAME_SHOW$8="show";class Alert extends BaseComponent{static get NAME(){return NAME$f}close(){if(EventHandler.trigger(this._element,EVENT_CLOSE).defaultPrevented)return;this._element.classList.remove(CLASS_NAME_SHOW$8);const l=this._element.classList.contains(CLASS_NAME_FADE$5);this._queueCallback(()=>this._destroyElement(),this._element,l)}_destroyElement(){this._element.remove(),EventHandler.trigger(this._element,EVENT_CLOSED),this.dispose()}static jQueryInterface(e){return this.each(function(){const l=Alert.getOrCreateInstance(this);if(typeof e=="string"){if(l[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError('No method named "'.concat(e,'"'));l[e](this)}})}}enableDismissTrigger(Alert,"close");defineJQueryPlugin(Alert);const NAME$e="button",DATA_KEY$9="bs.button",EVENT_KEY$a=".".concat(DATA_KEY$9),DATA_API_KEY$6=".data-api",CLASS_NAME_ACTIVE$3="active",SELECTOR_DATA_TOGGLE$5='[data-bs-toggle="button"]',EVENT_CLICK_DATA_API$6="click".concat(EVENT_KEY$a).concat(DATA_API_KEY$6);class Button extends BaseComponent{static get NAME(){return NAME$e}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(CLASS_NAME_ACTIVE$3))}static jQueryInterface(e){return this.each(function(){const l=Button.getOrCreateInstance(this);e==="toggle"&&l[e]()})}}EventHandler.on(document,EVENT_CLICK_DATA_API$6,SELECTOR_DATA_TOGGLE$5,a=>{a.preventDefault();const e=a.target.closest(SELECTOR_DATA_TOGGLE$5);Button.getOrCreateInstance(e).toggle()});defineJQueryPlugin(Button);const NAME$d="swipe",EVENT_KEY$9=".bs.swipe",EVENT_TOUCHSTART="touchstart".concat(EVENT_KEY$9),EVENT_TOUCHMOVE="touchmove".concat(EVENT_KEY$9),EVENT_TOUCHEND="touchend".concat(EVENT_KEY$9),EVENT_POINTERDOWN="pointerdown".concat(EVENT_KEY$9),EVENT_POINTERUP="pointerup".concat(EVENT_KEY$9),POINTER_TYPE_TOUCH="touch",POINTER_TYPE_PEN="pen",CLASS_NAME_POINTER_EVENT="pointer-event",SWIPE_THRESHOLD=40,Default$c={endCallback:null,leftCallback:null,rightCallback:null},DefaultType$c={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Swipe extends Config{constructor(e,l){super(),this._element=e,!(!e||!Swipe.isSupported())&&(this._config=this._getConfig(l),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Default$c}static get DefaultType(){return DefaultType$c}static get NAME(){return NAME$d}dispose(){EventHandler.off(this._element,EVENT_KEY$9)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),execute(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=SWIPE_THRESHOLD)return;const l=e/this._deltaX;this._deltaX=0,l&&execute(l>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(EventHandler.on(this._element,EVENT_POINTERDOWN,e=>this._start(e)),EventHandler.on(this._element,EVENT_POINTERUP,e=>this._end(e)),this._element.classList.add(CLASS_NAME_POINTER_EVENT)):(EventHandler.on(this._element,EVENT_TOUCHSTART,e=>this._start(e)),EventHandler.on(this._element,EVENT_TOUCHMOVE,e=>this._move(e)),EventHandler.on(this._element,EVENT_TOUCHEND,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===POINTER_TYPE_PEN||e.pointerType===POINTER_TYPE_TOUCH)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const NAME$c="carousel",DATA_KEY$8="bs.carousel",EVENT_KEY$8=".".concat(DATA_KEY$8),DATA_API_KEY$5=".data-api",ARROW_LEFT_KEY$1="ArrowLeft",ARROW_RIGHT_KEY$1="ArrowRight",TOUCHEVENT_COMPAT_WAIT=500,ORDER_NEXT="next",ORDER_PREV="prev",DIRECTION_LEFT="left",DIRECTION_RIGHT="right",EVENT_SLIDE="slide".concat(EVENT_KEY$8),EVENT_SLID="slid".concat(EVENT_KEY$8),EVENT_KEYDOWN$1="keydown".concat(EVENT_KEY$8),EVENT_MOUSEENTER$1="mouseenter".concat(EVENT_KEY$8),EVENT_MOUSELEAVE$1="mouseleave".concat(EVENT_KEY$8),EVENT_DRAG_START="dragstart".concat(EVENT_KEY$8),EVENT_LOAD_DATA_API$3="load".concat(EVENT_KEY$8).concat(DATA_API_KEY$5),EVENT_CLICK_DATA_API$5="click".concat(EVENT_KEY$8).concat(DATA_API_KEY$5),CLASS_NAME_CAROUSEL="carousel",CLASS_NAME_ACTIVE$2="active",CLASS_NAME_SLIDE="slide",CLASS_NAME_END="carousel-item-end",CLASS_NAME_START="carousel-item-start",CLASS_NAME_NEXT="carousel-item-next",CLASS_NAME_PREV="carousel-item-prev",SELECTOR_ACTIVE=".active",SELECTOR_ITEM=".carousel-item",SELECTOR_ACTIVE_ITEM=SELECTOR_ACTIVE+SELECTOR_ITEM,SELECTOR_ITEM_IMG=".carousel-item img",SELECTOR_INDICATORS=".carousel-indicators",SELECTOR_DATA_SLIDE="[data-bs-slide], [data-bs-slide-to]",SELECTOR_DATA_RIDE='[data-bs-ride="carousel"]',KEY_TO_DIRECTION={[ARROW_LEFT_KEY$1]:DIRECTION_RIGHT,[ARROW_RIGHT_KEY$1]:DIRECTION_LEFT},Default$b={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},DefaultType$b={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Carousel extends BaseComponent{constructor(e,l){super(e,l),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=SelectorEngine.findOne(SELECTOR_INDICATORS,this._element),this._addEventListeners(),this._config.ride===CLASS_NAME_CAROUSEL&&this.cycle()}static get Default(){return Default$b}static get DefaultType(){return DefaultType$b}static get NAME(){return NAME$c}next(){this._slide(ORDER_NEXT)}nextWhenVisible(){!document.hidden&&isVisible(this._element)&&this.next()}prev(){this._slide(ORDER_PREV)}pause(){this._isSliding&&triggerTransitionEnd(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.cycle());return}this.cycle()}}to(e){const l=this._getItems();if(e>l.length-1||e<0)return;if(this._isSliding){EventHandler.one(this._element,EVENT_SLID,()=>this.to(e));return}const c=this._getItemIndex(this._getActive());if(c===e)return;const f=e>c?ORDER_NEXT:ORDER_PREV;this._slide(f,l[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&EventHandler.on(this._element,EVENT_KEYDOWN$1,e=>this._keydown(e)),this._config.pause==="hover"&&(EventHandler.on(this._element,EVENT_MOUSEENTER$1,()=>this.pause()),EventHandler.on(this._element,EVENT_MOUSELEAVE$1,()=>this._maybeEnableCycle())),this._config.touch&&Swipe.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const c of SelectorEngine.find(SELECTOR_ITEM_IMG,this._element))EventHandler.on(c,EVENT_DRAG_START,f=>f.preventDefault());const l={leftCallback:()=>this._slide(this._directionToOrder(DIRECTION_LEFT)),rightCallback:()=>this._slide(this._directionToOrder(DIRECTION_RIGHT)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),TOUCHEVENT_COMPAT_WAIT+this._config.interval))}};this._swipeHelper=new Swipe(this._element,l)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const l=KEY_TO_DIRECTION[e.key];l&&(e.preventDefault(),this._slide(this._directionToOrder(l)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const l=SelectorEngine.findOne(SELECTOR_ACTIVE,this._indicatorsElement);l.classList.remove(CLASS_NAME_ACTIVE$2),l.removeAttribute("aria-current");const c=SelectorEngine.findOne('[data-bs-slide-to="'.concat(e,'"]'),this._indicatorsElement);c&&(c.classList.add(CLASS_NAME_ACTIVE$2),c.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const l=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=l||this._config.defaultInterval}_slide(e,l=null){if(this._isSliding)return;const c=this._getActive(),f=e===ORDER_NEXT,h=l||getNextActiveElement(this._getItems(),c,f,this._config.wrap);if(h===c)return;const u=this._getItemIndex(h),m=$=>EventHandler.trigger(this._element,$,{relatedTarget:h,direction:this._orderToDirection(e),from:this._getItemIndex(c),to:u});if(m(EVENT_SLIDE).defaultPrevented||!c||!h)return;const _=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(u),this._activeElement=h;const b=f?CLASS_NAME_START:CLASS_NAME_END,E=f?CLASS_NAME_NEXT:CLASS_NAME_PREV;h.classList.add(E),reflow(h),c.classList.add(b),h.classList.add(b);const y=()=>{h.classList.remove(b,E),h.classList.add(CLASS_NAME_ACTIVE$2),c.classList.remove(CLASS_NAME_ACTIVE$2,E,b),this._isSliding=!1,m(EVENT_SLID)};this._queueCallback(y,c,this._isAnimated()),_&&this.cycle()}_isAnimated(){return this._element.classList.contains(CLASS_NAME_SLIDE)}_getActive(){return SelectorEngine.findOne(SELECTOR_ACTIVE_ITEM,this._element)}_getItems(){return SelectorEngine.find(SELECTOR_ITEM,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return isRTL()?e===DIRECTION_LEFT?ORDER_PREV:ORDER_NEXT:e===DIRECTION_LEFT?ORDER_NEXT:ORDER_PREV}_orderToDirection(e){return isRTL()?e===ORDER_PREV?DIRECTION_LEFT:DIRECTION_RIGHT:e===ORDER_PREV?DIRECTION_RIGHT:DIRECTION_LEFT}static jQueryInterface(e){return this.each(function(){const l=Carousel.getOrCreateInstance(this,e);if(typeof e=="number"){l.to(e);return}if(typeof e=="string"){if(l[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError('No method named "'.concat(e,'"'));l[e]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$5,SELECTOR_DATA_SLIDE,function(a){const e=SelectorEngine.getElementFromSelector(this);if(!e||!e.classList.contains(CLASS_NAME_CAROUSEL))return;a.preventDefault();const l=Carousel.getOrCreateInstance(e),c=this.getAttribute("data-bs-slide-to");if(c){l.to(c),l._maybeEnableCycle();return}if(Manipulator.getDataAttribute(this,"slide")==="next"){l.next(),l._maybeEnableCycle();return}l.prev(),l._maybeEnableCycle()});EventHandler.on(window,EVENT_LOAD_DATA_API$3,()=>{const a=SelectorEngine.find(SELECTOR_DATA_RIDE);for(const e of a)Carousel.getOrCreateInstance(e)});defineJQueryPlugin(Carousel);const NAME$b="collapse",DATA_KEY$7="bs.collapse",EVENT_KEY$7=".".concat(DATA_KEY$7),DATA_API_KEY$4=".data-api",EVENT_SHOW$6="show".concat(EVENT_KEY$7),EVENT_SHOWN$6="shown".concat(EVENT_KEY$7),EVENT_HIDE$6="hide".concat(EVENT_KEY$7),EVENT_HIDDEN$6="hidden".concat(EVENT_KEY$7),EVENT_CLICK_DATA_API$4="click".concat(EVENT_KEY$7).concat(DATA_API_KEY$4),CLASS_NAME_SHOW$7="show",CLASS_NAME_COLLAPSE="collapse",CLASS_NAME_COLLAPSING="collapsing",CLASS_NAME_COLLAPSED="collapsed",CLASS_NAME_DEEPER_CHILDREN=":scope .".concat(CLASS_NAME_COLLAPSE," .").concat(CLASS_NAME_COLLAPSE),CLASS_NAME_HORIZONTAL="collapse-horizontal",WIDTH="width",HEIGHT="height",SELECTOR_ACTIVES=".collapse.show, .collapse.collapsing",SELECTOR_DATA_TOGGLE$4='[data-bs-toggle="collapse"]',Default$a={parent:null,toggle:!0},DefaultType$a={parent:"(null|element)",toggle:"boolean"};class Collapse extends BaseComponent{constructor(e,l){super(e,l),this._isTransitioning=!1,this._triggerArray=[];const c=SelectorEngine.find(SELECTOR_DATA_TOGGLE$4);for(const f of c){const h=SelectorEngine.getSelectorFromElement(f),u=SelectorEngine.find(h).filter(m=>m===this._element);h!==null&&u.length&&this._triggerArray.push(f)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Default$a}static get DefaultType(){return DefaultType$a}static get NAME(){return NAME$b}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(SELECTOR_ACTIVES).filter(m=>m!==this._element).map(m=>Collapse.getOrCreateInstance(m,{toggle:!1}))),e.length&&e[0]._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$6).defaultPrevented)return;for(const m of e)m.hide();const c=this._getDimension();this._element.classList.remove(CLASS_NAME_COLLAPSE),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.style[c]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const f=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7),this._element.style[c]="",EventHandler.trigger(this._element,EVENT_SHOWN$6)},h=c[0].toUpperCase()+c.slice(1),u="scroll".concat(h);this._queueCallback(f,this._element,!0),this._element.style[c]="".concat(this._element[u],"px")}hide(){if(this._isTransitioning||!this._isShown()||EventHandler.trigger(this._element,EVENT_HIDE$6).defaultPrevented)return;const l=this._getDimension();this._element.style[l]="".concat(this._element.getBoundingClientRect()[l],"px"),reflow(this._element),this._element.classList.add(CLASS_NAME_COLLAPSING),this._element.classList.remove(CLASS_NAME_COLLAPSE,CLASS_NAME_SHOW$7);for(const f of this._triggerArray){const h=SelectorEngine.getElementFromSelector(f);h&&!this._isShown(h)&&this._addAriaAndCollapsedClass([f],!1)}this._isTransitioning=!0;const c=()=>{this._isTransitioning=!1,this._element.classList.remove(CLASS_NAME_COLLAPSING),this._element.classList.add(CLASS_NAME_COLLAPSE),EventHandler.trigger(this._element,EVENT_HIDDEN$6)};this._element.style[l]="",this._queueCallback(c,this._element,!0)}_isShown(e=this._element){return e.classList.contains(CLASS_NAME_SHOW$7)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=getElement(e.parent),e}_getDimension(){return this._element.classList.contains(CLASS_NAME_HORIZONTAL)?WIDTH:HEIGHT}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(SELECTOR_DATA_TOGGLE$4);for(const l of e){const c=SelectorEngine.getElementFromSelector(l);c&&this._addAriaAndCollapsedClass([l],this._isShown(c))}}_getFirstLevelChildren(e){const l=SelectorEngine.find(CLASS_NAME_DEEPER_CHILDREN,this._config.parent);return SelectorEngine.find(e,this._config.parent).filter(c=>!l.includes(c))}_addAriaAndCollapsedClass(e,l){if(e.length)for(const c of e)c.classList.toggle(CLASS_NAME_COLLAPSED,!l),c.setAttribute("aria-expanded",l)}static jQueryInterface(e){const l={};return typeof e=="string"&&/show|hide/.test(e)&&(l.toggle=!1),this.each(function(){const c=Collapse.getOrCreateInstance(this,l);if(typeof e=="string"){if(typeof c[e]>"u")throw new TypeError('No method named "'.concat(e,'"'));c[e]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$4,SELECTOR_DATA_TOGGLE$4,function(a){(a.target.tagName==="A"||a.delegateTarget&&a.delegateTarget.tagName==="A")&&a.preventDefault();for(const e of SelectorEngine.getMultipleElementsFromSelector(this))Collapse.getOrCreateInstance(e,{toggle:!1}).toggle()});defineJQueryPlugin(Collapse);const NAME$a="dropdown",DATA_KEY$6="bs.dropdown",EVENT_KEY$6=".".concat(DATA_KEY$6),DATA_API_KEY$3=".data-api",ESCAPE_KEY$2="Escape",TAB_KEY$1="Tab",ARROW_UP_KEY$1="ArrowUp",ARROW_DOWN_KEY$1="ArrowDown",RIGHT_MOUSE_BUTTON=2,EVENT_HIDE$5="hide".concat(EVENT_KEY$6),EVENT_HIDDEN$5="hidden".concat(EVENT_KEY$6),EVENT_SHOW$5="show".concat(EVENT_KEY$6),EVENT_SHOWN$5="shown".concat(EVENT_KEY$6),EVENT_CLICK_DATA_API$3="click".concat(EVENT_KEY$6).concat(DATA_API_KEY$3),EVENT_KEYDOWN_DATA_API="keydown".concat(EVENT_KEY$6).concat(DATA_API_KEY$3),EVENT_KEYUP_DATA_API="keyup".concat(EVENT_KEY$6).concat(DATA_API_KEY$3),CLASS_NAME_SHOW$6="show",CLASS_NAME_DROPUP="dropup",CLASS_NAME_DROPEND="dropend",CLASS_NAME_DROPSTART="dropstart",CLASS_NAME_DROPUP_CENTER="dropup-center",CLASS_NAME_DROPDOWN_CENTER="dropdown-center",SELECTOR_DATA_TOGGLE$3='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',SELECTOR_DATA_TOGGLE_SHOWN="".concat(SELECTOR_DATA_TOGGLE$3,".").concat(CLASS_NAME_SHOW$6),SELECTOR_MENU=".dropdown-menu",SELECTOR_NAVBAR=".navbar",SELECTOR_NAVBAR_NAV=".navbar-nav",SELECTOR_VISIBLE_ITEMS=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",PLACEMENT_TOP=isRTL()?"top-end":"top-start",PLACEMENT_TOPEND=isRTL()?"top-start":"top-end",PLACEMENT_BOTTOM=isRTL()?"bottom-end":"bottom-start",PLACEMENT_BOTTOMEND=isRTL()?"bottom-start":"bottom-end",PLACEMENT_RIGHT=isRTL()?"left-start":"right-start",PLACEMENT_LEFT=isRTL()?"right-start":"left-start",PLACEMENT_TOPCENTER="top",PLACEMENT_BOTTOMCENTER="bottom",Default$9={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},DefaultType$9={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Dropdown extends BaseComponent{constructor(e,l){super(e,l),this._popper=null,this._parent=this._element.parentNode,this._menu=SelectorEngine.next(this._element,SELECTOR_MENU)[0]||SelectorEngine.prev(this._element,SELECTOR_MENU)[0]||SelectorEngine.findOne(SELECTOR_MENU,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Default$9}static get DefaultType(){return DefaultType$9}static get NAME(){return NAME$a}toggle(){return this._isShown()?this.hide():this.show()}show(){if(isDisabled(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!EventHandler.trigger(this._element,EVENT_SHOW$5,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(SELECTOR_NAVBAR_NAV))for(const c of[].concat(...document.body.children))EventHandler.on(c,"mouseover",noop$3);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(CLASS_NAME_SHOW$6),this._element.classList.add(CLASS_NAME_SHOW$6),EventHandler.trigger(this._element,EVENT_SHOWN$5,e)}}hide(){if(isDisabled(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!EventHandler.trigger(this._element,EVENT_HIDE$5,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const c of[].concat(...document.body.children))EventHandler.off(c,"mouseover",noop$3);this._popper&&this._popper.destroy(),this._menu.classList.remove(CLASS_NAME_SHOW$6),this._element.classList.remove(CLASS_NAME_SHOW$6),this._element.setAttribute("aria-expanded","false"),Manipulator.removeDataAttribute(this._menu,"popper"),EventHandler.trigger(this._element,EVENT_HIDDEN$5,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!isElement(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError("".concat(NAME$a.toUpperCase(),': Option "reference" provided type "object" without a required "getBoundingClientRect" method.'));return e}_createPopper(){if(typeof Popper>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:isElement(this._config.reference)?e=getElement(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const l=this._getPopperConfig();this._popper=createPopper(e,this._menu,l)}_isShown(){return this._menu.classList.contains(CLASS_NAME_SHOW$6)}_getPlacement(){const e=this._parent;if(e.classList.contains(CLASS_NAME_DROPEND))return PLACEMENT_RIGHT;if(e.classList.contains(CLASS_NAME_DROPSTART))return PLACEMENT_LEFT;if(e.classList.contains(CLASS_NAME_DROPUP_CENTER))return PLACEMENT_TOPCENTER;if(e.classList.contains(CLASS_NAME_DROPDOWN_CENTER))return PLACEMENT_BOTTOMCENTER;const l=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(CLASS_NAME_DROPUP)?l?PLACEMENT_TOPEND:PLACEMENT_TOP:l?PLACEMENT_BOTTOMEND:PLACEMENT_BOTTOM}_detectNavbar(){return this._element.closest(SELECTOR_NAVBAR)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(l=>Number.parseInt(l,10)):typeof e=="function"?l=>e(l,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Manipulator.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...execute(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:l}){const c=SelectorEngine.find(SELECTOR_VISIBLE_ITEMS,this._menu).filter(f=>isVisible(f));c.length&&getNextActiveElement(c,l,e===ARROW_DOWN_KEY$1,!c.includes(l)).focus()}static jQueryInterface(e){return this.each(function(){const l=Dropdown.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof l[e]>"u")throw new TypeError('No method named "'.concat(e,'"'));l[e]()}})}static clearMenus(e){if(e.button===RIGHT_MOUSE_BUTTON||e.type==="keyup"&&e.key!==TAB_KEY$1)return;const l=SelectorEngine.find(SELECTOR_DATA_TOGGLE_SHOWN);for(const c of l){const f=Dropdown.getInstance(c);if(!f||f._config.autoClose===!1)continue;const h=e.composedPath(),u=h.includes(f._menu);if(h.includes(f._element)||f._config.autoClose==="inside"&&!u||f._config.autoClose==="outside"&&u||f._menu.contains(e.target)&&(e.type==="keyup"&&e.key===TAB_KEY$1||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const m={relatedTarget:f._element};e.type==="click"&&(m.clickEvent=e),f._completeHide(m)}}static dataApiKeydownHandler(e){const l=/input|textarea/i.test(e.target.tagName),c=e.key===ESCAPE_KEY$2,f=[ARROW_UP_KEY$1,ARROW_DOWN_KEY$1].includes(e.key);if(!f&&!c||l&&!c)return;e.preventDefault();const h=this.matches(SELECTOR_DATA_TOGGLE$3)?this:SelectorEngine.prev(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.next(this,SELECTOR_DATA_TOGGLE$3)[0]||SelectorEngine.findOne(SELECTOR_DATA_TOGGLE$3,e.delegateTarget.parentNode),u=Dropdown.getOrCreateInstance(h);if(f){e.stopPropagation(),u.show(),u._selectMenuItem(e);return}u._isShown()&&(e.stopPropagation(),u.hide(),h.focus())}}EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE$3,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown.dataApiKeydownHandler);EventHandler.on(document,EVENT_CLICK_DATA_API$3,Dropdown.clearMenus);EventHandler.on(document,EVENT_KEYUP_DATA_API,Dropdown.clearMenus);EventHandler.on(document,EVENT_CLICK_DATA_API$3,SELECTOR_DATA_TOGGLE$3,function(a){a.preventDefault(),Dropdown.getOrCreateInstance(this).toggle()});defineJQueryPlugin(Dropdown);const NAME$9="backdrop",CLASS_NAME_FADE$4="fade",CLASS_NAME_SHOW$5="show",EVENT_MOUSEDOWN="mousedown.bs.".concat(NAME$9),Default$8={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},DefaultType$8={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Backdrop extends Config{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return Default$8}static get DefaultType(){return DefaultType$8}static get NAME(){return NAME$9}show(e){if(!this._config.isVisible){execute(e);return}this._append();const l=this._getElement();this._config.isAnimated&&reflow(l),l.classList.add(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{execute(e)})}hide(e){if(!this._config.isVisible){execute(e);return}this._getElement().classList.remove(CLASS_NAME_SHOW$5),this._emulateAnimation(()=>{this.dispose(),execute(e)})}dispose(){this._isAppended&&(EventHandler.off(this._element,EVENT_MOUSEDOWN),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(CLASS_NAME_FADE$4),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=getElement(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),EventHandler.on(e,EVENT_MOUSEDOWN,()=>{execute(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){executeAfterTransition(e,this._getElement(),this._config.isAnimated)}}const NAME$8="focustrap",DATA_KEY$5="bs.focustrap",EVENT_KEY$5=".".concat(DATA_KEY$5),EVENT_FOCUSIN$2="focusin".concat(EVENT_KEY$5),EVENT_KEYDOWN_TAB="keydown.tab".concat(EVENT_KEY$5),TAB_KEY="Tab",TAB_NAV_FORWARD="forward",TAB_NAV_BACKWARD="backward",Default$7={autofocus:!0,trapElement:null},DefaultType$7={autofocus:"boolean",trapElement:"element"};class FocusTrap extends Config{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Default$7}static get DefaultType(){return DefaultType$7}static get NAME(){return NAME$8}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),EventHandler.off(document,EVENT_KEY$5),EventHandler.on(document,EVENT_FOCUSIN$2,e=>this._handleFocusin(e)),EventHandler.on(document,EVENT_KEYDOWN_TAB,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,EventHandler.off(document,EVENT_KEY$5))}_handleFocusin(e){const{trapElement:l}=this._config;if(e.target===document||e.target===l||l.contains(e.target))return;const c=SelectorEngine.focusableChildren(l);c.length===0?l.focus():this._lastTabNavDirection===TAB_NAV_BACKWARD?c[c.length-1].focus():c[0].focus()}_handleKeydown(e){e.key===TAB_KEY&&(this._lastTabNavDirection=e.shiftKey?TAB_NAV_BACKWARD:TAB_NAV_FORWARD)}}const SELECTOR_FIXED_CONTENT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",SELECTOR_STICKY_CONTENT=".sticky-top",PROPERTY_PADDING="padding-right",PROPERTY_MARGIN="margin-right";class ScrollBarHelper{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,PROPERTY_PADDING,l=>l+e),this._setElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING,l=>l+e),this._setElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN,l=>l-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_FIXED_CONTENT,PROPERTY_PADDING),this._resetElementAttributes(SELECTOR_STICKY_CONTENT,PROPERTY_MARGIN)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,l,c){const f=this.getWidth(),h=u=>{if(u!==this._element&&window.innerWidth>u.clientWidth+f)return;this._saveInitialAttribute(u,l);const m=window.getComputedStyle(u).getPropertyValue(l);u.style.setProperty(l,"".concat(c(Number.parseFloat(m)),"px"))};this._applyManipulationCallback(e,h)}_saveInitialAttribute(e,l){const c=e.style.getPropertyValue(l);c&&Manipulator.setDataAttribute(e,l,c)}_resetElementAttributes(e,l){const c=f=>{const h=Manipulator.getDataAttribute(f,l);if(h===null){f.style.removeProperty(l);return}Manipulator.removeDataAttribute(f,l),f.style.setProperty(l,h)};this._applyManipulationCallback(e,c)}_applyManipulationCallback(e,l){if(isElement(e)){l(e);return}for(const c of SelectorEngine.find(e,this._element))l(c)}}const NAME$7="modal",DATA_KEY$4="bs.modal",EVENT_KEY$4=".".concat(DATA_KEY$4),DATA_API_KEY$2=".data-api",ESCAPE_KEY$1="Escape",EVENT_HIDE$4="hide".concat(EVENT_KEY$4),EVENT_HIDE_PREVENTED$1="hidePrevented".concat(EVENT_KEY$4),EVENT_HIDDEN$4="hidden".concat(EVENT_KEY$4),EVENT_SHOW$4="show".concat(EVENT_KEY$4),EVENT_SHOWN$4="shown".concat(EVENT_KEY$4),EVENT_RESIZE$1="resize".concat(EVENT_KEY$4),EVENT_CLICK_DISMISS="click.dismiss".concat(EVENT_KEY$4),EVENT_MOUSEDOWN_DISMISS="mousedown.dismiss".concat(EVENT_KEY$4),EVENT_KEYDOWN_DISMISS$1="keydown.dismiss".concat(EVENT_KEY$4),EVENT_CLICK_DATA_API$2="click".concat(EVENT_KEY$4).concat(DATA_API_KEY$2),CLASS_NAME_OPEN="modal-open",CLASS_NAME_FADE$3="fade",CLASS_NAME_SHOW$4="show",CLASS_NAME_STATIC="modal-static",OPEN_SELECTOR$1=".modal.show",SELECTOR_DIALOG=".modal-dialog",SELECTOR_MODAL_BODY=".modal-body",SELECTOR_DATA_TOGGLE$2='[data-bs-toggle="modal"]',Default$6={backdrop:!0,focus:!0,keyboard:!0},DefaultType$6={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};let Modal$1=class It extends BaseComponent{constructor(e,l){super(e,l),this._dialog=SelectorEngine.findOne(SELECTOR_DIALOG,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ScrollBarHelper,this._addEventListeners()}static get Default(){return Default$6}static get DefaultType(){return DefaultType$6}static get NAME(){return NAME$7}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_SHOW$4,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(CLASS_NAME_OPEN),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||EventHandler.trigger(this._element,EVENT_HIDE$4).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(CLASS_NAME_SHOW$4),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){EventHandler.off(window,EVENT_KEY$4),EventHandler.off(this._dialog,EVENT_KEY$4),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Backdrop({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const l=SelectorEngine.findOne(SELECTOR_MODAL_BODY,this._dialog);l&&(l.scrollTop=0),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW$4);const c=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,EventHandler.trigger(this._element,EVENT_SHOWN$4,{relatedTarget:e})};this._queueCallback(c,this._dialog,this._isAnimated())}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS$1,e=>{if(e.key===ESCAPE_KEY$1){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),EventHandler.on(window,EVENT_RESIZE$1,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),EventHandler.on(this._element,EVENT_MOUSEDOWN_DISMISS,e=>{EventHandler.one(this._element,EVENT_CLICK_DISMISS,l=>{if(!(this._element!==e.target||this._element!==l.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(CLASS_NAME_OPEN),this._resetAdjustments(),this._scrollBar.reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$4)})}_isAnimated(){return this._element.classList.contains(CLASS_NAME_FADE$3)}_triggerBackdropTransition(){if(EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED$1).defaultPrevented)return;const l=this._element.scrollHeight>document.documentElement.clientHeight,c=this._element.style.overflowY;c==="hidden"||this._element.classList.contains(CLASS_NAME_STATIC)||(l||(this._element.style.overflowY="hidden"),this._element.classList.add(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.classList.remove(CLASS_NAME_STATIC),this._queueCallback(()=>{this._element.style.overflowY=c},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,l=this._scrollBar.getWidth(),c=l>0;if(c&&!e){const f=isRTL()?"paddingLeft":"paddingRight";this._element.style[f]="".concat(l,"px")}if(!c&&e){const f=isRTL()?"paddingRight":"paddingLeft";this._element.style[f]="".concat(l,"px")}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,l){return this.each(function(){const c=It.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof c[e]>"u")throw new TypeError('No method named "'.concat(e,'"'));c[e](l)}})}};EventHandler.on(document,EVENT_CLICK_DATA_API$2,SELECTOR_DATA_TOGGLE$2,function(a){const e=SelectorEngine.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&a.preventDefault(),EventHandler.one(e,EVENT_SHOW$4,f=>{f.defaultPrevented||EventHandler.one(e,EVENT_HIDDEN$4,()=>{isVisible(this)&&this.focus()})});const l=SelectorEngine.findOne(OPEN_SELECTOR$1);l&&Modal$1.getInstance(l).hide(),Modal$1.getOrCreateInstance(e).toggle(this)});enableDismissTrigger(Modal$1);defineJQueryPlugin(Modal$1);const NAME$6="offcanvas",DATA_KEY$3="bs.offcanvas",EVENT_KEY$3=".".concat(DATA_KEY$3),DATA_API_KEY$1=".data-api",EVENT_LOAD_DATA_API$2="load".concat(EVENT_KEY$3).concat(DATA_API_KEY$1),ESCAPE_KEY="Escape",CLASS_NAME_SHOW$3="show",CLASS_NAME_SHOWING$1="showing",CLASS_NAME_HIDING="hiding",CLASS_NAME_BACKDROP="offcanvas-backdrop",OPEN_SELECTOR=".offcanvas.show",EVENT_SHOW$3="show".concat(EVENT_KEY$3),EVENT_SHOWN$3="shown".concat(EVENT_KEY$3),EVENT_HIDE$3="hide".concat(EVENT_KEY$3),EVENT_HIDE_PREVENTED="hidePrevented".concat(EVENT_KEY$3),EVENT_HIDDEN$3="hidden".concat(EVENT_KEY$3),EVENT_RESIZE="resize".concat(EVENT_KEY$3),EVENT_CLICK_DATA_API$1="click".concat(EVENT_KEY$3).concat(DATA_API_KEY$1),EVENT_KEYDOWN_DISMISS="keydown.dismiss".concat(EVENT_KEY$3),SELECTOR_DATA_TOGGLE$1='[data-bs-toggle="offcanvas"]',Default$5={backdrop:!0,keyboard:!0,scroll:!1},DefaultType$5={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Offcanvas extends BaseComponent{constructor(e,l){super(e,l),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Default$5}static get DefaultType(){return DefaultType$5}static get NAME(){return NAME$6}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||EventHandler.trigger(this._element,EVENT_SHOW$3,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ScrollBarHelper().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(CLASS_NAME_SHOWING$1);const c=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(CLASS_NAME_SHOW$3),this._element.classList.remove(CLASS_NAME_SHOWING$1),EventHandler.trigger(this._element,EVENT_SHOWN$3,{relatedTarget:e})};this._queueCallback(c,this._element,!0)}hide(){if(!this._isShown||EventHandler.trigger(this._element,EVENT_HIDE$3).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(CLASS_NAME_HIDING),this._backdrop.hide();const l=()=>{this._element.classList.remove(CLASS_NAME_SHOW$3,CLASS_NAME_HIDING),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ScrollBarHelper().reset(),EventHandler.trigger(this._element,EVENT_HIDDEN$3)};this._queueCallback(l,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED);return}this.hide()},l=!!this._config.backdrop;return new Backdrop({className:CLASS_NAME_BACKDROP,isVisible:l,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:l?e:null})}_initializeFocusTrap(){return new FocusTrap({trapElement:this._element})}_addEventListeners(){EventHandler.on(this._element,EVENT_KEYDOWN_DISMISS,e=>{if(e.key===ESCAPE_KEY){if(this._config.keyboard){this.hide();return}EventHandler.trigger(this._element,EVENT_HIDE_PREVENTED)}})}static jQueryInterface(e){return this.each(function(){const l=Offcanvas.getOrCreateInstance(this,e);if(typeof e=="string"){if(l[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError('No method named "'.concat(e,'"'));l[e](this)}})}}EventHandler.on(document,EVENT_CLICK_DATA_API$1,SELECTOR_DATA_TOGGLE$1,function(a){const e=SelectorEngine.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),isDisabled(this))return;EventHandler.one(e,EVENT_HIDDEN$3,()=>{isVisible(this)&&this.focus()});const l=SelectorEngine.findOne(OPEN_SELECTOR);l&&l!==e&&Offcanvas.getInstance(l).hide(),Offcanvas.getOrCreateInstance(e).toggle(this)});EventHandler.on(window,EVENT_LOAD_DATA_API$2,()=>{for(const a of SelectorEngine.find(OPEN_SELECTOR))Offcanvas.getOrCreateInstance(a).show()});EventHandler.on(window,EVENT_RESIZE,()=>{for(const a of SelectorEngine.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(a).position!=="fixed"&&Offcanvas.getOrCreateInstance(a).hide()});enableDismissTrigger(Offcanvas);defineJQueryPlugin(Offcanvas);const ARIA_ATTRIBUTE_PATTERN=/^aria-[\w-]*$/i,DefaultAllowlist={"*":["class","dir","id","lang","role",ARIA_ATTRIBUTE_PATTERN],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},uriAttributes=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),SAFE_URL_PATTERN=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,allowedAttribute=(a,e)=>{const l=a.nodeName.toLowerCase();return e.includes(l)?uriAttributes.has(l)?!!SAFE_URL_PATTERN.test(a.nodeValue):!0:e.filter(c=>c instanceof RegExp).some(c=>c.test(l))};function sanitizeHtml(a,e,l){if(!a.length)return a;if(l&&typeof l=="function")return l(a);const f=new window.DOMParser().parseFromString(a,"text/html"),h=[].concat(...f.body.querySelectorAll("*"));for(const u of h){const m=u.nodeName.toLowerCase();if(!Object.keys(e).includes(m)){u.remove();continue}const v=[].concat(...u.attributes),_=[].concat(e["*"]||[],e[m]||[]);for(const b of v)allowedAttribute(b,_)||u.removeAttribute(b.nodeName)}return f.body.innerHTML}const NAME$5="TemplateFactory",Default$4={allowList:DefaultAllowlist,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},DefaultType$4={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},DefaultContentType={entry:"(string|element|function|null)",selector:"(string|element)"};class TemplateFactory extends Config{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return Default$4}static get DefaultType(){return DefaultType$4}static get NAME(){return NAME$5}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[f,h]of Object.entries(this._config.content))this._setContent(e,h,f);const l=e.children[0],c=this._resolvePossibleFunction(this._config.extraClass);return c&&l.classList.add(...c.split(" ")),l}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[l,c]of Object.entries(e))super._typeCheckConfig({selector:l,entry:c},DefaultContentType)}_setContent(e,l,c){const f=SelectorEngine.findOne(c,e);if(f){if(l=this._resolvePossibleFunction(l),!l){f.remove();return}if(isElement(l)){this._putElementInTemplate(getElement(l),f);return}if(this._config.html){f.innerHTML=this._maybeSanitize(l);return}f.textContent=l}}_maybeSanitize(e){return this._config.sanitize?sanitizeHtml(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return execute(e,[this])}_putElementInTemplate(e,l){if(this._config.html){l.innerHTML="",l.append(e);return}l.textContent=e.textContent}}const NAME$4="tooltip",DISALLOWED_ATTRIBUTES=new Set(["sanitize","allowList","sanitizeFn"]),CLASS_NAME_FADE$2="fade",CLASS_NAME_MODAL="modal",CLASS_NAME_SHOW$2="show",SELECTOR_TOOLTIP_INNER=".tooltip-inner",SELECTOR_MODAL=".".concat(CLASS_NAME_MODAL),EVENT_MODAL_HIDE="hide.bs.modal",TRIGGER_HOVER="hover",TRIGGER_FOCUS="focus",TRIGGER_CLICK="click",TRIGGER_MANUAL="manual",EVENT_HIDE$2="hide",EVENT_HIDDEN$2="hidden",EVENT_SHOW$2="show",EVENT_SHOWN$2="shown",EVENT_INSERTED="inserted",EVENT_CLICK$1="click",EVENT_FOCUSIN$1="focusin",EVENT_FOCUSOUT$1="focusout",EVENT_MOUSEENTER="mouseenter",EVENT_MOUSELEAVE="mouseleave",AttachmentMap={AUTO:"auto",TOP:"top",RIGHT:isRTL()?"left":"right",BOTTOM:"bottom",LEFT:isRTL()?"right":"left"},Default$3={allowList:DefaultAllowlist,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},DefaultType$3={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Tooltip extends BaseComponent{constructor(e,l){if(typeof Popper>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,l),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Default$3}static get DefaultType(){return DefaultType$3}static get NAME(){return NAME$4}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),EventHandler.off(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOW$2)),c=(findShadowRoot(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!c)return;this._disposePopper();const f=this._getTipElement();this._element.setAttribute("aria-describedby",f.getAttribute("id"));const{container:h}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(h.append(f),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_INSERTED))),this._popper=this._createPopper(f),f.classList.add(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const m of[].concat(...document.body.children))EventHandler.on(m,"mouseover",noop$3);const u=()=>{EventHandler.trigger(this._element,this.constructor.eventName(EVENT_SHOWN$2)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(u,this.tip,this._isAnimated())}hide(){if(!this._isShown()||EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDE$2)).defaultPrevented)return;if(this._getTipElement().classList.remove(CLASS_NAME_SHOW$2),"ontouchstart"in document.documentElement)for(const f of[].concat(...document.body.children))EventHandler.off(f,"mouseover",noop$3);this._activeTrigger[TRIGGER_CLICK]=!1,this._activeTrigger[TRIGGER_FOCUS]=!1,this._activeTrigger[TRIGGER_HOVER]=!1,this._isHovered=null;const c=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),EventHandler.trigger(this._element,this.constructor.eventName(EVENT_HIDDEN$2)))};this._queueCallback(c,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const l=this._getTemplateFactory(e).toHtml();if(!l)return null;l.classList.remove(CLASS_NAME_FADE$2,CLASS_NAME_SHOW$2),l.classList.add("bs-".concat(this.constructor.NAME,"-auto"));const c=getUID(this.constructor.NAME).toString();return l.setAttribute("id",c),this._isAnimated()&&l.classList.add(CLASS_NAME_FADE$2),l}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new TemplateFactory({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[SELECTOR_TOOLTIP_INNER]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(CLASS_NAME_FADE$2)}_isShown(){return this.tip&&this.tip.classList.contains(CLASS_NAME_SHOW$2)}_createPopper(e){const l=execute(this._config.placement,[this,e,this._element]),c=AttachmentMap[l.toUpperCase()];return createPopper(this._element,e,this._getPopperConfig(c))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(l=>Number.parseInt(l,10)):typeof e=="function"?l=>e(l,this._element):e}_resolvePossibleFunction(e){return execute(e,[this._element])}_getPopperConfig(e){const l={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:".".concat(this.constructor.NAME,"-arrow")}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:c=>{this._getTipElement().setAttribute("data-popper-placement",c.state.placement)}}]};return{...l,...execute(this._config.popperConfig,[l])}}_setListeners(){const e=this._config.trigger.split(" ");for(const l of e)if(l==="click")EventHandler.on(this._element,this.constructor.eventName(EVENT_CLICK$1),this._config.selector,c=>{this._initializeOnDelegatedTarget(c).toggle()});else if(l!==TRIGGER_MANUAL){const c=l===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSEENTER):this.constructor.eventName(EVENT_FOCUSIN$1),f=l===TRIGGER_HOVER?this.constructor.eventName(EVENT_MOUSELEAVE):this.constructor.eventName(EVENT_FOCUSOUT$1);EventHandler.on(this._element,c,this._config.selector,h=>{const u=this._initializeOnDelegatedTarget(h);u._activeTrigger[h.type==="focusin"?TRIGGER_FOCUS:TRIGGER_HOVER]=!0,u._enter()}),EventHandler.on(this._element,f,this._config.selector,h=>{const u=this._initializeOnDelegatedTarget(h);u._activeTrigger[h.type==="focusout"?TRIGGER_FOCUS:TRIGGER_HOVER]=u._element.contains(h.relatedTarget),u._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},EventHandler.on(this._element.closest(SELECTOR_MODAL),EVENT_MODAL_HIDE,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,l){clearTimeout(this._timeout),this._timeout=setTimeout(e,l)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const l=Manipulator.getDataAttributes(this._element);for(const c of Object.keys(l))DISALLOWED_ATTRIBUTES.has(c)&&delete l[c];return e={...l,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:getElement(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[l,c]of Object.entries(this._config))this.constructor.Default[l]!==c&&(e[l]=c);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const l=Tooltip.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof l[e]>"u")throw new TypeError('No method named "'.concat(e,'"'));l[e]()}})}}defineJQueryPlugin(Tooltip);const NAME$3="popover",SELECTOR_TITLE=".popover-header",SELECTOR_CONTENT=".popover-body",Default$2={...Tooltip.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},DefaultType$2={...Tooltip.DefaultType,content:"(null|string|element|function)"};class Popover extends Tooltip{static get Default(){return Default$2}static get DefaultType(){return DefaultType$2}static get NAME(){return NAME$3}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[SELECTOR_TITLE]:this._getTitle(),[SELECTOR_CONTENT]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const l=Popover.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof l[e]>"u")throw new TypeError('No method named "'.concat(e,'"'));l[e]()}})}}defineJQueryPlugin(Popover);const NAME$2="scrollspy",DATA_KEY$2="bs.scrollspy",EVENT_KEY$2=".".concat(DATA_KEY$2),DATA_API_KEY=".data-api",EVENT_ACTIVATE="activate".concat(EVENT_KEY$2),EVENT_CLICK="click".concat(EVENT_KEY$2),EVENT_LOAD_DATA_API$1="load".concat(EVENT_KEY$2).concat(DATA_API_KEY),CLASS_NAME_DROPDOWN_ITEM="dropdown-item",CLASS_NAME_ACTIVE$1="active",SELECTOR_DATA_SPY='[data-bs-spy="scroll"]',SELECTOR_TARGET_LINKS="[href]",SELECTOR_NAV_LIST_GROUP=".nav, .list-group",SELECTOR_NAV_LINKS=".nav-link",SELECTOR_NAV_ITEMS=".nav-item",SELECTOR_LIST_ITEMS=".list-group-item",SELECTOR_LINK_ITEMS="".concat(SELECTOR_NAV_LINKS,", ").concat(SELECTOR_NAV_ITEMS," > ").concat(SELECTOR_NAV_LINKS,", ").concat(SELECTOR_LIST_ITEMS),SELECTOR_DROPDOWN=".dropdown",SELECTOR_DROPDOWN_TOGGLE$1=".dropdown-toggle",Default$1={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},DefaultType$1={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ScrollSpy extends BaseComponent{constructor(e,l){super(e,l),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Default$1}static get DefaultType(){return DefaultType$1}static get NAME(){return NAME$2}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=getElement(e.target)||document.body,e.rootMargin=e.offset?"".concat(e.offset,"px 0px -30%"):e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(l=>Number.parseFloat(l))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(EventHandler.off(this._config.target,EVENT_CLICK),EventHandler.on(this._config.target,EVENT_CLICK,SELECTOR_TARGET_LINKS,e=>{const l=this._observableSections.get(e.target.hash);if(l){e.preventDefault();const c=this._rootElement||window,f=l.offsetTop-this._element.offsetTop;if(c.scrollTo){c.scrollTo({top:f,behavior:"smooth"});return}c.scrollTop=f}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(l=>this._observerCallback(l),e)}_observerCallback(e){const l=u=>this._targetLinks.get("#".concat(u.target.id)),c=u=>{this._previousScrollData.visibleEntryTop=u.target.offsetTop,this._process(l(u))},f=(this._rootElement||document.documentElement).scrollTop,h=f>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=f;for(const u of e){if(!u.isIntersecting){this._activeTarget=null,this._clearActiveClass(l(u));continue}const m=u.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(h&&m){if(c(u),!f)return;continue}!h&&!m&&c(u)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=SelectorEngine.find(SELECTOR_TARGET_LINKS,this._config.target);for(const l of e){if(!l.hash||isDisabled(l))continue;const c=SelectorEngine.findOne(decodeURI(l.hash),this._element);isVisible(c)&&(this._targetLinks.set(decodeURI(l.hash),l),this._observableSections.set(l.hash,c))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(CLASS_NAME_ACTIVE$1),this._activateParents(e),EventHandler.trigger(this._element,EVENT_ACTIVATE,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(CLASS_NAME_DROPDOWN_ITEM)){SelectorEngine.findOne(SELECTOR_DROPDOWN_TOGGLE$1,e.closest(SELECTOR_DROPDOWN)).classList.add(CLASS_NAME_ACTIVE$1);return}for(const l of SelectorEngine.parents(e,SELECTOR_NAV_LIST_GROUP))for(const c of SelectorEngine.prev(l,SELECTOR_LINK_ITEMS))c.classList.add(CLASS_NAME_ACTIVE$1)}_clearActiveClass(e){e.classList.remove(CLASS_NAME_ACTIVE$1);const l=SelectorEngine.find("".concat(SELECTOR_TARGET_LINKS,".").concat(CLASS_NAME_ACTIVE$1),e);for(const c of l)c.classList.remove(CLASS_NAME_ACTIVE$1)}static jQueryInterface(e){return this.each(function(){const l=ScrollSpy.getOrCreateInstance(this,e);if(typeof e=="string"){if(l[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError('No method named "'.concat(e,'"'));l[e]()}})}}EventHandler.on(window,EVENT_LOAD_DATA_API$1,()=>{for(const a of SelectorEngine.find(SELECTOR_DATA_SPY))ScrollSpy.getOrCreateInstance(a)});defineJQueryPlugin(ScrollSpy);const NAME$1="tab",DATA_KEY$1="bs.tab",EVENT_KEY$1=".".concat(DATA_KEY$1),EVENT_HIDE$1="hide".concat(EVENT_KEY$1),EVENT_HIDDEN$1="hidden".concat(EVENT_KEY$1),EVENT_SHOW$1="show".concat(EVENT_KEY$1),EVENT_SHOWN$1="shown".concat(EVENT_KEY$1),EVENT_CLICK_DATA_API="click".concat(EVENT_KEY$1),EVENT_KEYDOWN="keydown".concat(EVENT_KEY$1),EVENT_LOAD_DATA_API="load".concat(EVENT_KEY$1),ARROW_LEFT_KEY="ArrowLeft",ARROW_RIGHT_KEY="ArrowRight",ARROW_UP_KEY="ArrowUp",ARROW_DOWN_KEY="ArrowDown",HOME_KEY="Home",END_KEY="End",CLASS_NAME_ACTIVE="active",CLASS_NAME_FADE$1="fade",CLASS_NAME_SHOW$1="show",CLASS_DROPDOWN="dropdown",SELECTOR_DROPDOWN_TOGGLE=".dropdown-toggle",SELECTOR_DROPDOWN_MENU=".dropdown-menu",NOT_SELECTOR_DROPDOWN_TOGGLE=":not(".concat(SELECTOR_DROPDOWN_TOGGLE,")"),SELECTOR_TAB_PANEL='.list-group, .nav, [role="tablist"]',SELECTOR_OUTER=".nav-item, .list-group-item",SELECTOR_INNER=".nav-link".concat(NOT_SELECTOR_DROPDOWN_TOGGLE,", .list-group-item").concat(NOT_SELECTOR_DROPDOWN_TOGGLE,', [role="tab"]').concat(NOT_SELECTOR_DROPDOWN_TOGGLE),SELECTOR_DATA_TOGGLE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',SELECTOR_INNER_ELEM="".concat(SELECTOR_INNER,", ").concat(SELECTOR_DATA_TOGGLE),SELECTOR_DATA_TOGGLE_ACTIVE=".".concat(CLASS_NAME_ACTIVE,'[data-bs-toggle="tab"], .').concat(CLASS_NAME_ACTIVE,'[data-bs-toggle="pill"], .').concat(CLASS_NAME_ACTIVE,'[data-bs-toggle="list"]');class Tab extends BaseComponent{constructor(e){super(e),this._parent=this._element.closest(SELECTOR_TAB_PANEL),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),EventHandler.on(this._element,EVENT_KEYDOWN,l=>this._keydown(l)))}static get NAME(){return NAME$1}show(){const e=this._element;if(this._elemIsActive(e))return;const l=this._getActiveElem(),c=l?EventHandler.trigger(l,EVENT_HIDE$1,{relatedTarget:e}):null;EventHandler.trigger(e,EVENT_SHOW$1,{relatedTarget:l}).defaultPrevented||c&&c.defaultPrevented||(this._deactivate(l,e),this._activate(e,l))}_activate(e,l){if(!e)return;e.classList.add(CLASS_NAME_ACTIVE),this._activate(SelectorEngine.getElementFromSelector(e));const c=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(CLASS_NAME_SHOW$1);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),EventHandler.trigger(e,EVENT_SHOWN$1,{relatedTarget:l})};this._queueCallback(c,e,e.classList.contains(CLASS_NAME_FADE$1))}_deactivate(e,l){if(!e)return;e.classList.remove(CLASS_NAME_ACTIVE),e.blur(),this._deactivate(SelectorEngine.getElementFromSelector(e));const c=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(CLASS_NAME_SHOW$1);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),EventHandler.trigger(e,EVENT_HIDDEN$1,{relatedTarget:l})};this._queueCallback(c,e,e.classList.contains(CLASS_NAME_FADE$1))}_keydown(e){if(![ARROW_LEFT_KEY,ARROW_RIGHT_KEY,ARROW_UP_KEY,ARROW_DOWN_KEY,HOME_KEY,END_KEY].includes(e.key))return;e.stopPropagation(),e.preventDefault();const l=this._getChildren().filter(f=>!isDisabled(f));let c;if([HOME_KEY,END_KEY].includes(e.key))c=l[e.key===HOME_KEY?0:l.length-1];else{const f=[ARROW_RIGHT_KEY,ARROW_DOWN_KEY].includes(e.key);c=getNextActiveElement(l,e.target,f,!0)}c&&(c.focus({preventScroll:!0}),Tab.getOrCreateInstance(c).show())}_getChildren(){return SelectorEngine.find(SELECTOR_INNER_ELEM,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,l){this._setAttributeIfNotExists(e,"role","tablist");for(const c of l)this._setInitialAttributesOnChild(c)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const l=this._elemIsActive(e),c=this._getOuterElement(e);e.setAttribute("aria-selected",l),c!==e&&this._setAttributeIfNotExists(c,"role","presentation"),l||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const l=SelectorEngine.getElementFromSelector(e);l&&(this._setAttributeIfNotExists(l,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(l,"aria-labelledby","".concat(e.id)))}_toggleDropDown(e,l){const c=this._getOuterElement(e);if(!c.classList.contains(CLASS_DROPDOWN))return;const f=(h,u)=>{const m=SelectorEngine.findOne(h,c);m&&m.classList.toggle(u,l)};f(SELECTOR_DROPDOWN_TOGGLE,CLASS_NAME_ACTIVE),f(SELECTOR_DROPDOWN_MENU,CLASS_NAME_SHOW$1),c.setAttribute("aria-expanded",l)}_setAttributeIfNotExists(e,l,c){e.hasAttribute(l)||e.setAttribute(l,c)}_elemIsActive(e){return e.classList.contains(CLASS_NAME_ACTIVE)}_getInnerElement(e){return e.matches(SELECTOR_INNER_ELEM)?e:SelectorEngine.findOne(SELECTOR_INNER_ELEM,e)}_getOuterElement(e){return e.closest(SELECTOR_OUTER)||e}static jQueryInterface(e){return this.each(function(){const l=Tab.getOrCreateInstance(this);if(typeof e=="string"){if(l[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError('No method named "'.concat(e,'"'));l[e]()}})}}EventHandler.on(document,EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(a){["A","AREA"].includes(this.tagName)&&a.preventDefault(),!isDisabled(this)&&Tab.getOrCreateInstance(this).show()});EventHandler.on(window,EVENT_LOAD_DATA_API,()=>{for(const a of SelectorEngine.find(SELECTOR_DATA_TOGGLE_ACTIVE))Tab.getOrCreateInstance(a)});defineJQueryPlugin(Tab);const NAME="toast",DATA_KEY="bs.toast",EVENT_KEY=".".concat(DATA_KEY),EVENT_MOUSEOVER="mouseover".concat(EVENT_KEY),EVENT_MOUSEOUT="mouseout".concat(EVENT_KEY),EVENT_FOCUSIN="focusin".concat(EVENT_KEY),EVENT_FOCUSOUT="focusout".concat(EVENT_KEY),EVENT_HIDE="hide".concat(EVENT_KEY),EVENT_HIDDEN="hidden".concat(EVENT_KEY),EVENT_SHOW="show".concat(EVENT_KEY),EVENT_SHOWN="shown".concat(EVENT_KEY),CLASS_NAME_FADE="fade",CLASS_NAME_HIDE="hide",CLASS_NAME_SHOW="show",CLASS_NAME_SHOWING="showing",DefaultType={animation:"boolean",autohide:"boolean",delay:"number"},Default={animation:!0,autohide:!0,delay:5e3};class Toast extends BaseComponent{constructor(e,l){super(e,l),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Default}static get DefaultType(){return DefaultType}static get NAME(){return NAME}show(){if(EventHandler.trigger(this._element,EVENT_SHOW).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(CLASS_NAME_FADE);const l=()=>{this._element.classList.remove(CLASS_NAME_SHOWING),EventHandler.trigger(this._element,EVENT_SHOWN),this._maybeScheduleHide()};this._element.classList.remove(CLASS_NAME_HIDE),reflow(this._element),this._element.classList.add(CLASS_NAME_SHOW,CLASS_NAME_SHOWING),this._queueCallback(l,this._element,this._config.animation)}hide(){if(!this.isShown()||EventHandler.trigger(this._element,EVENT_HIDE).defaultPrevented)return;const l=()=>{this._element.classList.add(CLASS_NAME_HIDE),this._element.classList.remove(CLASS_NAME_SHOWING,CLASS_NAME_SHOW),EventHandler.trigger(this._element,EVENT_HIDDEN)};this._element.classList.add(CLASS_NAME_SHOWING),this._queueCallback(l,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(CLASS_NAME_SHOW),super.dispose()}isShown(){return this._element.classList.contains(CLASS_NAME_SHOW)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,l){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=l;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=l;break}}if(l){this._clearTimeout();return}const c=e.relatedTarget;this._element===c||this._element.contains(c)||this._maybeScheduleHide()}_setListeners(){EventHandler.on(this._element,EVENT_MOUSEOVER,e=>this._onInteraction(e,!0)),EventHandler.on(this._element,EVENT_MOUSEOUT,e=>this._onInteraction(e,!1)),EventHandler.on(this._element,EVENT_FOCUSIN,e=>this._onInteraction(e,!0)),EventHandler.on(this._element,EVENT_FOCUSOUT,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const l=Toast.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof l[e]>"u")throw new TypeError('No method named "'.concat(e,'"'));l[e](this)}})}}enableDismissTrigger(Toast);defineJQueryPlugin(Toast);const Event$1={q:{socket_open:[],socket_data:[],socket_before_close:[],socket_close:[],chat_open:[],chat_data:[],chat_before_close:[],chat_close:[],telnet_open:[],telnet_before_close:[],telnet_close:[],before_process:[],after_protocols:[],before_html:[],internal_colorize:[],internal_mxp:[],before_display:[],after_display:[],before_send:[],scrollview_ready:[],scrollview_add:[],chatterbox_ready:[],controlpanel_ready:[],macropane_ready:[],will_msdp:[],msdp:[],will_gmcp:[],gmcp:[],will_atcp:[],atcp:[],will_mxp:[],mxp_elements:[],mxp_entity:[],mxp_frame:[],mxp_dest:[],window_open:[],window_close:[],window_front:[],window_hide:[],window_show:[]},fire(a,e,l){return this.q[a]?this.q[a].reduce((c,f)=>f(c,l),e):(log("Event.js: No such event to fire: ".concat(a)),0)},listen(a,e){return this.q[a]?(this.q[a].push(e),1):(log("Event.js: No such event to subscribe to: ".concat(a)),0)},drop(a,e){if(!this.q[a])return log("Event.js: No such event to drop from: ".concat(a)),0;const l=this.q[a].indexOf(e);return l!==-1?(this.q[a].splice(l,1),1):0},create(a){if(this.q[a]){log("Event.js: This event already exists and will not be created: ".concat(a));return}this.q[a]=[],log("Event.js: Event created: ".concat(a))},destroy(a){if(!this.q[a]){log("Event.js: This event does not exist and will not be destroyed: ".concat(a));return}delete this.q[a],log("Event.js: Event destroyed: ".concat(a))}},j$h=jQuery;class Modal{constructor(e){log("Modal.init"),this.options=e,this.options.backdrop=e.backdrop||!1,this.modalInstance=null,this.init()}close(){log("Modal.close"),this.options.abort&&config$1.Socket.write(this.options.abort),this.modalInstance&&this.modalInstance.hide()}init(){const e=this.options;if(e.close&&e.close===1){const h=document.querySelector(".modal");if(h){const u=Modal$1.getInstance(h);u&&u.hide()}return}if(e.mxp&&(e.replace=1,e.mxp=config$1.mxp.translate(e.mxp),e.text=e.text?e.mxp+e.text:e.mxp),e.text&&(e.text=config$1.mxp.prep(e.text)),e.error&&(e.error=config$1.mxp.prep(e.error)),e.info&&(e.info=config$1.mxp.prep(e.info)),e.monospace!==void 0&&!e.monospace&&(e.html=e.text,delete e.text,log("monospace option is false")),e.replace&&j$h(".modal-plain").length&&j$h(".modal").is(":visible")){log("modal (simple) found in replace mode"),j$h(".modal h3").html(e.title),j$h(".modal .modal-body").html(e.text||e.html),this.setupButtons(),this.setupLinks();return}const l=document.querySelector(".modal");if(l){const h=Modal$1.getInstance(l);h&&h.hide()}const c='\n      <div class="modal '.concat(e.class||"",' modal-plain fade" tabindex="-1">\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title">').concat(e.title||"",'</h5>\n              <button type="button" class="btn-close mo-dismiss" data-bs-dismiss="modal" aria-label="Close"></button>\n            </div>\n            <div class="modal-body">\n              ').concat(e.info?'<div class="alert alert-info">'.concat(e.info,"</div>"):"","\n              ").concat(e.error?'<div class="alert alert-danger">'.concat(e.error,"</div>"):"","\n              ").concat(e.text?'<div class="modal-text-content">'.concat(e.text,"</div>"):e.html||"",'\n            </div>\n            <div class="modal-footer">\n              <button class="btn btn-primary kbutton ok-button dismiss mo-dismiss" data-bs-dismiss="modal">OK</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    ');j$h("body").append(c),this.setupButtons(),this.setupLinks(),(e.closeText||e.cancelText)&&j$h(".modal .dismiss").html(e.closeText||e.cancelText),e.showOk===!1&&j$h(".modal .ok-button").remove(),(e.closeable===!1||e.closeable===0)&&j$h(".modal .btn-close").remove();const f=document.querySelector(".modal");this.modalInstance=new Modal$1(f,{backdrop:this.options.backdrop?!0:"static",keyboard:!0}),j$h(".modal .mo-dismiss").on("click",()=>this.close()),e.css&&(e.css.width&&(e.css["margin-left"]=-(e.css.width/2)),j$h(".modal").css(e.css)),this.modalInstance.show()}setupButtons(){const e=this.options;e.buttons&&(j$h(".modal-footer .btn").not(".dismiss").remove(),Array.isArray(e.buttons)?e.buttons.forEach((l,c)=>{const f='\n          <button class="btn btn-secondary kbutton custom-'.concat(c,'"\n            ').concat((l.keep,""),">\n            ").concat(l.text,"\n          </button>\n        ");j$h(".modal-footer").append(f);const h=j$h(".modal-footer .custom-"+c);l.send&&h.on("click",()=>{config$1.Socket.write(l.send),l.keep||this.modalInstance.hide()}),l.handler&&h.on("click",u=>{u.preventDefault(),l.handler(),l.keep||this.modalInstance.hide()}),l.css&&h.css(l.css)}):Object.entries(e.buttons).forEach(([l,c],f)=>{const h='\n          <button class="btn btn-secondary kbutton custom-'.concat(f,'" \n            data-bs-dismiss="modal">\n            ').concat(l,"\n          </button>\n        ");j$h(".modal-footer").append(h),j$h(".modal-footer .custom-"+f).click(()=>{config$1.Socket.write(c)})}))}setupLinks(){const e=this.options;e.links&&(j$h(".modal-footer .modal-links").remove(),j$h(".modal-footer").prepend('\n      <div class="modal-links float-start" \n           style="position: relative; z-index: 1; font-size: 11px; opacity: 0.7">\n      </div>\n    '),Array.isArray(e.links)?e.links.forEach((l,c)=>{j$h(".modal-links").append('\n          <a class="link-'.concat(c,'" \n             ').concat(l.keep?"":'data-bs-dismiss="modal"',">\n            ").concat(l.text,"\n          </a><br>\n        ")),j$h(".modal-links .link-"+c).click(l.click),l.css&&j$h(".modal-links .link-"+c).css(l.css)}):Object.entries(e.links).forEach(([l,c],f)=>{j$h(".modal-links").append('\n          <a class="link-'.concat(f,'" data-bs-dismiss="modal">\n            ').concat(l,"\n          </a><br>\n        ")),j$h(".modal-links .link-"+f).click(()=>{config$1.Socket.write(c)})}))}}document.addEventListener("shown.bs.modal",()=>{j$h(".modal .modal-body").niceScroll({cursorborder:"none",cursorwidth:7})});document.addEventListener("hide.bs.modal",()=>{j$h(".modal .modal-body").getNiceScroll().remove(),j$h(".modal a, .modal button").off("click"),j$h(".modal input, .modal textarea").off("keydown"),j$h(".modal, .modal-backdrop").remove()});Event$1.listen("gmcp",a=>{if(!(a!=null&&a.startsWith("Modal ")))return a;log("Modal: gmcp trigger");try{const e=JSON.parse(a.match(/^[^ ]+ (.*)/)[1]);new Modal(e)}catch(e){log("Modal parse error:",e)}return a});var FileSaver_min$1={exports:{}},FileSaver_min=FileSaver_min$1.exports,hasRequiredFileSaver_min;function requireFileSaver_min(){return hasRequiredFileSaver_min||(hasRequiredFileSaver_min=1,function(a,e){(function(l,c){c()})(FileSaver_min,function(){function l(_,b){return typeof b>"u"?b={autoBom:!1}:typeof b!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),b={autoBom:!b}),b.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob(["\uFEFF",_],{type:_.type}):_}function c(_,b,E){var y=new XMLHttpRequest;y.open("GET",_),y.responseType="blob",y.onload=function(){v(y.response,b,E)},y.onerror=function(){console.error("could not download file")},y.send()}function f(_){var b=new XMLHttpRequest;b.open("HEAD",_,!1);try{b.send()}catch(E){}return 200<=b.status&&299>=b.status}function h(_){try{_.dispatchEvent(new MouseEvent("click"))}catch(E){var b=document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),_.dispatchEvent(b)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal=="object"&&commonjsGlobal.global===commonjsGlobal?commonjsGlobal:void 0,m=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),v=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!m?function(_,b,E){var y=u.URL||u.webkitURL,$=document.createElement("a");b=b||_.name||"download",$.download=b,$.rel="noopener",typeof _=="string"?($.href=_,$.origin===location.origin?h($):f($.href)?c(_,b,E):h($,$.target="_blank")):($.href=y.createObjectURL(_),setTimeout(function(){y.revokeObjectURL($.href)},4e4),setTimeout(function(){h($)},0))}:"msSaveOrOpenBlob"in navigator?function(_,b,E){if(b=b||_.name||"download",typeof _!="string")navigator.msSaveOrOpenBlob(l(_,E),b);else if(f(_))c(_,b,E);else{var y=document.createElement("a");y.href=_,y.target="_blank",setTimeout(function(){h(y)})}}:function(_,b,E,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof _=="string")return c(_,b,E);var $=_.type==="application/octet-stream",T=/constructor/i.test(u.HTMLElement)||u.safari,C=/CriOS\/[\d]+/.test(navigator.userAgent);if((C||$&&T||m)&&typeof FileReader<"u"){var O=new FileReader;O.onloadend=function(){var k=O.result;k=C?k:k.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=k:location=k,y=null},O.readAsDataURL(_)}else{var D=u.URL||u.webkitURL,R=D.createObjectURL(_);y?y.location=R:location.href=R,y=null,setTimeout(function(){D.revokeObjectURL(R)},4e4)}});u.saveAs=v.saveAs=v,a.exports=v})}(FileSaver_min$1)),FileSaver_min$1.exports}var FileSaver_minExports=requireFileSaver_min();/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function _defineProperty(a,e,l){return(e=_toPropertyKey(e))in a?Object.defineProperty(a,e,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[e]=l,a}function ownKeys(a,e){var l=Object.keys(a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);e&&(c=c.filter(function(f){return Object.getOwnPropertyDescriptor(a,f).enumerable})),l.push.apply(l,c)}return l}function _objectSpread2(a){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(l),!0).forEach(function(c){_defineProperty(a,c,l[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(l)):ownKeys(Object(l)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(l,c))})}return a}function _toPrimitive(a,e){if(typeof a!="object"||!a)return a;var l=a[Symbol.toPrimitive];if(l!==void 0){var c=l.call(a,e);if(typeof c!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function _toPropertyKey(a){var e=_toPrimitive(a,"string");return typeof e=="symbol"?e:e+""}const noop$1=()=>{};let _WINDOW={},_DOCUMENT={},_MUTATION_OBSERVER=null,_PERFORMANCE={mark:noop$1,measure:noop$1};try{typeof window<"u"&&(_WINDOW=window),typeof document<"u"&&(_DOCUMENT=document),typeof MutationObserver<"u"&&(_MUTATION_OBSERVER=MutationObserver),typeof performance<"u"&&(_PERFORMANCE=performance)}catch(a){}const{userAgent=""}=_WINDOW.navigator||{},WINDOW=_WINDOW,DOCUMENT=_DOCUMENT,MUTATION_OBSERVER=_MUTATION_OBSERVER,PERFORMANCE=_PERFORMANCE;WINDOW.document;const IS_DOM=!!DOCUMENT.documentElement&&!!DOCUMENT.head&&typeof DOCUMENT.addEventListener=="function"&&typeof DOCUMENT.createElement=="function",IS_IE=~userAgent.indexOf("MSIE")||~userAgent.indexOf("Trident/");var p=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,g=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,S={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},A={GROUP:"duotone-group",PRIMARY:"primary",SECONDARY:"secondary"},P=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],s="classic",t="duotone",r="sharp",o="sharp-duotone",L=[s,t,r,o],G={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},lt={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},pt=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),xt={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},Ft=["fak","fa-kit","fakd","fa-kit-duotone"],St={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},At=["kit"],Ct={kit:{"fa-kit":"fak"}},Lt=["fak","fakd"],Wt={kit:{fak:"fa-kit"}},Et={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},t$1={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},r$1=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],bt$1=["fak","fa-kit","fakd","fa-kit-duotone"],Yt={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},ua={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},I$1={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},ga={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},x=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Ia=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...r$1,...x],m$1=["solid","regular","light","thin","duotone","brands"],c$1=[1,2,3,4,5,6,7,8,9,10],F$1=c$1.concat([11,12,13,14,15,16,17,18,19,20]),ma=[...Object.keys(I$1),...m$1,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",t$1.GROUP,t$1.SWAP_OPACITY,t$1.PRIMARY,t$1.SECONDARY].concat(c$1.map(a=>"".concat(a,"x"))).concat(F$1.map(a=>"w-".concat(a))),wa={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const NAMESPACE_IDENTIFIER="___FONT_AWESOME___",UNITS_IN_GRID=16,DEFAULT_CSS_PREFIX="fa",DEFAULT_REPLACEMENT_CLASS="svg-inline--fa",DATA_FA_I2SVG="data-fa-i2svg",DATA_FA_PSEUDO_ELEMENT="data-fa-pseudo-element",DATA_FA_PSEUDO_ELEMENT_PENDING="data-fa-pseudo-element-pending",DATA_PREFIX="data-prefix",DATA_ICON="data-icon",HTML_CLASS_I2SVG_BASE_CLASS="fontawesome-i2svg",MUTATION_APPROACH_ASYNC="async",TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS=["HTML","HEAD","STYLE","SCRIPT"],PRODUCTION=(()=>{try{return!0}catch(a){return!1}})();function familyProxy(a){return new Proxy(a,{get(e,l){return l in e?e[l]:e[s]}})}const _PREFIX_TO_STYLE=_objectSpread2({},S);_PREFIX_TO_STYLE[s]=_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},{"fa-duotone":"duotone"}),S[s]),St.kit),St["kit-duotone"]);const PREFIX_TO_STYLE=familyProxy(_PREFIX_TO_STYLE),_STYLE_TO_PREFIX=_objectSpread2({},xt);_STYLE_TO_PREFIX[s]=_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},{duotone:"fad"}),_STYLE_TO_PREFIX[s]),Et.kit),Et["kit-duotone"]);const STYLE_TO_PREFIX=familyProxy(_STYLE_TO_PREFIX),_PREFIX_TO_LONG_STYLE=_objectSpread2({},ga);_PREFIX_TO_LONG_STYLE[s]=_objectSpread2(_objectSpread2({},_PREFIX_TO_LONG_STYLE[s]),Wt.kit);const PREFIX_TO_LONG_STYLE=familyProxy(_PREFIX_TO_LONG_STYLE),_LONG_STYLE_TO_PREFIX=_objectSpread2({},ua);_LONG_STYLE_TO_PREFIX[s]=_objectSpread2(_objectSpread2({},_LONG_STYLE_TO_PREFIX[s]),Ct.kit);familyProxy(_LONG_STYLE_TO_PREFIX);const ICON_SELECTION_SYNTAX_PATTERN=p,LAYERS_TEXT_CLASSNAME="fa-layers-text",FONT_FAMILY_PATTERN=g,_FONT_WEIGHT_TO_PREFIX=_objectSpread2({},G);familyProxy(_FONT_WEIGHT_TO_PREFIX);const ATTRIBUTES_WATCHED_FOR_MUTATION=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],DUOTONE_CLASSES=A,RESERVED_CLASSES=[...At,...ma],initial=WINDOW.FontAwesomeConfig||{};function getAttrConfig(a){var e=DOCUMENT.querySelector("script["+a+"]");if(e)return e.getAttribute(a)}function coerce(a){return a===""?!0:a==="false"?!1:a==="true"?!0:a}DOCUMENT&&typeof DOCUMENT.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[l,c]=e;const f=coerce(getAttrConfig(l));f!=null&&(initial[c]=f)});const _default={styleDefault:"solid",familyDefault:s,cssPrefix:DEFAULT_CSS_PREFIX,replacementClass:DEFAULT_REPLACEMENT_CLASS,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};initial.familyPrefix&&(initial.cssPrefix=initial.familyPrefix);const _config=_objectSpread2(_objectSpread2({},_default),initial);_config.autoReplaceSvg||(_config.observeMutations=!1);const config={};Object.keys(_default).forEach(a=>{Object.defineProperty(config,a,{enumerable:!0,set:function(e){_config[a]=e,_onChangeCb.forEach(l=>l(config))},get:function(){return _config[a]}})});Object.defineProperty(config,"familyPrefix",{enumerable:!0,set:function(a){_config.cssPrefix=a,_onChangeCb.forEach(e=>e(config))},get:function(){return _config.cssPrefix}});WINDOW.FontAwesomeConfig=config;const _onChangeCb=[];function onChange(a){return _onChangeCb.push(a),()=>{_onChangeCb.splice(_onChangeCb.indexOf(a),1)}}const d$2=UNITS_IN_GRID,meaninglessTransform={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function insertCss(a){if(!a||!IS_DOM)return;const e=DOCUMENT.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=a;const l=DOCUMENT.head.childNodes;let c=null;for(let f=l.length-1;f>-1;f--){const h=l[f],u=(h.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(u)>-1&&(c=h)}return DOCUMENT.head.insertBefore(e,c),a}const idPool="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function nextUniqueId(){let a=12,e="";for(;a-- >0;)e+=idPool[Math.random()*62|0];return e}function toArray(a){const e=[];for(let l=(a||[]).length>>>0;l--;)e[l]=a[l];return e}function classArray$1(a){return a.classList?toArray(a.classList):(a.getAttribute("class")||"").split(" ").filter(e=>e)}function htmlEscape(a){return"".concat(a).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function joinAttributes(a){return Object.keys(a||{}).reduce((e,l)=>e+"".concat(l,'="').concat(htmlEscape(a[l]),'" '),"").trim()}function joinStyles(a){return Object.keys(a||{}).reduce((e,l)=>e+"".concat(l,": ").concat(a[l].trim(),";"),"")}function transformIsMeaningful(a){return a.size!==meaninglessTransform.size||a.x!==meaninglessTransform.x||a.y!==meaninglessTransform.y||a.rotate!==meaninglessTransform.rotate||a.flipX||a.flipY}function transformForSvg(a){let{transform:e,containerWidth:l,iconWidth:c}=a;const f={transform:"translate(".concat(l/2," 256)")},h="translate(".concat(e.x*32,", ").concat(e.y*32,") "),u="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),m="rotate(".concat(e.rotate," 0 0)"),v={transform:"".concat(h," ").concat(u," ").concat(m)},_={transform:"translate(".concat(c/2*-1," -256)")};return{outer:f,inner:v,path:_}}function transformForCss(a){let{transform:e,width:l=UNITS_IN_GRID,height:c=UNITS_IN_GRID,startCentered:f=!1}=a,h="";return f&&IS_IE?h+="translate(".concat(e.x/d$2-l/2,"em, ").concat(e.y/d$2-c/2,"em) "):f?h+="translate(calc(-50% + ".concat(e.x/d$2,"em), calc(-50% + ").concat(e.y/d$2,"em)) "):h+="translate(".concat(e.x/d$2,"em, ").concat(e.y/d$2,"em) "),h+="scale(".concat(e.size/d$2*(e.flipX?-1:1),", ").concat(e.size/d$2*(e.flipY?-1:1),") "),h+="rotate(".concat(e.rotate,"deg) "),h}var baseStyles=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';function css(){const a=DEFAULT_CSS_PREFIX,e=DEFAULT_REPLACEMENT_CLASS,l=config.cssPrefix,c=config.replacementClass;let f=baseStyles;if(l!==a||c!==e){const h=new RegExp("\\.".concat(a,"\\-"),"g"),u=new RegExp("\\--".concat(a,"\\-"),"g"),m=new RegExp("\\.".concat(e),"g");f=f.replace(h,".".concat(l,"-")).replace(u,"--".concat(l,"-")).replace(m,".".concat(c))}return f}let _cssInserted=!1;function ensureCss(){config.autoAddCss&&!_cssInserted&&(insertCss(css()),_cssInserted=!0)}var InjectCSS={mixout(){return{dom:{css,insertCss:ensureCss}}},hooks(){return{beforeDOMElementCreation(){ensureCss()},beforeI2svg(){ensureCss()}}}};const w=WINDOW||{};w[NAMESPACE_IDENTIFIER]||(w[NAMESPACE_IDENTIFIER]={});w[NAMESPACE_IDENTIFIER].styles||(w[NAMESPACE_IDENTIFIER].styles={});w[NAMESPACE_IDENTIFIER].hooks||(w[NAMESPACE_IDENTIFIER].hooks={});w[NAMESPACE_IDENTIFIER].shims||(w[NAMESPACE_IDENTIFIER].shims=[]);var namespace$1=w[NAMESPACE_IDENTIFIER];const functions=[],listener=function(){DOCUMENT.removeEventListener("DOMContentLoaded",listener),loaded=1,functions.map(a=>a())};let loaded=!1;IS_DOM&&(loaded=(DOCUMENT.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(DOCUMENT.readyState),loaded||DOCUMENT.addEventListener("DOMContentLoaded",listener));function domready(a){IS_DOM&&(loaded?setTimeout(a,0):functions.push(a))}function toHtml(a){const{tag:e,attributes:l={},children:c=[]}=a;return typeof a=="string"?htmlEscape(a):"<".concat(e," ").concat(joinAttributes(l),">").concat(c.map(toHtml).join(""),"</").concat(e,">")}function iconFromMapping(a,e,l){if(a&&a[e]&&a[e][l])return{prefix:e,iconName:l,icon:a[e][l]}}var reduce=function(e,l,c,f){var h=Object.keys(e),u=h.length,m=l,v,_,b;for(c===void 0?(v=1,b=e[h[0]]):(v=0,b=c);v<u;v++)_=h[v],b=m(b,e[_],_,e);return b};function ucs2decode(a){const e=[];let l=0;const c=a.length;for(;l<c;){const f=a.charCodeAt(l++);if(f>=55296&&f<=56319&&l<c){const h=a.charCodeAt(l++);(h&64512)==56320?e.push(((f&1023)<<10)+(h&1023)+65536):(e.push(f),l--)}else e.push(f)}return e}function toHex(a){const e=ucs2decode(a);return e.length===1?e[0].toString(16):null}function codePointAt(a,e){const l=a.length;let c=a.charCodeAt(e),f;return c>=55296&&c<=56319&&l>e+1&&(f=a.charCodeAt(e+1),f>=56320&&f<=57343)?(c-55296)*1024+f-56320+65536:c}function normalizeIcons(a){return Object.keys(a).reduce((e,l)=>{const c=a[l];return!!c.icon?e[c.iconName]=c.icon:e[l]=c,e},{})}function defineIcons(a,e){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:c=!1}=l,f=normalizeIcons(e);typeof namespace$1.hooks.addPack=="function"&&!c?namespace$1.hooks.addPack(a,normalizeIcons(e)):namespace$1.styles[a]=_objectSpread2(_objectSpread2({},namespace$1.styles[a]||{}),f),a==="fas"&&defineIcons("fa",e)}const{styles,shims}=namespace$1,FAMILY_NAMES=Object.keys(PREFIX_TO_LONG_STYLE),PREFIXES_FOR_FAMILY=FAMILY_NAMES.reduce((a,e)=>(a[e]=Object.keys(PREFIX_TO_LONG_STYLE[e]),a),{});let _defaultUsablePrefix=null,_byUnicode={},_byLigature={},_byOldName={},_byOldUnicode={},_byAlias={};function isReserved(a){return~RESERVED_CLASSES.indexOf(a)}function getIconName(a,e){const l=e.split("-"),c=l[0],f=l.slice(1).join("-");return c===a&&f!==""&&!isReserved(f)?f:null}const build=()=>{const a=c=>reduce(styles,(f,h,u)=>(f[u]=reduce(h,c,{}),f),{});_byUnicode=a((c,f,h)=>(f[3]&&(c[f[3]]=h),f[2]&&f[2].filter(m=>typeof m=="number").forEach(m=>{c[m.toString(16)]=h}),c)),_byLigature=a((c,f,h)=>(c[h]=h,f[2]&&f[2].filter(m=>typeof m=="string").forEach(m=>{c[m]=h}),c)),_byAlias=a((c,f,h)=>{const u=f[2];return c[h]=h,u.forEach(m=>{c[m]=h}),c});const e="far"in styles||config.autoFetchSvg,l=reduce(shims,(c,f)=>{const h=f[0];let u=f[1];const m=f[2];return u==="far"&&!e&&(u="fas"),typeof h=="string"&&(c.names[h]={prefix:u,iconName:m}),typeof h=="number"&&(c.unicodes[h.toString(16)]={prefix:u,iconName:m}),c},{names:{},unicodes:{}});_byOldName=l.names,_byOldUnicode=l.unicodes,_defaultUsablePrefix=getCanonicalPrefix(config.styleDefault,{family:config.familyDefault})};onChange(a=>{_defaultUsablePrefix=getCanonicalPrefix(a.styleDefault,{family:config.familyDefault})});build();function byUnicode(a,e){return(_byUnicode[a]||{})[e]}function byLigature(a,e){return(_byLigature[a]||{})[e]}function byAlias(a,e){return(_byAlias[a]||{})[e]}function byOldName(a){return _byOldName[a]||{prefix:null,iconName:null}}function byOldUnicode(a){const e=_byOldUnicode[a],l=byUnicode("fas",a);return e||(l?{prefix:"fas",iconName:l}:null)||{prefix:null,iconName:null}}function getDefaultUsablePrefix(){return _defaultUsablePrefix}const emptyCanonicalIcon=()=>({prefix:null,iconName:null,rest:[]});function getFamilyId(a){let e=s;const l=FAMILY_NAMES.reduce((c,f)=>(c[f]="".concat(config.cssPrefix,"-").concat(f),c),{});return L.forEach(c=>{(a.includes(l[c])||a.some(f=>PREFIXES_FOR_FAMILY[c].includes(f)))&&(e=c)}),e}function getCanonicalPrefix(a){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:l=s}=e,c=PREFIX_TO_STYLE[l][a];if(l===t&&!a)return"fad";const f=STYLE_TO_PREFIX[l][a]||STYLE_TO_PREFIX[l][c],h=a in namespace$1.styles?a:null;return f||h||null}function moveNonFaClassesToRest(a){let e=[],l=null;return a.forEach(c=>{const f=getIconName(config.cssPrefix,c);f?l=f:c&&e.push(c)}),{iconName:l,rest:e}}function sortedUniqueValues(a){return a.sort().filter((e,l,c)=>c.indexOf(e)===l)}function getCanonicalIcon(a){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:l=!1}=e;let c=null;const f=Ia.concat(bt$1),h=sortedUniqueValues(a.filter(E=>f.includes(E))),u=sortedUniqueValues(a.filter(E=>!Ia.includes(E))),m=h.filter(E=>(c=E,!P.includes(E))),[v=null]=m,_=getFamilyId(h),b=_objectSpread2(_objectSpread2({},moveNonFaClassesToRest(u)),{},{prefix:getCanonicalPrefix(v,{family:_})});return _objectSpread2(_objectSpread2(_objectSpread2({},b),getDefaultCanonicalPrefix({values:a,family:_,styles,config,canonical:b,givenPrefix:c})),applyShimAndAlias(l,c,b))}function applyShimAndAlias(a,e,l){let{prefix:c,iconName:f}=l;if(a||!c||!f)return{prefix:c,iconName:f};const h=e==="fa"?byOldName(f):{},u=byAlias(c,f);return f=h.iconName||u||f,c=h.prefix||c,c==="far"&&!styles.far&&styles.fas&&!config.autoFetchSvg&&(c="fas"),{prefix:c,iconName:f}}const newCanonicalFamilies=L.filter(a=>a!==s||a!==t),newCanonicalStyles=Object.keys(ga).filter(a=>a!==s).map(a=>Object.keys(ga[a])).flat();function getDefaultCanonicalPrefix(a){const{values:e,family:l,canonical:c,givenPrefix:f="",styles:h={},config:u={}}=a,m=l===t,v=e.includes("fa-duotone")||e.includes("fad"),_=u.familyDefault==="duotone",b=c.prefix==="fad"||c.prefix==="fa-duotone";if(!m&&(v||_||b)&&(c.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(c.prefix="fab"),!c.prefix&&newCanonicalFamilies.includes(l)&&(Object.keys(h).find(y=>newCanonicalStyles.includes(y))||u.autoFetchSvg)){const y=pt.get(l).defaultShortPrefixId;c.prefix=y,c.iconName=byAlias(c.prefix,c.iconName)||c.iconName}return(c.prefix==="fa"||f==="fa")&&(c.prefix=getDefaultUsablePrefix()||"fas"),c}class Library{constructor(){this.definitions={}}add(){for(var e=arguments.length,l=new Array(e),c=0;c<e;c++)l[c]=arguments[c];const f=l.reduce(this._pullDefinitions,{});Object.keys(f).forEach(h=>{this.definitions[h]=_objectSpread2(_objectSpread2({},this.definitions[h]||{}),f[h]),defineIcons(h,f[h]);const u=PREFIX_TO_LONG_STYLE[s][h];u&&defineIcons(u,f[h]),build()})}reset(){this.definitions={}}_pullDefinitions(e,l){const c=l.prefix&&l.iconName&&l.icon?{0:l}:l;return Object.keys(c).map(f=>{const{prefix:h,iconName:u,icon:m}=c[f],v=m[2];e[h]||(e[h]={}),v.length>0&&v.forEach(_=>{typeof _=="string"&&(e[h][_]=m)}),e[h][u]=m}),e}}let _plugins=[],_hooks={};const providers={},defaultProviderKeys=Object.keys(providers);function registerPlugins(a,e){let{mixoutsTo:l}=e;return _plugins=a,_hooks={},Object.keys(providers).forEach(c=>{defaultProviderKeys.indexOf(c)===-1&&delete providers[c]}),_plugins.forEach(c=>{const f=c.mixout?c.mixout():{};if(Object.keys(f).forEach(h=>{typeof f[h]=="function"&&(l[h]=f[h]),typeof f[h]=="object"&&Object.keys(f[h]).forEach(u=>{l[h]||(l[h]={}),l[h][u]=f[h][u]})}),c.hooks){const h=c.hooks();Object.keys(h).forEach(u=>{_hooks[u]||(_hooks[u]=[]),_hooks[u].push(h[u])})}c.provides&&c.provides(providers)}),l}function chainHooks(a,e){for(var l=arguments.length,c=new Array(l>2?l-2:0),f=2;f<l;f++)c[f-2]=arguments[f];return(_hooks[a]||[]).forEach(u=>{e=u.apply(null,[e,...c])}),e}function callHooks(a){for(var e=arguments.length,l=new Array(e>1?e-1:0),c=1;c<e;c++)l[c-1]=arguments[c];(_hooks[a]||[]).forEach(h=>{h.apply(null,l)})}function callProvided(){const a=arguments[0],e=Array.prototype.slice.call(arguments,1);return providers[a]?providers[a].apply(null,e):void 0}function findIconDefinition(a){a.prefix==="fa"&&(a.prefix="fas");let{iconName:e}=a;const l=a.prefix||getDefaultUsablePrefix();if(e)return e=byAlias(l,e)||e,iconFromMapping(library.definitions,l,e)||iconFromMapping(namespace$1.styles,l,e)}const library=new Library,noAuto=()=>{config.autoReplaceSvg=!1,config.observeMutations=!1,callHooks("noAuto")},dom={i2svg:function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return IS_DOM?(callHooks("beforeI2svg",a),callProvided("pseudoElements2svg",a),callProvided("i2svg",a)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e}=a;config.autoReplaceSvg===!1&&(config.autoReplaceSvg=!0),config.observeMutations=!0,domready(()=>{autoReplace({autoReplaceSvgRoot:e}),callHooks("watch",a)})}},parse={icon:a=>{if(a===null)return null;if(typeof a=="object"&&a.prefix&&a.iconName)return{prefix:a.prefix,iconName:byAlias(a.prefix,a.iconName)||a.iconName};if(Array.isArray(a)&&a.length===2){const e=a[1].indexOf("fa-")===0?a[1].slice(3):a[1],l=getCanonicalPrefix(a[0]);return{prefix:l,iconName:byAlias(l,e)||e}}if(typeof a=="string"&&(a.indexOf("".concat(config.cssPrefix,"-"))>-1||a.match(ICON_SELECTION_SYNTAX_PATTERN))){const e=getCanonicalIcon(a.split(" "),{skipLookups:!0});return{prefix:e.prefix||getDefaultUsablePrefix(),iconName:byAlias(e.prefix,e.iconName)||e.iconName}}if(typeof a=="string"){const e=getDefaultUsablePrefix();return{prefix:e,iconName:byAlias(e,a)||a}}}},api={noAuto,config,dom,parse,library,findIconDefinition,toHtml},autoReplace=function(){let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:e=DOCUMENT}=a;(Object.keys(namespace$1.styles).length>0||config.autoFetchSvg)&&IS_DOM&&config.autoReplaceSvg&&api.dom.i2svg({node:e})};function domVariants(a,e){return Object.defineProperty(a,"abstract",{get:e}),Object.defineProperty(a,"html",{get:function(){return a.abstract.map(l=>toHtml(l))}}),Object.defineProperty(a,"node",{get:function(){if(!IS_DOM)return;const l=DOCUMENT.createElement("div");return l.innerHTML=a.html,l.children}}),a}function asIcon(a){let{children:e,main:l,mask:c,attributes:f,styles:h,transform:u}=a;if(transformIsMeaningful(u)&&l.found&&!c.found){const{width:m,height:v}=l,_={x:m/v/2,y:.5};f.style=joinStyles(_objectSpread2(_objectSpread2({},h),{},{"transform-origin":"".concat(_.x+u.x/16,"em ").concat(_.y+u.y/16,"em")}))}return[{tag:"svg",attributes:f,children:e}]}function asSymbol(a){let{prefix:e,iconName:l,children:c,attributes:f,symbol:h}=a;const u=h===!0?"".concat(e,"-").concat(config.cssPrefix,"-").concat(l):h;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:_objectSpread2(_objectSpread2({},f),{},{id:u}),children:c}]}]}function makeInlineSvgAbstract(a){const{icons:{main:e,mask:l},prefix:c,iconName:f,transform:h,symbol:u,title:m,maskId:v,titleId:_,extra:b,watchable:E=!1}=a,{width:y,height:$}=l.found?l:e,T=Lt.includes(c),C=[config.replacementClass,f?"".concat(config.cssPrefix,"-").concat(f):""].filter(N=>b.classes.indexOf(N)===-1).filter(N=>N!==""||!!N).concat(b.classes).join(" ");let O={children:[],attributes:_objectSpread2(_objectSpread2({},b.attributes),{},{"data-prefix":c,"data-icon":f,class:C,role:b.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(y," ").concat($)})};const D=T&&!~b.classes.indexOf("fa-fw")?{width:"".concat(y/$*16*.0625,"em")}:{};E&&(O.attributes[DATA_FA_I2SVG]=""),m&&(O.children.push({tag:"title",attributes:{id:O.attributes["aria-labelledby"]||"title-".concat(_||nextUniqueId())},children:[m]}),delete O.attributes.title);const R=_objectSpread2(_objectSpread2({},O),{},{prefix:c,iconName:f,main:e,mask:l,maskId:v,transform:h,symbol:u,styles:_objectSpread2(_objectSpread2({},D),b.styles)}),{children:k,attributes:I}=l.found&&e.found?callProvided("generateAbstractMask",R)||{children:[],attributes:{}}:callProvided("generateAbstractIcon",R)||{children:[],attributes:{}};return R.children=k,R.attributes=I,u?asSymbol(R):asIcon(R)}function makeLayersTextAbstract(a){const{content:e,width:l,height:c,transform:f,title:h,extra:u,watchable:m=!1}=a,v=_objectSpread2(_objectSpread2(_objectSpread2({},u.attributes),h?{title:h}:{}),{},{class:u.classes.join(" ")});m&&(v[DATA_FA_I2SVG]="");const _=_objectSpread2({},u.styles);transformIsMeaningful(f)&&(_.transform=transformForCss({transform:f,startCentered:!0,width:l,height:c}),_["-webkit-transform"]=_.transform);const b=joinStyles(_);b.length>0&&(v.style=b);const E=[];return E.push({tag:"span",attributes:v,children:[e]}),h&&E.push({tag:"span",attributes:{class:"sr-only"},children:[h]}),E}function makeLayersCounterAbstract(a){const{content:e,title:l,extra:c}=a,f=_objectSpread2(_objectSpread2(_objectSpread2({},c.attributes),l?{title:l}:{}),{},{class:c.classes.join(" ")}),h=joinStyles(c.styles);h.length>0&&(f.style=h);const u=[];return u.push({tag:"span",attributes:f,children:[e]}),l&&u.push({tag:"span",attributes:{class:"sr-only"},children:[l]}),u}const{styles:styles$1}=namespace$1;function asFoundIcon(a){const e=a[0],l=a[1],[c]=a.slice(4);let f=null;return Array.isArray(c)?f={tag:"g",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.GROUP)},children:[{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.SECONDARY),fill:"currentColor",d:c[0]}},{tag:"path",attributes:{class:"".concat(config.cssPrefix,"-").concat(DUOTONE_CLASSES.PRIMARY),fill:"currentColor",d:c[1]}}]}:f={tag:"path",attributes:{fill:"currentColor",d:c}},{found:!0,width:e,height:l,icon:f}}const missingIconResolutionMixin={found:!1,width:512,height:512};function maybeNotifyMissing(a,e){!PRODUCTION&&!config.showMissingIcons&&a&&console.error('Icon with name "'.concat(a,'" and prefix "').concat(e,'" is missing.'))}function findIcon(a,e){let l=e;return e==="fa"&&config.styleDefault!==null&&(e=getDefaultUsablePrefix()),new Promise((c,f)=>{if(l==="fa"){const h=byOldName(a)||{};a=h.iconName||a,e=h.prefix||e}if(a&&e&&styles$1[e]&&styles$1[e][a]){const h=styles$1[e][a];return c(asFoundIcon(h))}maybeNotifyMissing(a,e),c(_objectSpread2(_objectSpread2({},missingIconResolutionMixin),{},{icon:config.showMissingIcons&&a?callProvided("missingIconAbstract")||{}:{}}))})}const noop$1$1=()=>{},p$2=config.measurePerformance&&PERFORMANCE&&PERFORMANCE.mark&&PERFORMANCE.measure?PERFORMANCE:{mark:noop$1$1,measure:noop$1$1},preamble='FA "6.7.2"',begin=a=>(p$2.mark("".concat(preamble," ").concat(a," begins")),()=>end(a)),end=a=>{p$2.mark("".concat(preamble," ").concat(a," ends")),p$2.measure("".concat(preamble," ").concat(a),"".concat(preamble," ").concat(a," begins"),"".concat(preamble," ").concat(a," ends"))};var perf={begin,end};const noop$2=()=>{};function isWatched(a){return typeof(a.getAttribute?a.getAttribute(DATA_FA_I2SVG):null)=="string"}function hasPrefixAndIcon(a){const e=a.getAttribute?a.getAttribute(DATA_PREFIX):null,l=a.getAttribute?a.getAttribute(DATA_ICON):null;return e&&l}function hasBeenReplaced(a){return a&&a.classList&&a.classList.contains&&a.classList.contains(config.replacementClass)}function getMutator(){return config.autoReplaceSvg===!0?mutators.replace:mutators[config.autoReplaceSvg]||mutators.replace}function createElementNS(a){return DOCUMENT.createElementNS("http://www.w3.org/2000/svg",a)}function createElement(a){return DOCUMENT.createElement(a)}function convertSVG(a){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:l=a.tag==="svg"?createElementNS:createElement}=e;if(typeof a=="string")return DOCUMENT.createTextNode(a);const c=l(a.tag);return Object.keys(a.attributes||[]).forEach(function(h){c.setAttribute(h,a.attributes[h])}),(a.children||[]).forEach(function(h){c.appendChild(convertSVG(h,{ceFn:l}))}),c}function nodeAsComment(a){let e=" ".concat(a.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}const mutators={replace:function(a){const e=a[0];if(e.parentNode)if(a[1].forEach(l=>{e.parentNode.insertBefore(convertSVG(l),e)}),e.getAttribute(DATA_FA_I2SVG)===null&&config.keepOriginalSource){let l=DOCUMENT.createComment(nodeAsComment(e));e.parentNode.replaceChild(l,e)}else e.remove()},nest:function(a){const e=a[0],l=a[1];if(~classArray$1(e).indexOf(config.replacementClass))return mutators.replace(a);const c=new RegExp("".concat(config.cssPrefix,"-.*"));if(delete l[0].attributes.id,l[0].attributes.class){const h=l[0].attributes.class.split(" ").reduce((u,m)=>(m===config.replacementClass||m.match(c)?u.toSvg.push(m):u.toNode.push(m),u),{toNode:[],toSvg:[]});l[0].attributes.class=h.toSvg.join(" "),h.toNode.length===0?e.removeAttribute("class"):e.setAttribute("class",h.toNode.join(" "))}const f=l.map(h=>toHtml(h)).join("\n");e.setAttribute(DATA_FA_I2SVG,""),e.innerHTML=f}};function performOperationSync(a){a()}function perform(a,e){const l=typeof e=="function"?e:noop$2;if(a.length===0)l();else{let c=performOperationSync;config.mutateApproach===MUTATION_APPROACH_ASYNC&&(c=WINDOW.requestAnimationFrame||performOperationSync),c(()=>{const f=getMutator(),h=perf.begin("mutate");a.map(f),h(),l()})}}let disabled=!1;function disableObservation(){disabled=!0}function enableObservation(){disabled=!1}let mo=null;function observe(a){if(!MUTATION_OBSERVER||!config.observeMutations)return;const{treeCallback:e=noop$2,nodeCallback:l=noop$2,pseudoElementsCallback:c=noop$2,observeMutationsRoot:f=DOCUMENT}=a;mo=new MUTATION_OBSERVER(h=>{if(disabled)return;const u=getDefaultUsablePrefix();toArray(h).forEach(m=>{if(m.type==="childList"&&m.addedNodes.length>0&&!isWatched(m.addedNodes[0])&&(config.searchPseudoElements&&c(m.target),e(m.target)),m.type==="attributes"&&m.target.parentNode&&config.searchPseudoElements&&c(m.target.parentNode),m.type==="attributes"&&isWatched(m.target)&&~ATTRIBUTES_WATCHED_FOR_MUTATION.indexOf(m.attributeName))if(m.attributeName==="class"&&hasPrefixAndIcon(m.target)){const{prefix:v,iconName:_}=getCanonicalIcon(classArray$1(m.target));m.target.setAttribute(DATA_PREFIX,v||u),_&&m.target.setAttribute(DATA_ICON,_)}else hasBeenReplaced(m.target)&&l(m.target)})}),IS_DOM&&mo.observe(f,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function disconnect(){mo&&mo.disconnect()}function styleParser(a){const e=a.getAttribute("style");let l=[];return e&&(l=e.split(";").reduce((c,f)=>{const h=f.split(":"),u=h[0],m=h.slice(1);return u&&m.length>0&&(c[u]=m.join(":").trim()),c},{})),l}function classParser(a){const e=a.getAttribute("data-prefix"),l=a.getAttribute("data-icon"),c=a.innerText!==void 0?a.innerText.trim():"";let f=getCanonicalIcon(classArray$1(a));return f.prefix||(f.prefix=getDefaultUsablePrefix()),e&&l&&(f.prefix=e,f.iconName=l),f.iconName&&f.prefix||(f.prefix&&c.length>0&&(f.iconName=byLigature(f.prefix,a.innerText)||byUnicode(f.prefix,toHex(a.innerText))),!f.iconName&&config.autoFetchSvg&&a.firstChild&&a.firstChild.nodeType===Node.TEXT_NODE&&(f.iconName=a.firstChild.data)),f}function attributesParser(a){const e=toArray(a.attributes).reduce((f,h)=>(f.name!=="class"&&f.name!=="style"&&(f[h.name]=h.value),f),{}),l=a.getAttribute("title"),c=a.getAttribute("data-fa-title-id");return config.autoA11y&&(l?e["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(c||nextUniqueId()):(e["aria-hidden"]="true",e.focusable="false")),e}function blankMeta(){return{iconName:null,title:null,titleId:null,prefix:null,transform:meaninglessTransform,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function parseMeta(a){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:l,prefix:c,rest:f}=classParser(a),h=attributesParser(a),u=chainHooks("parseNodeAttributes",{},a);let m=e.styleParser?styleParser(a):[];return _objectSpread2({iconName:l,title:a.getAttribute("title"),titleId:a.getAttribute("data-fa-title-id"),prefix:c,transform:meaninglessTransform,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:f,styles:m,attributes:h}},u)}const{styles:styles$2}=namespace$1;function generateMutation(a){const e=config.autoReplaceSvg==="nest"?parseMeta(a,{styleParser:!1}):parseMeta(a);return~e.extra.classes.indexOf(LAYERS_TEXT_CLASSNAME)?callProvided("generateLayersText",a,e):callProvided("generateSvgReplacementMutation",a,e)}function getKnownPrefixes(){return[...Ft,...Ia]}function onTree(a){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!IS_DOM)return Promise.resolve();const l=DOCUMENT.documentElement.classList,c=b=>l.add("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(b)),f=b=>l.remove("".concat(HTML_CLASS_I2SVG_BASE_CLASS,"-").concat(b)),h=config.autoFetchSvg?getKnownPrefixes():P.concat(Object.keys(styles$2));h.includes("fa")||h.push("fa");const u=[".".concat(LAYERS_TEXT_CLASSNAME,":not([").concat(DATA_FA_I2SVG,"])")].concat(h.map(b=>".".concat(b,":not([").concat(DATA_FA_I2SVG,"])"))).join(", ");if(u.length===0)return Promise.resolve();let m=[];try{m=toArray(a.querySelectorAll(u))}catch(b){}if(m.length>0)c("pending"),f("complete");else return Promise.resolve();const v=perf.begin("onTree"),_=m.reduce((b,E)=>{try{const y=generateMutation(E);y&&b.push(y)}catch(y){PRODUCTION||y.name==="MissingIcon"&&console.error(y)}return b},[]);return new Promise((b,E)=>{Promise.all(_).then(y=>{perform(y,()=>{c("active"),c("complete"),f("pending"),typeof e=="function"&&e(),v(),b()})}).catch(y=>{v(),E(y)})})}function onNode(a){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;generateMutation(a).then(l=>{l&&perform([l],e)})}function resolveIcons(a){return function(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const c=(e||{}).icon?e:findIconDefinition(e||{});let{mask:f}=l;return f&&(f=(f||{}).icon?f:findIconDefinition(f||{})),a(c,_objectSpread2(_objectSpread2({},l),{},{mask:f}))}}const render=function(a){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:l=meaninglessTransform,symbol:c=!1,mask:f=null,maskId:h=null,title:u=null,titleId:m=null,classes:v=[],attributes:_={},styles:b={}}=e;if(!a)return;const{prefix:E,iconName:y,icon:$}=a;return domVariants(_objectSpread2({type:"icon"},a),()=>(callHooks("beforeDOMElementCreation",{iconDefinition:a,params:e}),config.autoA11y&&(u?_["aria-labelledby"]="".concat(config.replacementClass,"-title-").concat(m||nextUniqueId()):(_["aria-hidden"]="true",_.focusable="false")),makeInlineSvgAbstract({icons:{main:asFoundIcon($),mask:f?asFoundIcon(f.icon):{found:!1,width:null,height:null,icon:{}}},prefix:E,iconName:y,transform:_objectSpread2(_objectSpread2({},meaninglessTransform),l),symbol:c,title:u,maskId:h,titleId:m,extra:{attributes:_,styles:b,classes:v}})))};var ReplaceElements={mixout(){return{icon:resolveIcons(render)}},hooks(){return{mutationObserverCallbacks(a){return a.treeCallback=onTree,a.nodeCallback=onNode,a}}},provides(a){a.i2svg=function(e){const{node:l=DOCUMENT,callback:c=()=>{}}=e;return onTree(l,c)},a.generateSvgReplacementMutation=function(e,l){const{iconName:c,title:f,titleId:h,prefix:u,transform:m,symbol:v,mask:_,maskId:b,extra:E}=l;return new Promise((y,$)=>{Promise.all([findIcon(c,u),_.iconName?findIcon(_.iconName,_.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(T=>{let[C,O]=T;y([e,makeInlineSvgAbstract({icons:{main:C,mask:O},prefix:u,iconName:c,transform:m,symbol:v,maskId:b,title:f,titleId:h,extra:E,watchable:!0})])}).catch($)})},a.generateAbstractIcon=function(e){let{children:l,attributes:c,main:f,transform:h,styles:u}=e;const m=joinStyles(u);m.length>0&&(c.style=m);let v;return transformIsMeaningful(h)&&(v=callProvided("generateAbstractTransformGrouping",{main:f,transform:h,containerWidth:f.width,iconWidth:f.width})),l.push(v||f.icon),{children:l,attributes:c}}}},Layers={mixout(){return{layer(a){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:l=[]}=e;return domVariants({type:"layer"},()=>{callHooks("beforeDOMElementCreation",{assembler:a,params:e});let c=[];return a(f=>{Array.isArray(f)?f.map(h=>{c=c.concat(h.abstract)}):c=c.concat(f.abstract)}),[{tag:"span",attributes:{class:["".concat(config.cssPrefix,"-layers"),...l].join(" ")},children:c}]})}}}},LayersCounter={mixout(){return{counter(a){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:l=null,classes:c=[],attributes:f={},styles:h={}}=e;return domVariants({type:"counter",content:a},()=>(callHooks("beforeDOMElementCreation",{content:a,params:e}),makeLayersCounterAbstract({content:a.toString(),title:l,extra:{attributes:f,styles:h,classes:["".concat(config.cssPrefix,"-layers-counter"),...c]}})))}}}},LayersText={mixout(){return{text(a){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:l=meaninglessTransform,title:c=null,classes:f=[],attributes:h={},styles:u={}}=e;return domVariants({type:"text",content:a},()=>(callHooks("beforeDOMElementCreation",{content:a,params:e}),makeLayersTextAbstract({content:a,transform:_objectSpread2(_objectSpread2({},meaninglessTransform),l),title:c,extra:{attributes:h,styles:u,classes:["".concat(config.cssPrefix,"-layers-text"),...f]}})))}}},provides(a){a.generateLayersText=function(e,l){const{title:c,transform:f,extra:h}=l;let u=null,m=null;if(IS_IE){const v=parseInt(getComputedStyle(e).fontSize,10),_=e.getBoundingClientRect();u=_.width/v,m=_.height/v}return config.autoA11y&&!c&&(h.attributes["aria-hidden"]="true"),Promise.resolve([e,makeLayersTextAbstract({content:e.innerHTML,width:u,height:m,transform:f,title:c,extra:h,watchable:!0})])}}};const CLEAN_CONTENT_PATTERN=new RegExp('"',"ug"),SECONDARY_UNICODE_RANGE=[1105920,1112319],_FONT_FAMILY_WEIGHT_TO_PREFIX=_objectSpread2(_objectSpread2(_objectSpread2(_objectSpread2({},{FontAwesome:{normal:"fas",400:"fas"}}),lt),wa),Yt),FONT_FAMILY_WEIGHT_TO_PREFIX=Object.keys(_FONT_FAMILY_WEIGHT_TO_PREFIX).reduce((a,e)=>(a[e.toLowerCase()]=_FONT_FAMILY_WEIGHT_TO_PREFIX[e],a),{}),FONT_FAMILY_WEIGHT_FALLBACK=Object.keys(FONT_FAMILY_WEIGHT_TO_PREFIX).reduce((a,e)=>{const l=FONT_FAMILY_WEIGHT_TO_PREFIX[e];return a[e]=l[900]||[...Object.entries(l)][0][1],a},{});function hexValueFromContent(a){const e=a.replace(CLEAN_CONTENT_PATTERN,""),l=codePointAt(e,0),c=l>=SECONDARY_UNICODE_RANGE[0]&&l<=SECONDARY_UNICODE_RANGE[1],f=e.length===2?e[0]===e[1]:!1;return{value:toHex(f?e[0]:e),isSecondary:c||f}}function getPrefix(a,e){const l=a.replace(/^['"]|['"]$/g,"").toLowerCase(),c=parseInt(e),f=isNaN(c)?"normal":c;return(FONT_FAMILY_WEIGHT_TO_PREFIX[l]||{})[f]||FONT_FAMILY_WEIGHT_FALLBACK[l]}function replaceForPosition(a,e){const l="".concat(DATA_FA_PSEUDO_ELEMENT_PENDING).concat(e.replace(":","-"));return new Promise((c,f)=>{if(a.getAttribute(l)!==null)return c();const u=toArray(a.children).filter(y=>y.getAttribute(DATA_FA_PSEUDO_ELEMENT)===e)[0],m=WINDOW.getComputedStyle(a,e),v=m.getPropertyValue("font-family"),_=v.match(FONT_FAMILY_PATTERN),b=m.getPropertyValue("font-weight"),E=m.getPropertyValue("content");if(u&&!_)return a.removeChild(u),c();if(_&&E!=="none"&&E!==""){const y=m.getPropertyValue("content");let $=getPrefix(v,b);const{value:T,isSecondary:C}=hexValueFromContent(y),O=_[0].startsWith("FontAwesome");let D=byUnicode($,T),R=D;if(O){const k=byOldUnicode(T);k.iconName&&k.prefix&&(D=k.iconName,$=k.prefix)}if(D&&!C&&(!u||u.getAttribute(DATA_PREFIX)!==$||u.getAttribute(DATA_ICON)!==R)){a.setAttribute(l,R),u&&a.removeChild(u);const k=blankMeta(),{extra:I}=k;I.attributes[DATA_FA_PSEUDO_ELEMENT]=e,findIcon(D,$).then(N=>{const M=makeInlineSvgAbstract(_objectSpread2(_objectSpread2({},k),{},{icons:{main:N,mask:emptyCanonicalIcon()},prefix:$,iconName:R,extra:I,watchable:!0})),H=DOCUMENT.createElementNS("http://www.w3.org/2000/svg","svg");e==="::before"?a.insertBefore(H,a.firstChild):a.appendChild(H),H.outerHTML=M.map(B=>toHtml(B)).join("\n"),a.removeAttribute(l),c()}).catch(f)}else c()}else c()})}function replace(a){return Promise.all([replaceForPosition(a,"::before"),replaceForPosition(a,"::after")])}function processable(a){return a.parentNode!==document.head&&!~TAGNAMES_TO_SKIP_FOR_PSEUDOELEMENTS.indexOf(a.tagName.toUpperCase())&&!a.getAttribute(DATA_FA_PSEUDO_ELEMENT)&&(!a.parentNode||a.parentNode.tagName!=="svg")}function searchPseudoElements(a){if(IS_DOM)return new Promise((e,l)=>{const c=toArray(a.querySelectorAll("*")).filter(processable).map(replace),f=perf.begin("searchPseudoElements");disableObservation(),Promise.all(c).then(()=>{f(),enableObservation(),e()}).catch(()=>{f(),enableObservation(),l()})})}var PseudoElements={hooks(){return{mutationObserverCallbacks(a){return a.pseudoElementsCallback=searchPseudoElements,a}}},provides(a){a.pseudoElements2svg=function(e){const{node:l=DOCUMENT}=e;config.searchPseudoElements&&searchPseudoElements(l)}}};let _unwatched=!1;var MutationObserver$1={mixout(){return{dom:{unwatch(){disableObservation(),_unwatched=!0}}}},hooks(){return{bootstrap(){observe(chainHooks("mutationObserverCallbacks",{}))},noAuto(){disconnect()},watch(a){const{observeMutationsRoot:e}=a;_unwatched?enableObservation():observe(chainHooks("mutationObserverCallbacks",{observeMutationsRoot:e}))}}}};const parseTransformString=a=>{let e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return a.toLowerCase().split(" ").reduce((l,c)=>{const f=c.toLowerCase().split("-"),h=f[0];let u=f.slice(1).join("-");if(h&&u==="h")return l.flipX=!0,l;if(h&&u==="v")return l.flipY=!0,l;if(u=parseFloat(u),isNaN(u))return l;switch(h){case"grow":l.size=l.size+u;break;case"shrink":l.size=l.size-u;break;case"left":l.x=l.x-u;break;case"right":l.x=l.x+u;break;case"up":l.y=l.y-u;break;case"down":l.y=l.y+u;break;case"rotate":l.rotate=l.rotate+u;break}return l},e)};var PowerTransforms={mixout(){return{parse:{transform:a=>parseTransformString(a)}}},hooks(){return{parseNodeAttributes(a,e){const l=e.getAttribute("data-fa-transform");return l&&(a.transform=parseTransformString(l)),a}}},provides(a){a.generateAbstractTransformGrouping=function(e){let{main:l,transform:c,containerWidth:f,iconWidth:h}=e;const u={transform:"translate(".concat(f/2," 256)")},m="translate(".concat(c.x*32,", ").concat(c.y*32,") "),v="scale(".concat(c.size/16*(c.flipX?-1:1),", ").concat(c.size/16*(c.flipY?-1:1),") "),_="rotate(".concat(c.rotate," 0 0)"),b={transform:"".concat(m," ").concat(v," ").concat(_)},E={transform:"translate(".concat(h/2*-1," -256)")},y={outer:u,inner:b,path:E};return{tag:"g",attributes:_objectSpread2({},y.outer),children:[{tag:"g",attributes:_objectSpread2({},y.inner),children:[{tag:l.icon.tag,children:l.icon.children,attributes:_objectSpread2(_objectSpread2({},l.icon.attributes),y.path)}]}]}}}};const ALL_SPACE={x:0,y:0,width:"100%",height:"100%"};function fillBlack(a){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return a.attributes&&(a.attributes.fill||e)&&(a.attributes.fill="black"),a}function deGroup(a){return a.tag==="g"?a.children:[a]}var Masks={hooks(){return{parseNodeAttributes(a,e){const l=e.getAttribute("data-fa-mask"),c=l?getCanonicalIcon(l.split(" ").map(f=>f.trim())):emptyCanonicalIcon();return c.prefix||(c.prefix=getDefaultUsablePrefix()),a.mask=c,a.maskId=e.getAttribute("data-fa-mask-id"),a}}},provides(a){a.generateAbstractMask=function(e){let{children:l,attributes:c,main:f,mask:h,maskId:u,transform:m}=e;const{width:v,icon:_}=f,{width:b,icon:E}=h,y=transformForSvg({transform:m,containerWidth:b,iconWidth:v}),$={tag:"rect",attributes:_objectSpread2(_objectSpread2({},ALL_SPACE),{},{fill:"white"})},T=_.children?{children:_.children.map(fillBlack)}:{},C={tag:"g",attributes:_objectSpread2({},y.inner),children:[fillBlack(_objectSpread2({tag:_.tag,attributes:_objectSpread2(_objectSpread2({},_.attributes),y.path)},T))]},O={tag:"g",attributes:_objectSpread2({},y.outer),children:[C]},D="mask-".concat(u||nextUniqueId()),R="clip-".concat(u||nextUniqueId()),k={tag:"mask",attributes:_objectSpread2(_objectSpread2({},ALL_SPACE),{},{id:D,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[$,O]},I={tag:"defs",children:[{tag:"clipPath",attributes:{id:R},children:deGroup(E)},k]};return l.push(I,{tag:"rect",attributes:_objectSpread2({fill:"currentColor","clip-path":"url(#".concat(R,")"),mask:"url(#".concat(D,")")},ALL_SPACE)}),{children:l,attributes:c}}}},MissingIconIndicator={provides(a){let e=!1;WINDOW.matchMedia&&(e=WINDOW.matchMedia("(prefers-reduced-motion: reduce)").matches),a.missingIconAbstract=function(){const l=[],c={fill:"currentColor"},f={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};l.push({tag:"path",attributes:_objectSpread2(_objectSpread2({},c),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const h=_objectSpread2(_objectSpread2({},f),{},{attributeName:"opacity"}),u={tag:"circle",attributes:_objectSpread2(_objectSpread2({},c),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||u.children.push({tag:"animate",attributes:_objectSpread2(_objectSpread2({},f),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:_objectSpread2(_objectSpread2({},h),{},{values:"1;0;1;1;0;1;"})}),l.push(u),l.push({tag:"path",attributes:_objectSpread2(_objectSpread2({},c),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:_objectSpread2(_objectSpread2({},h),{},{values:"1;0;0;0;0;1;"})}]}),e||l.push({tag:"path",attributes:_objectSpread2(_objectSpread2({},c),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:_objectSpread2(_objectSpread2({},h),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:l}}}},SvgSymbols={hooks(){return{parseNodeAttributes(a,e){const l=e.getAttribute("data-fa-symbol"),c=l===null?!1:l===""?!0:l;return a.symbol=c,a}}}},plugins=[InjectCSS,ReplaceElements,Layers,LayersCounter,LayersText,PseudoElements,MutationObserver$1,PowerTransforms,Masks,MissingIconIndicator,SvgSymbols];registerPlugins(plugins,{mixoutsTo:api});api.noAuto;api.config;const library$1=api.library,dom$1=api.dom;api.parse;api.findIconDefinition;api.toHtml;api.icon;api.layer;api.text;api.counter;/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const faComments={prefix:"fas",iconName:"comments",icon:[640,512,[128490,61670],"f086","M208 352c114.9 0 208-78.8 208-176S322.9 0 208 0S0 78.8 0 176c0 38.6 14.7 74.3 39.6 103.4c-3.5 9.4-8.7 17.7-14.2 24.7c-4.8 6.2-9.7 11-13.3 14.3c-1.8 1.6-3.3 2.9-4.3 3.7c-.5 .4-.9 .7-1.1 .8l-.2 .2s0 0 0 0s0 0 0 0C1 327.2-1.4 334.4 .8 340.9S9.1 352 16 352c21.8 0 43.8-5.6 62.1-12.5c9.2-3.5 17.8-7.4 25.2-11.4C134.1 343.3 169.8 352 208 352zM448 176c0 112.3-99.1 196.9-216.5 207C255.8 457.4 336.4 512 432 512c38.2 0 73.9-8.7 104.7-23.9c7.5 4 16 7.9 25.2 11.4c18.3 6.9 40.3 12.5 62.1 12.5c6.9 0 13.1-4.5 15.2-11.1c2.1-6.6-.2-13.8-5.8-17.9c0 0 0 0 0 0s0 0 0 0l-.2-.2c-.2-.2-.6-.4-1.1-.8c-1-.8-2.5-2-4.3-3.7c-3.6-3.3-8.5-8.1-13.3-14.3c-5.5-7-10.7-15.4-14.2-24.7c24.9-29 39.6-64.7 39.6-103.4c0-92.8-84.9-168.9-192.6-175.5c.4 5.1 .6 10.3 .6 15.5z"]},faAlignJustify={prefix:"fas",iconName:"align-justify",icon:[448,512,[],"f039","M448 64c0-17.7-14.3-32-32-32L32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32zm0 256c0-17.7-14.3-32-32-32L32 288c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32zM0 192c0 17.7 14.3 32 32 32l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L32 160c-17.7 0-32 14.3-32 32zM448 448c0-17.7-14.3-32-32-32L32 416c-17.7 0-32 14.3-32 32s14.3 32 32 32l384 0c17.7 0 32-14.3 32-32z"]},faTableColumns={prefix:"fas",iconName:"table-columns",icon:[512,512,["columns"],"f0db","M0 96C0 60.7 28.7 32 64 32l384 0c35.3 0 64 28.7 64 64l0 320c0 35.3-28.7 64-64 64L64 480c-35.3 0-64-28.7-64-64L0 96zm64 64l0 256 160 0 0-256L64 160zm384 0l-160 0 0 256 160 0 0-256z"]},faColumns=faTableColumns,faCaretDown={prefix:"fas",iconName:"caret-down",icon:[320,512,[],"f0d7","M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"]},faDownload={prefix:"fas",iconName:"download",icon:[512,512,[],"f019","M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"]},faXmark={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},faRotate={prefix:"fas",iconName:"rotate",icon:[512,512,[128260,"sync-alt"],"f2f1","M142.9 142.9c-17.5 17.5-30.1 38-37.8 59.8c-5.9 16.7-24.2 25.4-40.8 19.5s-25.4-24.2-19.5-40.8C55.6 150.7 73.2 122 97.6 97.6c87.2-87.2 228.3-87.5 315.8-1L455 55c6.9-6.9 17.2-8.9 26.2-5.2s14.8 12.5 14.8 22.2l0 128c0 13.3-10.7 24-24 24l-8.4 0c0 0 0 0 0 0L344 224c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l41.1-41.1c-62.6-61.5-163.1-61.2-225.3 1zM16 312c0-13.3 10.7-24 24-24l7.6 0 .7 0L168 288c9.7 0 18.5 5.8 22.2 14.8s1.7 19.3-5.2 26.2l-41.1 41.1c62.6 61.5 163.1 61.2 225.3-1c17.5-17.5 30.1-38 37.8-59.8c5.9-16.7 24.2-25.4 40.8-19.5s25.4 24.2 19.5 40.8c-10.8 30.6-28.4 59.3-52.9 83.8c-87.2 87.2-228.3 87.5-315.8 1L57 457c-6.9 6.9-17.2 8.9-26.2 5.2S16 449.7 16 440l0-119.6 0-.7 0-7.6z"]},faMagnifyingGlassPlus={prefix:"fas",iconName:"magnifying-glass-plus",icon:[512,512,["search-plus"],"f00e","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM184 296c0 13.3 10.7 24 24 24s24-10.7 24-24l0-64 64 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-64 0 0-64c0-13.3-10.7-24-24-24s-24 10.7-24 24l0 64-64 0c-13.3 0-24 10.7-24 24s10.7 24 24 24l64 0 0 64z"]},faMagnifyingGlassMinus={prefix:"fas",iconName:"magnifying-glass-minus",icon:[512,512,["search-minus"],"f010","M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM136 184c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"]};library$1.add(faRotate,faMagnifyingGlassPlus,faMagnifyingGlassMinus,faDownload,faColumns,faAlignJustify,faXmark,faComments,faCaretDown);dom$1.watch();const j$g=jQuery;class Window{constructor(e={}){var l;this.options={id:"#scroll-view",title:"ScrollView",css:{height:380,width:380},...e},this.minZ=100,this.viewId=config$1.view,this.id="",this.position=null,this.width=null,this.height=null,this.maximized=!1,this.wasAt=null,this.tabsInitialized=!1,this.drag=!config$1.device.mobile&&!param("kong")&&!param("gui")&&!param("embed")&&!e.nodrag&&!config$1.nodrag,this.doResize=!e.noresize&&!param("embed")&&!config$1.nodrag,this.save=window.user&&window.user.id&&config$1.host&&!config$1.kong&&!param("gui")&&!param("embed"),this.handle=!e.handle&&!e.transparent,this.options.closeable=(l=e.closeable)!=null?l:this.drag,this.options.tabs=e.tabs||[],(config$1.device.touch||param("gui"))&&(this.options.handle=".none"),this.initialize()}initialize(){var l;const e=this.options;e.id=e.id.startsWith("#")?e.id:"#"+e.id,this.id=e.id,log("Window.init: ".concat(this.id)),this.createWindowElement(),this.setupHandle(),this.setTitle(e.title||""),this.setupTransparency(),this.setupButtons(),this.setupEventHandlers(),this.setupStyles(),this.setupResizable(),this.setupPosition(),((l=this.options.tabs)==null?void 0:l.length)>0&&this.setupTabsStructure(),this.bringToFront(!1),j$g(this.options.id).get(0).win=this,Event$1.fire("window_open",this)}createWindowElement(){j$g(".app").prepend('\n      <div id="'.concat(this.id.slice(1),'" class="window ').concat(this.options.class||"",'" >\n        <div class="content"></div>\n      </div>\n    '))}setupHandle(){this.handle?(j$g(this.id).prepend('\n        <div class="handle">\n          <div class="title" style="width: 100%; text-align: center; text-overflow: ellipsis;">\n            '.concat(this.options.title||"&nbsp;",'\n          </div>\n          <div class="toolbar"></div>\n        </div>\n      ')),this.options.handle=".handle"):j$g("".concat(this.id," .content")).css({top:0})}setupTransparency(){this.options.transparent&&(j$g("".concat(this.id," .content")).css({"background-color":"transparent",top:0}),j$g(this.id).css("border","none"),this.options.handle=".content")}setupButtons(){this.options.closeable&&this.addButton({icon:"fa-solid fa-xmark",title:"Close this window",click:()=>{this.options.onClose&&this.options.onClose(),Event$1.fire("window_close",this.id),j$g("".concat(this.id," .nice")).getNiceScroll().remove(),j$g(this.id).remove()}})}addButton(e){const l="btn-".concat(Math.random().toString(36).substr(2,9));j$g("".concat(this.id," .toolbar")).prepend('\n      <a class="toolbar-button '.concat(l,' tip" title="').concat(e.title,'">\n        <i class="').concat(e.icon,'"></i>\n      </a>\n    ')),j$g("".concat(this.id," .").concat(l)).tooltip({container:"body",placement:"bottom",trigger:"hover"}),j$g("".concat(this.id," .").concat(l)).click(e.click)}setupEventHandlers(){j$g(this.id).click(()=>this.bringToFront()),this.setupDraggable(),config$1.Toolbar&&j$g("".concat(this.id," .handle")).dblclick(()=>this.hide())}setupStyles(){j$g(this.id).css({overflow:"hidden"}),this.options.nofront&&j$g(this.id).addClass("nofront"),this.options.nofade&&j$g(this.id).addClass("nofade"),j$g("".concat(this.id," .ui-resizable-handle")).css("z-index",j$g(this.id).css("z-index"))}setupResizable(){this.doResize&&j$g(this.id).resizable({minWidth:60,width:300,handles:"all",stop:(e,l)=>{this.resize(),this.options.onResize&&this.options.onResize(),this.savePosition()}})}setupPosition(){this.getPosition(this.options),j$g(this.id).css(this.options.css),j$g("".concat(this.id," .handle")).length&&j$g("".concat(this.id," .content")).height(j$g(this.id).height()-28)}setupDraggable(e=!1){try{j$g(this.id).draggable("destroy")}catch(l){}if(e||!this.drag){j$g("".concat(this.id," .ui-resizable-handle")).remove();return}j$g(this.id).draggable({handle:this.options.handle||".handle",snap:this.options.snap||!1,iframeFix:this.options.iframe||!1,scroll:!1,cursor:"move",containment:"window",stack:".window",start:(l,c)=>{j$g(this.id).addClass("ui-draggable-dragging"),this.wasAt=c.position},drag:(l,c)=>{const f=j$g(window).width(),h=j$g(window).height(),u=j$g(this.id).width(),m=j$g(this.id).height();c.position.left=Math.max(0,Math.min(c.position.left,f-u)),c.position.top=Math.max(0,Math.min(c.position.top,h-m))},stop:(l,c)=>{j$g(this.id).removeClass("ui-draggable-dragging"),this.savePosition()}}),j$g("".concat(this.id," ").concat(this.options.handle||".handle")).css("cursor","move")}resize(){this.options.onResize&&this.options.onResize();const e=j$g(this.id).height(),l=this.handle?e-18:e;j$g("".concat(this.id," .content")).height(l).width(j$g(this.id).width()),j$g("".concat(this.id," .tab-content")).height(j$g(this.id).height()-j$g("".concat(this.id," .nav-tabs")).height()),j$g("".concat(this.id," .tab-pane")).each(function(){const c=j$g(this);c.parent().width();const f=c.parent().height();let h=f;c.find(".footer")&&(h-=c.find(".footer").height()+4),c.css({height:f,width:"100%"}),c.find(".content").css({height:h,width:"100%"})}),this.renice()}renice(){j$g("".concat(this.id," .nice")).each(function(){j$g(this).getNiceScroll().resize()})}bringToFront(e=!0){if(j$g(this.id).hasClass("nofront"))return;if(config$1.front===this.id){Event$1.fire("window_front",this.id);return}log("Window.front: ".concat(this.id)),j$g(this.id).css("opacity",1);const l=[];if(parseInt(j$g(this.id).css("z-index")),j$g(this.id).siblings().each(function(){j$g(this).hasClass("window")&&(l.push({id:"#"+j$g(this).attr("id"),z:parseInt(j$g(this).css("z-index"))}),j$g(this).hasClass("nofade")||j$g(this).css("opacity",.3))}),!l.length)return log("solo window. no front needed");l.sort((c,f)=>c.z-f.z),l.push({id:this.id,z:0}),l.forEach((c,f)=>{j$g(c.id).css("z-index",this.minZ+f)}),config$1.front=this.id,log("Window.front(ed): ".concat(this.id)),Event$1.fire("window_front",this.id),e&&this.savePosition()}savePosition(){this.save&&(window.user.pref.win||(window.user.pref.win={}),window.user.pref.win[this.viewId]||(window.user.pref.win[this.viewId]={}),j$g(".window").each((e,l)=>{const c=j$g(l),f=c.attr("id"),u={offset:c.offset(),width:c.width(),height:c.height(),zIndex:parseInt(c.css("z-index")),opacity:parseFloat(c.css("opacity")),collapsed:c.is(":visible")?0:1};window.user.pref.win[this.viewId]["#"+f]=u,log("Saving window position: #".concat(f," ").concat(stringify(u)))}),config$1.saveRemotePrefs&&j$g.post("?option=com_portal&task=set_pref",{pref:stringify(window.user.pref)}))}getPosition(e){var m,v;if(!this.save||!window.user.id||!((m=window.user.pref)!=null&&m.win))return!0;log("Restoring saved position: ".concat(e.id));const l=window.user.pref.win,c=Object.keys(l);for(;c.length>20;)log("Trimming window pref length: ".concat(c.length)),delete l[c[0]];if(!((v=l[this.viewId])!=null&&v[e.id]))return log("no stored position for ".concat(e.id)),!0;const f=l[this.viewId][e.id],h=j$g(window).width(),u=j$g(window).height();return f.offset.left=Math.max(0,Math.min(f.offset.left,h-f.width)),f.offset.top=Math.max(0,Math.min(f.offset.top,u-f.height)),e.css={...e.css,left:f.offset.left,top:f.offset.top,width:f.width||e.css.width,height:f.height||e.css.height,zIndex:f.zIndex||e.css.zIndex},delete e.css.right,delete e.css.bottom,f.collapsed&&this.hide(),log(stringify(e)),!1}addTab(e){e.html=e.html||"";const l=this.options.tabs.length;return this.options.tabs.push(e),j$g("".concat(this.id," .content .tabs")).length||this.setupTabsStructure(),this.createTab(e,l),this.initializeTabs(),this.resize(),"".concat(this.id," #tab-").concat(l)}setupTabsStructure(){j$g("".concat(this.id," .content")).prepend('\n      <ul class="tabs nav nav-tabs"></ul>\n      <div class="tab-content"></div>\n    '),j$g("".concat(this.id," .content")).css("background-color","transparent"),j$g("".concat(this.id," .tabs:hover")).css({cursor:"move"}),this.options.handle=".nav-tabs",this.setupDraggable()}setFirstTabActive(){const l=document.querySelectorAll("".concat(this.id,' [data-bs-toggle="tab"]'))[0];if(l){const c=document.querySelector(l.getAttribute("href"));c&&(c.classList.add("active","show"),l.classList.add("active"))}}initializeTabs(){const e=document.querySelectorAll("".concat(this.id,' [data-bs-toggle="tab"]'));e.forEach(l=>{new bootstrap_bundle_minExports.Tab(l),l.addEventListener("click",c=>{c.preventDefault();const f=document.querySelector(l.getAttribute("href"));f&&(document.querySelectorAll("".concat(this.id," .tab-pane")).forEach(h=>{h.classList.remove("active","show")}),f.classList.add("active","show"),e.forEach(h=>h.classList.remove("active")),l.classList.add("active"))})}),this.setFirstTabActive(),this.tabsInitialized=!0}createTab(e,l){const c='\n      <li class="nav-item">\n        <a class="kbutton '.concat(e.id?e.id.replace("#",""):"",'" \n          data-bs-toggle="tab" \n          href="#tab-').concat(l,'"\n          role="tab"\n          aria-controls="tab-').concat(l,'"\n          aria-selected="false">\n          ').concat(e.name,"\n        </a>\n      </li>\n    ");e.before?e.before&&j$g(c).insertBefore(j$g("".concat(this.options.id," .nav-tabs li:first-child"))):j$g("".concat(this.id," .nav-tabs")).append(c),j$g("".concat(this.options.id," .tab-content")).append('\n      <div class="tab-pane fade '.concat(e.class||"",'" \n          id="tab-').concat(l,'"\n          role="tabpanel"\n          aria-labelledby="tab-').concat(l,'-tab">\n        ').concat(e.html||"","\n      </div>")),this.tabsInitialized&&(j$g("".concat(this.id," .nav-tabs .nav-item a")).removeClass("active"),j$g("".concat(this.id," .tab-content .tab-pane")).removeClass("active show"),this.setFirstTabActive());const f=document.querySelector("".concat(this.options.id," #tab-").concat(l," .content"));if(f){const h=new ResizeObserver(()=>{this.resize()});try{h.observe(f)}catch(u){log("Error setting up ResizeObserver:",u)}}if(e.scroll){const h=j$g("".concat(this.options.id," #tab-").concat(l," .content"));h.css({height:"inherit",overflow:"hidden",position:"relative",padding:"0 10px 10px 10px"}),h.addClass("nice").niceScroll({cursorborder:"none",preservenativescrolling:!1,overflowx:!1,railoffset:{top:0,right:0},bouncescroll:!1})}return"".concat(this.id," #tab-").concat(l)}dock(e){const l=this.addTab(e);log("request to dock window: ".concat(e.id," -> ").concat(l)),j$g(e.id).detach().appendTo(l).css({left:0,right:"auto",top:0,bottom:"auto",height:"100%",width:"100%",position:"relative",zIndex:"inherit",borderWidth:0}).removeClass("window");const c=j$g(e.id).get(0).win;return c.draggable(0),c.resize(),c.show(),j$g(e.id).find(".icon-remove").remove(),l}setTitle(e){if(e)this.options.title=e,j$g("".concat(this.id," .title")).html(e);else return this.options.title}maximize(){this.position=j$g(this.id).position(),this.width=j$g(this.id).width(),this.height=j$g(this.id).height();const e=j$g(this.id).parent();return j$g(this.id).css({width:e.width(),height:e.height(),top:0,left:0}),this}show(){return j$g(this.id).show(),Event$1.fire("window_show",this.id),this.bringToFront(),this}hide(){return j$g(this.id).hide(),Event$1.fire("window_hide",this.id),this.savePosition(),this}draggable(e){return this.setupDraggable(e)}}const colors256=["#000","#B00","#0B0","#BB0","#00B","#B0B","#0BB","#BBB","#555","#F55","#5F5","#FF5","#55F","#F5F","#5FF","#FFF","#000","#005","#008","#00B","#00D","#00F","#050","#055","#058","#05B","#05D","#05F","#080","#085","#088","#08B","#08D","#08F","#0B0","#0B5","#0B8","#0BB","#0BD","#0BF","#0D0","#0D5","#0D8","#0DB","#0DD","#0DF","#0F0","#0F5","#0F8","#0FB","#0FD","#0FF","#500","#505","#508","#50B","#50D","#50F","#550","#555","#558","#55B","#55D","#55F","#580","#585","#588","#58B","#58D","#58F","#5B0","#5B5","#5B8","#5BB","#5BD","#5BF","#5D0","#5D5","#5D8","#5DB","#5DD","#5DF","#5F0","#5F5","#5F8","#5FB","#5FD","#5FF","#800","#805","#808","#80B","#80D","#80F","#850","#855","#858","#85B","#85D","#85F","#880","#885","#888","#88B","#88D","#88F","#8B0","#8B5","#8B8","#8BB","#8BD","#8BF","#8D0","#8D5","#8D8","#8DB","#8DD","#8DF","#8F0","#8F5","#8F8","#8FB","#8FD","#8FF","#B00","#B05","#B08","#B0B","#B0D","#B0F","#B50","#B55","#B58","#B5B","#B5D","#B5F","#B80","#B85","#B88","#B8B","#B8D","#B8F","#BB0","#BB5","#BB8","#BBB","#BBD","#BBF","#BD0","#BD5","#BD8","#BDB","#BDD","#BDF","#BF0","#BF5","#BF8","#BFB","#BFD","#BFF","#D00","#D05","#D08","#D0B","#D0D","#D0F","#D50","#D55","#D58","#D5B","#D5D","#D5F","#D80","#D85","#D88","#D8B","#D8D","#D8F","#DB0","#DB5","#DB8","#DBB","#DBD","#DBF","#DD0","#DD5","#DD8","#DDB","#DDD","#DDF","#DF0","#DF5","#DF8","#DFB","#DFD","#DFF","#F00","#F05","#F08","#F0B","#F0D","#F0F","#F50","#F55","#F58","#F5B","#F5D","#F5F","#F80","#F85","#F88","#F8B","#F8D","#F8F","#FB0","#FB5","#FB8","#FBB","#FBD","#FBF","#FD0","#FD5","#FD8","#FDB","#FDD","#FDF","#FF0","#FF5","#FF8","#FFB","#FFD","#FFF","rgb(8,8,8)","rgb(18,18,18)","rgb(28,28,28)","rgb(38,38,38)","rgb(48,48,48)","rgb(58,58,58)","rgb(68,68,68)","rgb(78,78,78)","rgb(88,88,88)","rgb(98,98,98)","rgb(108,108,108)","rgb(118,118,118)","rgb(128,128,128)","rgb(138,138,138)","rgb(148,148,148)","rgb(158,158,158)","rgb(168,168,168)","rgb(178,178,178)","rgb(188,188,188)","rgb(198,198,198)","rgb(208,208,208)","rgb(218,218,218)","rgb(228,228,228)","rgb(238,238,238)"];class Colorize{constructor(){Z(this,"process",e=>e.includes("\x1B")?this.colorize(e):e);this.ansi={30:"#000","1;30":"#6E6E6E",31:"#bf1b00","1;31":"#ff193f",32:"#00ac00","1;32":"#a1e577",33:"#DAA520","1;33":"#f3df00",34:"#1f68d5","1;34":"#3680ee",35:"#a501a7","1;35":"#e100e4",36:"#01c8d4","1;36":"#5bedf6",37:"#dbdbdb","1;37":"#fff; font-weight: bold",39:"#dbdbdb"},this.bgansi={40:"Black","1;40":"DimGray",41:"Red","1;41":"OrangeRed",42:"Green","1;42":"LightGreen,",43:"GoldenRod","1;43":"Gold",44:"Blue","1;44":"LightSkyBlue",45:"DarkOrchid","1;45":"Magenta",46:"Cyan","1;46":"LightCyan",47:"FloralWhite","1;47":"White",49:"Black","1;49":"DimGray"},this.other={"[1m":"<b>","[3m":"<i>","[4m":"<u>","[7m":"","[9m":"<s>","[22m":"</b>","[23m":"</i>","[24m":"</u>","[27m":"","[29m":"</s>"},this.colors256=colors256}prep(e){return e.replace(/\033/g,";").replace(/[m\[]/g,"").split(";").slice(1)}stripANSI(e){return e.replace(/\033\[[0-9;]+?m/g,"")}colorize(e){e.includes("[7m")&&(e=e.replace(/(\033\[.*?)3([0-9])(.*?m)\033\[7m/g,"$14$2$3")),e="<span>"+e,e=e.replace(/\033\[[0;]+m/g,"</span><span>");const l=e.match(/(\033\[[0-9;]+m\033\[[0-9;]+m|\033\[[0-9;]+m)/g);return l?([...new Set(l)].sort((f,h)=>h.length-f.length).forEach(f=>{let h="",u="",m="",v="",_=!1;const b=this.prep(f);b.forEach($=>{$==="1"?m=" font-weight: bold;":$==="3"&&(v=" font-style: italic;")}),b.forEach(($,T)=>{$==="5"?b[T-1]==="38"?(h="color:".concat(this.colors256[parseInt(b[T+1])],";"),_=!0):b[T-1]==="48"&&(u=" background-color:".concat(this.colors256[parseInt(b[T+1])],";"),_=!0):!_&&this.ansi[$]?h="color:".concat(m?this.ansi["1;".concat($)]:this.ansi[$],";"):!_&&this.bgansi[$]&&(u=" background-color:".concat(m?this.bgansi["1;".concat($)]:this.bgansi[$],";"))});let E="</span><span";(h||u||m||v)&&(E+=' style="'.concat(h).concat(u).concat(m).concat(v,'"')),E+=">";const y=new RegExp(f.replace(/\[/g,"\\["),"g");e=e.replace(y,E)}),Object.entries(this.other).forEach(([f,h])=>{const u=new RegExp("\x1B\\".concat(f),"g");e=e.replace(u,h)}),e=e.replace(/\033\[[0-9;]+?m/g,"").replace(/\033\[2J/g,"").replace(/\033\[0c/g,""),e.replace(/<span><\/span>/g,"").replace(/<span>\s*<\/span>/g,"")+"</span>"):e+"</span>"}}var base64alphabet="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Base64Reader(a){this.position=0,this.base64=a,this.bits=0,this.bitsLength=0,this.readByte=function(){if(this.bitsLength==0){for(var e=0;this.position<this.base64.length&&this.bitsLength<24;){var l=this.base64.charAt(this.position);if(++this.position,l>" "){var c=base64alphabet.indexOf(l);if(c<0)throw"Invalid base64 character";if(c<64){if(e>0)throw"Invalid encoding (padding)";this.bits=this.bits<<6|c}else{if(this.bitsLenght<8)throw"Invalid encoding (extra)";this.bits<<=6,e+=6}this.bitsLength+=6}}if(this.position>=this.base64.length){if(this.bitsLength==0)return-1;if(this.bitsLength<24)throw"Invalid encoding (end)"}e==6?e=8:e==12&&(e=16),this.bits=this.bits>>e,this.bitsLength-=e}this.bitsLength-=8;var f=this.bits>>this.bitsLength&255;return f}}function BitReader(a){this.bitsLength=0,this.bits=0,this.reader=a,this.readBit=function(){if(this.bitsLength==0){var e=this.reader.readByte();if(e<0)throw new"Unexpected end of stream";this.bits=e,this.bitsLength=8}var l=(this.bits&1)!=0;return this.bits>>=1,--this.bitsLength,l},this.align=function(){this.bitsLength=0},this.readLSB=function(e){for(var l=0,c=0;c<e;++c)this.readBit()&&(l|=1<<c);return l},this.readMSB=function(e){for(var l=0,c=0;c<e;++c)this.readBit()?l=l<<1|1:l<<=1;return l}}function TextReader(a){this.translator=a,this.unreads=new Array(0),this.readChar=function(){return this.unreads.length>0?this.unreads.pop():a.readChar()},this.unreadChar=function(e){this.unreads.push(e)},this.readToEnd=function(){for(var e="",l="",c=this.readChar();c!=null;)l+=c,l.length>1e3&&(e+=l,l=""),c=this.readChar();return e+l},this.readLine=function(){var e="",l=this.readChar();if(l==null)return null;for(;l!="\r"&&l!="\n";)if(e+=l,l=this.readChar(),l==null)return e;return l=="\r"&&(l=this.readChar(),l!=null&&l!="\n"&&this.unreadChar(l)),e}}function Utf8Translator(a){this.reader=a,this.waitBom=!0,this.pendingChar=null,this.readChar=function(){var e=null;do{if(this.pendingChar!=null)e=this.pendingChar,this.pendingChar=null;else{var l=this.reader.readByte();if(l<0)return null;if((l&128)==0)e=String.fromCharCode(l);else{var c=192,f=5;do{var h=c>>1|128;if((l&h)==c)break;c=c>>1|128,--f}while(f>=0);if(f>0){for(var u=l&(1<<f)-1,m=5;m>=f;--m){var v=this.reader.readByte();if((v&192)!=128)return e=String.fromCharCode(l),this.pendingChar=String.fromCharCode(v),e;u=u<<6|v&63}if(u<=65535)u==65279&&this.waitBom?e=null:e=String.fromCharCode(u);else{var _=u-65536,b=55296|_>>10&1023,E=56320|_&1023;this.pendingChar=String.fromCharCode(E),e=String.fromCharCode(b)}}else return e=String.fromCharCode(l),e}}this.waitBom=!1}while(e==null);return e}}var staticCodes,staticDistances,encodedLengthStart=new Array(3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258),encodedLengthAdditionalBits=new Array(0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0),encodedDistanceStart=new Array(1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577),encodedDistanceAdditionalBits=new Array(0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13),clenMap=new Array(16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15);function buildCodes(a){for(var e=new Array(a.length),l=a[0],c=1;c<a.length;c++)l<a[c]&&(l=a[c]);for(var f=new Array(l+1),c=0;c<=l;c++)f[c]=0;for(var c=0;c<a.length;c++)++f[a[c]];var h=new Array(l+1),u=0;f[0]=0;for(var m=1;m<=l;m++)u=u+f[m-1]<<1,h[m]=u;for(var v=0;v<e.length;v++){var _=a[v];_!=0&&(e[v]=h[_],h[_]++)}return e}function initializeStaticTrees(){for(var a=new Array(288),e=new Array(288),l=0;l<=143;l++)a[l]=48+l,e[l]=8;for(var l=144;l<=255;l++)a[l]=400+l-144,e[l]=9;for(var l=256;l<=279;l++)a[l]=0+l-256,e[l]=7;for(var l=280;l<=287;l++)a[l]=192+l-280,e[l]=8;staticCodes=buildTree(a,e);for(var c=new Array(32),f=new Array(32),l=0;l<=31;l++)c[l]=l,f[l]=5;staticDistances=buildTree(c,f)}function buildTree(a,e){for(var l=new Array(0),c=0;c<a.length;++c)if(e[c]>0){var f=new Object;f.bits=a[c],f.length=e[c],f.index=c,l.push(f)}return buildTreeBranch(l,0,0)}function buildTreeBranch(a,e,l){if(a.length==0)return null;var c=new Array(0),f=new Array(0),h=new Object;h.isLeaf=!1;for(var u=0;u<a.length;++u)if(a[u].length==l&&a[u].bits==e){h.isLeaf=!0,h.index=a[u].index;break}else{var m=(a[u].bits>>a[u].length-l-1&1)>0;m?f.push(a[u]):c.push(a[u])}return h.isLeaf||(h.zero=buildTreeBranch(c,e<<1,l+1),h.one=buildTreeBranch(f,e<<1|1,l+1)),h}function readDynamicTrees(a){for(var e=a.readLSB(5)+257,l=a.readLSB(5)+1,c=a.readLSB(4)+4,f=new Array(19),h=0;h<f.length;++h)f[h]=0;for(var h=0;h<c;++h)f[clenMap[h]]=a.readLSB(3);for(var u=buildCodes(f),m=buildTree(u,f),v=new Array(0);v.length<e+l;){for(var _=m;!_.isLeaf;)_=a.readBit()?_.one:_.zero;var b=_.index;if(b<=15)v.push(b);else if(b==16)for(var E=a.readLSB(2)+3,y=0;y<E;++y)v.push(v[v.length-1]);else if(b==17)for(var E=a.readLSB(3)+3,y=0;y<E;++y)v.push(0);else if(b==18)for(var E=a.readLSB(7)+11,y=0;y<E;++y)v.push(0)}var $=v.slice(0,e),T=buildCodes($),C=v.slice(e,e+l),O=buildCodes(C),D=new Object;return D.codesTree=buildTree(T,$),D.distancesTree=buildTree(O,C),D}function Inflator(a){this.reader=a,this.bitReader=new BitReader(a),this.buffer=new Array(0),this.bufferPosition=0,this.state=0,this.blockFinal=!1,this.readByte=function(){for(;this.bufferPosition>=this.buffer.length;){var e=this.decodeItem();if(e==null)return-1;switch(e.itemType){case 0:this.buffer=this.buffer.concat(e.array);break;case 2:this.buffer.push(e.symbol);break;case 3:for(var l=this.buffer.length-e.distance,c=0;c<e.length;c++)this.buffer.push(this.buffer[l++]);break}}var f=this.buffer[this.bufferPosition++];if(this.bufferPosition>49152){var h=this.buffer.length-32768;h>this.bufferPosition&&(h=this.bufferPosition),this.buffer.splice(0,h),this.bufferPosition-=h}return f},this.decodeItem=function(){if(this.state==2)return null;var e;if(this.state==0){this.blockFinal=this.bitReader.readBit();var l=this.bitReader.readLSB(2);switch(l){case 0:this.bitReader.align();var c=this.bitReader.readLSB(16),f=this.bitReader.readLSB(16);if((c&~f)!=c)throw"Invalid block type 0 length";e=new Object,e.itemType=0,e.array=new Array(c);for(var h=0;h<c;++h){var u=this.reader.readByte();if(u<0)throw"Uncomplete block";e.array[h]=u}return this.blockFinal&&(this.state=2),e;case 1:this.codesTree=staticCodes,this.distancesTree=staticDistances,this.state=1;break;case 2:var m=readDynamicTrees(this.bitReader);this.codesTree=m.codesTree,this.distancesTree=m.distancesTree,this.state=1;break;default:throw new"Invalid block type (3)"}}e=new Object;for(var v=this.codesTree;!v.isLeaf;)v=this.bitReader.readBit()?v.one:v.zero;if(v.index<256)e.itemType=2,e.symbol=v.index;else if(v.index>256){var _=v.index;if(_>285)throw new"Invalid length code";var b=encodedLengthStart[_-257];for(encodedLengthAdditionalBits[_-257]>0&&(b+=this.bitReader.readLSB(encodedLengthAdditionalBits[_-257])),v=this.distancesTree;!v.isLeaf;)v=this.bitReader.readBit()?v.one:v.zero;var E=v.index,y=encodedDistanceStart[E];encodedDistanceAdditionalBits[E]>0&&(y+=this.bitReader.readLSB(encodedDistanceAdditionalBits[E])),e.itemType=3,e.distance=y,e.length=b}else e.itemType=1,this.state=this.blockFinal?2:0;return e}}initializeStaticTrees();function CharReader(a){this.position=0,this.arr=a,this.readByte=function(){return this.position>=this.arr.length?-1:this.arr.charCodeAt([this.position++])}}var ZLIB=ZLIB||{};typeof ZLIB.common_initialized>"u"&&(ZLIB.Z_NO_FLUSH=0,ZLIB.Z_PARTIAL_FLUSH=1,ZLIB.Z_SYNC_FLUSH=2,ZLIB.Z_FULL_FLUSH=3,ZLIB.Z_FINISH=4,ZLIB.Z_BLOCK=5,ZLIB.Z_TREES=6,ZLIB.Z_OK=0,ZLIB.Z_STREAM_END=1,ZLIB.Z_NEED_DICT=2,ZLIB.Z_ERRNO=-1,ZLIB.Z_STREAM_ERROR=-2,ZLIB.Z_DATA_ERROR=-3,ZLIB.Z_MEM_ERROR=-4,ZLIB.Z_BUF_ERROR=-5,ZLIB.Z_VERSION_ERROR=-6,ZLIB.Z_DEFLATED=8,ZLIB.z_stream=function(){this.next_in=0,this.avail_in=0,this.total_in=0,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=null,this.state=null,this.data_type=0,this.adler=0,this.input_data="",this.output_data="",this.error=0,this.checksum_function=null},ZLIB.gz_header=function(){this.text=0,this.time=0,this.xflags=0,this.os=255,this.extra=null,this.extra_len=0,this.extra_max=0,this.name=null,this.name_max=0,this.comment=null,this.comm_max=0,this.hcrc=0,this.done=0},ZLIB.common_initialized=!0);typeof ZLIB>"u"&&alert("ZLIB is not defined.  SRC zlib.js before zlib-inflate.js");(function(){var DEF_WBITS=15,HEAD=0,FLAGS=1,TIME=2,OS=3,EXLEN=4,EXTRA=5,NAME=6,COMMENT=7,HCRC=8,DICTID=9,DICT=10,TYPE=11,TYPEDO=12,STORED=13,COPY_=14,COPY=15,TABLE=16,LENLENS=17,CODELENS=18,LEN_=19,LEN=20,LENEXT=21,DIST=22,DISTEXT=23,MATCH=24,LIT=25,CHECK=26,LENGTH=27,DONE=28,BAD=29,MEM=30,SYNC=31,ENOUGH_LENS=852,ENOUGH_DISTS=592,ENOUGH=ENOUGH_LENS+ENOUGH_DISTS,CODES=0,LENS=1,DISTS=2,inflate_table_lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],inflate_table_lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,203,69],inflate_table_dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],inflate_table_dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ZLIB.inflate_copyright=" inflate 1.2.6 Copyright 1995-2012 Mark Adler ";function inflate_table(a,e){var l=15,c=a.next,f=e==DISTS?a.distbits:a.lenbits,h=a.work,u=a.lens,m=e==DISTS?a.nlen:0,v=a.codes,_;e==LENS?_=a.nlen:e==DISTS?_=a.ndist:_=19;var b,E,y,$,T,C,O,D,R,k,I,N,M,H,B,F,z,V,U,W,X,K=new Array(l+1),Y=new Array(l+1);for(b=0;b<=l;b++)K[b]=0;for(E=0;E<_;E++)K[u[m+E]]++;for(T=f,$=l;$>=1&&K[$]==0;$--);if(T>$&&(T=$),$==0)return B={op:64,bits:1,val:0},v[c++]=B,v[c++]=B,e==DISTS?a.distbits=1:a.lenbits=1,a.next=c,0;for(y=1;y<$&&K[y]==0;y++);for(T<y&&(T=y),D=1,b=1;b<=l;b++)if(D<<=1,D-=K[b],D<0)return-1;if(D>0&&(e==CODES||$!=1))return a.next=c,-1;for(Y[1]=0,b=1;b<l;b++)Y[b+1]=Y[b]+K[b];for(E=0;E<_;E++)u[m+E]!=0&&(h[Y[u[m+E]]++]=E);switch(e){case CODES:z=U=h,V=0,W=0,X=19;break;case LENS:z=inflate_table_lbase,V=-257,U=inflate_table_lext,W=-257,X=256;break;default:z=inflate_table_dbase,U=inflate_table_dext,V=0,W=0,X=-1}if(k=0,E=0,b=y,F=c,C=T,O=0,M=-1,R=1<<T,H=R-1,e==LENS&&R>=ENOUGH_LENS||e==DISTS&&R>=ENOUGH_DISTS)return a.next=c,1;for(;;){B={op:0,bits:b-O,val:0},h[E]<X?B.val=h[E]:h[E]>X?(B.op=U[W+h[E]],B.val=z[V+h[E]]):B.op=96,I=1<<b-O,N=1<<C,y=N;do N-=I,v[F+(k>>>O)+N]=B;while(N!=0);for(I=1<<b-1;k&I;)I>>>=1;if(I!=0?(k&=I-1,k+=I):k=0,E++,--K[b]==0){if(b==$)break;b=u[m+h[E]]}if(b>T&&(k&H)!=M){for(O==0&&(O=T),F+=y,C=b-O,D=1<<C;C+O<$&&(D-=K[C+O],!(D<=0));)C++,D<<=1;if(R+=1<<C,e==LENS&&R>=ENOUGH_LENS||e==DISTS&&R>=ENOUGH_DISTS)return a.next=c,1;M=k&H,v[c+M]={op:C,bits:T,val:F-c}}}return k!=0&&(v[F+k]={op:64,bits:b-O,val:0}),a.next=c+R,e==DISTS?a.distbits=T:a.lenbits=T,0}function inflate_fast(a,e){var l,c,f,h,u,m,v,_,b,E,y,$,T,C,O,D,R,k,I,N,M,H,B=-1,F=-1;l=a.state,c=a.input_data,f=a.next_in,h=f+a.avail_in-5,u=a.next_out,m=u-(e-a.avail_out),v=u+(a.avail_out-257),_=l.wsize,b=l.whave,E=l.wnext,y=l.window,$=l.hold,T=l.bits,C=l.codes,O=l.lencode,D=l.distcode,R=(1<<l.lenbits)-1,k=(1<<l.distbits)-1;t:do{T<15&&($+=(c.charCodeAt(f++)&255)<<T,T+=8,$+=(c.charCodeAt(f++)&255)<<T,T+=8),I=C[O+($&R)];e:for(;;){if(N=I.bits,$>>>=N,T-=N,N=I.op,N==0)a.output_data+=String.fromCharCode(I.val),u++;else if(N&16){M=I.val,N&=15,N&&(T<N&&($+=(c.charCodeAt(f++)&255)<<T,T+=8),M+=$&(1<<N)-1,$>>>=N,T-=N),T<15&&($+=(c.charCodeAt(f++)&255)<<T,T+=8,$+=(c.charCodeAt(f++)&255)<<T,T+=8),I=C[D+($&k)];i:for(;;){if(N=I.bits,$>>>=N,T-=N,N=I.op,N&16){if(H=I.val,N&=15,T<N&&($+=(c.charCodeAt(f++)&255)<<T,T+=8,T<N&&($+=(c.charCodeAt(f++)&255)<<T,T+=8)),H+=$&(1<<N)-1,$>>>=N,T-=N,N=u-m,H>N){if(N=H-N,N>b&&l.sane){a.msg="invalid distance too far back",l.mode=BAD;break t}B=0,F=-1,E==0?(B+=_-N,N<M&&(M-=N,a.output_data+=y.substring(B,B+N),u+=N,N=0,B=-1,F=u-H)):(B+=E-N,N<M&&(M-=N,a.output_data+=y.substring(B,B+N),u+=N,B=-1,F=u-H))}else B=-1,F=u-H;if(B>=0)a.output_data+=y.substring(B,B+M),u+=M,B+=M;else{var z=M;for(z>u-F&&(z=u-F),a.output_data+=a.output_data.substring(F,F+z),u+=z,M-=z,F+=z,u+=M;M>2;)a.output_data+=a.output_data.charAt(F++),a.output_data+=a.output_data.charAt(F++),a.output_data+=a.output_data.charAt(F++),M-=3;M&&(a.output_data+=a.output_data.charAt(F++),M>1&&(a.output_data+=a.output_data.charAt(F++)))}}else if((N&64)==0){I=C[D+(I.val+($&(1<<N)-1))];continue i}else{a.msg="invalid distance code",l.mode=BAD;break t}break i}}else if((N&64)==0){I=C[O+(I.val+($&(1<<N)-1))];continue e}else if(N&32){l.mode=TYPE;break t}else{a.msg="invalid literal/length code",l.mode=BAD;break t}break e}}while(f<h&&u<v);M=T>>>3,f-=M,T-=M<<3,$&=(1<<T)-1,a.next_in=f,a.next_out=u,a.avail_in=f<h?5+(h-f):5-(f-h),a.avail_out=u<v?257+(v-u):257-(u-v),l.hold=$,l.bits=T}function new_array(a){var e,l=new Array(a);for(e=0;e<a;e++)l[e]=0;return l}function getarg(a,e,l){return a&&e in a?a[e]:l}function checksum_none(){return 0}function inflate_state(){var a;this.mode=0,this.last=0,this.wrap=0,this.havedict=0,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=0,this.distcode=0,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=0,this.lens=new_array(320),this.work=new_array(288),this.codes=new Array(ENOUGH);var e={op:0,bits:0,val:0};for(a=0;a<ENOUGH;a++)this.codes[a]=e;this.sane=0,this.back=0,this.was=0}ZLIB.inflateResetKeep=function(a){var e;return!a||!a.state?ZLIB.Z_STREAM_ERROR:(e=a.state,a.total_in=a.total_out=e.total=0,a.msg=null,e.wrap&&(a.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=0,e.distcode=0,e.next=0,e.sane=1,e.back=-1,ZLIB.Z_OK)},ZLIB.inflateReset=function(a,e){var l,c;return!a||!a.state||(c=a.state,typeof e>"u"&&(e=DEF_WBITS),e<0?(l=0,e=-e):(l=(e>>>4)+1,e<48&&(e&=15)),l==1&&typeof ZLIB.adler32=="function"?a.checksum_function=ZLIB.adler32:l==2&&typeof ZLIB.crc32=="function"?a.checksum_function=ZLIB.crc32:a.checksum_function=checksum_none,e&&(e<8||e>15))?ZLIB.Z_STREAM_ERROR:(c.window&&c.wbits!=e&&(c.window=null),c.wrap=l,c.wbits=e,c.wsize=0,c.whave=0,c.wnext=0,ZLIB.inflateResetKeep(a))},ZLIB.inflateInit=function(a){var e=new ZLIB.z_stream;return e.state=new inflate_state,ZLIB.inflateReset(e,a),e},ZLIB.inflatePrime=function(a,e,l){var c;return!a||!a.state?ZLIB.Z_STREAM_ERROR:(c=a.state,e<0?(c.hold=0,c.bits=0,ZLIB.Z_OK):e>16||c.bits+e>32?ZLIB.Z_STREAM_ERROR:(l&=(1<<e)-1,c.hold+=l<<c.bits,c.bits+=e,ZLIB.Z_OK))};var lenfix_ary=null,lenfix_def="([    {op:96,bits:7,val:0},{op:0,bits:8,val:80},{op:0,bits:8,val:16},{op:20,bits:8,val:115},{op:18,bits:7,val:31},{op:0,bits:8,val:112},{op:0,bits:8,val:48},    {op:0,bits:9,val:192},{op:16,bits:7,val:10},{op:0,bits:8,val:96},{op:0,bits:8,val:32},{op:0,bits:9,val:160},{op:0,bits:8,val:0},{op:0,bits:8,val:128},    {op:0,bits:8,val:64},{op:0,bits:9,val:224},{op:16,bits:7,val:6},{op:0,bits:8,val:88},{op:0,bits:8,val:24},{op:0,bits:9,val:144},{op:19,bits:7,val:59},    {op:0,bits:8,val:120},{op:0,bits:8,val:56},{op:0,bits:9,val:208},{op:17,bits:7,val:17},{op:0,bits:8,val:104},{op:0,bits:8,val:40},{op:0,bits:9,val:176},    {op:0,bits:8,val:8},{op:0,bits:8,val:136},{op:0,bits:8,val:72},{op:0,bits:9,val:240},{op:16,bits:7,val:4},{op:0,bits:8,val:84},{op:0,bits:8,val:20},    {op:21,bits:8,val:227},{op:19,bits:7,val:43},{op:0,bits:8,val:116},{op:0,bits:8,val:52},{op:0,bits:9,val:200},{op:17,bits:7,val:13},{op:0,bits:8,val:100},    {op:0,bits:8,val:36},{op:0,bits:9,val:168},{op:0,bits:8,val:4},{op:0,bits:8,val:132},{op:0,bits:8,val:68},{op:0,bits:9,val:232},{op:16,bits:7,val:8},    {op:0,bits:8,val:92},{op:0,bits:8,val:28},{op:0,bits:9,val:152},{op:20,bits:7,val:83},{op:0,bits:8,val:124},{op:0,bits:8,val:60},{op:0,bits:9,val:216},    {op:18,bits:7,val:23},{op:0,bits:8,val:108},{op:0,bits:8,val:44},{op:0,bits:9,val:184},{op:0,bits:8,val:12},{op:0,bits:8,val:140},{op:0,bits:8,val:76},    {op:0,bits:9,val:248},{op:16,bits:7,val:3},{op:0,bits:8,val:82},{op:0,bits:8,val:18},{op:21,bits:8,val:163},{op:19,bits:7,val:35},{op:0,bits:8,val:114},    {op:0,bits:8,val:50},{op:0,bits:9,val:196},{op:17,bits:7,val:11},{op:0,bits:8,val:98},{op:0,bits:8,val:34},{op:0,bits:9,val:164},{op:0,bits:8,val:2},    {op:0,bits:8,val:130},{op:0,bits:8,val:66},{op:0,bits:9,val:228},{op:16,bits:7,val:7},{op:0,bits:8,val:90},{op:0,bits:8,val:26},{op:0,bits:9,val:148},    {op:20,bits:7,val:67},{op:0,bits:8,val:122},{op:0,bits:8,val:58},{op:0,bits:9,val:212},{op:18,bits:7,val:19},{op:0,bits:8,val:106},{op:0,bits:8,val:42},    {op:0,bits:9,val:180},{op:0,bits:8,val:10},{op:0,bits:8,val:138},{op:0,bits:8,val:74},{op:0,bits:9,val:244},{op:16,bits:7,val:5},{op:0,bits:8,val:86},    {op:0,bits:8,val:22},{op:64,bits:8,val:0},{op:19,bits:7,val:51},{op:0,bits:8,val:118},{op:0,bits:8,val:54},{op:0,bits:9,val:204},{op:17,bits:7,val:15},    {op:0,bits:8,val:102},{op:0,bits:8,val:38},{op:0,bits:9,val:172},{op:0,bits:8,val:6},{op:0,bits:8,val:134},{op:0,bits:8,val:70},{op:0,bits:9,val:236},    {op:16,bits:7,val:9},{op:0,bits:8,val:94},{op:0,bits:8,val:30},{op:0,bits:9,val:156},{op:20,bits:7,val:99},{op:0,bits:8,val:126},{op:0,bits:8,val:62},    {op:0,bits:9,val:220},{op:18,bits:7,val:27},{op:0,bits:8,val:110},{op:0,bits:8,val:46},{op:0,bits:9,val:188},{op:0,bits:8,val:14},{op:0,bits:8,val:142},    {op:0,bits:8,val:78},{op:0,bits:9,val:252},{op:96,bits:7,val:0},{op:0,bits:8,val:81},{op:0,bits:8,val:17},{op:21,bits:8,val:131},{op:18,bits:7,val:31},    {op:0,bits:8,val:113},{op:0,bits:8,val:49},{op:0,bits:9,val:194},{op:16,bits:7,val:10},{op:0,bits:8,val:97},{op:0,bits:8,val:33},{op:0,bits:9,val:162},    {op:0,bits:8,val:1},{op:0,bits:8,val:129},{op:0,bits:8,val:65},{op:0,bits:9,val:226},{op:16,bits:7,val:6},{op:0,bits:8,val:89},{op:0,bits:8,val:25},    {op:0,bits:9,val:146},{op:19,bits:7,val:59},{op:0,bits:8,val:121},{op:0,bits:8,val:57},{op:0,bits:9,val:210},{op:17,bits:7,val:17},{op:0,bits:8,val:105},    {op:0,bits:8,val:41},{op:0,bits:9,val:178},{op:0,bits:8,val:9},{op:0,bits:8,val:137},{op:0,bits:8,val:73},{op:0,bits:9,val:242},{op:16,bits:7,val:4},    {op:0,bits:8,val:85},{op:0,bits:8,val:21},{op:16,bits:8,val:258},{op:19,bits:7,val:43},{op:0,bits:8,val:117},{op:0,bits:8,val:53},{op:0,bits:9,val:202},    {op:17,bits:7,val:13},{op:0,bits:8,val:101},{op:0,bits:8,val:37},{op:0,bits:9,val:170},{op:0,bits:8,val:5},{op:0,bits:8,val:133},{op:0,bits:8,val:69},    {op:0,bits:9,val:234},{op:16,bits:7,val:8},{op:0,bits:8,val:93},{op:0,bits:8,val:29},{op:0,bits:9,val:154},{op:20,bits:7,val:83},{op:0,bits:8,val:125},    {op:0,bits:8,val:61},{op:0,bits:9,val:218},{op:18,bits:7,val:23},{op:0,bits:8,val:109},{op:0,bits:8,val:45},{op:0,bits:9,val:186},{op:0,bits:8,val:13},    {op:0,bits:8,val:141},{op:0,bits:8,val:77},{op:0,bits:9,val:250},{op:16,bits:7,val:3},{op:0,bits:8,val:83},{op:0,bits:8,val:19},{op:21,bits:8,val:195},    {op:19,bits:7,val:35},{op:0,bits:8,val:115},{op:0,bits:8,val:51},{op:0,bits:9,val:198},{op:17,bits:7,val:11},{op:0,bits:8,val:99},{op:0,bits:8,val:35},    {op:0,bits:9,val:166},{op:0,bits:8,val:3},{op:0,bits:8,val:131},{op:0,bits:8,val:67},{op:0,bits:9,val:230},{op:16,bits:7,val:7},{op:0,bits:8,val:91},    {op:0,bits:8,val:27},{op:0,bits:9,val:150},{op:20,bits:7,val:67},{op:0,bits:8,val:123},{op:0,bits:8,val:59},{op:0,bits:9,val:214},{op:18,bits:7,val:19},    {op:0,bits:8,val:107},{op:0,bits:8,val:43},{op:0,bits:9,val:182},{op:0,bits:8,val:11},{op:0,bits:8,val:139},{op:0,bits:8,val:75},{op:0,bits:9,val:246},    {op:16,bits:7,val:5},{op:0,bits:8,val:87},{op:0,bits:8,val:23},{op:64,bits:8,val:0},{op:19,bits:7,val:51},{op:0,bits:8,val:119},{op:0,bits:8,val:55},    {op:0,bits:9,val:206},{op:17,bits:7,val:15},{op:0,bits:8,val:103},{op:0,bits:8,val:39},{op:0,bits:9,val:174},{op:0,bits:8,val:7},{op:0,bits:8,val:135},    {op:0,bits:8,val:71},{op:0,bits:9,val:238},{op:16,bits:7,val:9},{op:0,bits:8,val:95},{op:0,bits:8,val:31},{op:0,bits:9,val:158},{op:20,bits:7,val:99},    {op:0,bits:8,val:127},{op:0,bits:8,val:63},{op:0,bits:9,val:222},{op:18,bits:7,val:27},{op:0,bits:8,val:111},{op:0,bits:8,val:47},{op:0,bits:9,val:190},    {op:0,bits:8,val:15},{op:0,bits:8,val:143},{op:0,bits:8,val:79},{op:0,bits:9,val:254},{op:96,bits:7,val:0},{op:0,bits:8,val:80},{op:0,bits:8,val:16},    {op:20,bits:8,val:115},{op:18,bits:7,val:31},{op:0,bits:8,val:112},{op:0,bits:8,val:48},{op:0,bits:9,val:193},{op:16,bits:7,val:10},{op:0,bits:8,val:96},    {op:0,bits:8,val:32},{op:0,bits:9,val:161},{op:0,bits:8,val:0},{op:0,bits:8,val:128},{op:0,bits:8,val:64},{op:0,bits:9,val:225},{op:16,bits:7,val:6},    {op:0,bits:8,val:88},{op:0,bits:8,val:24},{op:0,bits:9,val:145},{op:19,bits:7,val:59},{op:0,bits:8,val:120},{op:0,bits:8,val:56},{op:0,bits:9,val:209},    {op:17,bits:7,val:17},{op:0,bits:8,val:104},{op:0,bits:8,val:40},{op:0,bits:9,val:177},{op:0,bits:8,val:8},{op:0,bits:8,val:136},{op:0,bits:8,val:72},    {op:0,bits:9,val:241},{op:16,bits:7,val:4},{op:0,bits:8,val:84},{op:0,bits:8,val:20},{op:21,bits:8,val:227},{op:19,bits:7,val:43},{op:0,bits:8,val:116},    {op:0,bits:8,val:52},{op:0,bits:9,val:201},{op:17,bits:7,val:13},{op:0,bits:8,val:100},{op:0,bits:8,val:36},{op:0,bits:9,val:169},{op:0,bits:8,val:4},    {op:0,bits:8,val:132},{op:0,bits:8,val:68},{op:0,bits:9,val:233},{op:16,bits:7,val:8},{op:0,bits:8,val:92},{op:0,bits:8,val:28},{op:0,bits:9,val:153},    {op:20,bits:7,val:83},{op:0,bits:8,val:124},{op:0,bits:8,val:60},{op:0,bits:9,val:217},{op:18,bits:7,val:23},{op:0,bits:8,val:108},{op:0,bits:8,val:44},    {op:0,bits:9,val:185},{op:0,bits:8,val:12},{op:0,bits:8,val:140},{op:0,bits:8,val:76},{op:0,bits:9,val:249},{op:16,bits:7,val:3},{op:0,bits:8,val:82},    {op:0,bits:8,val:18},{op:21,bits:8,val:163},{op:19,bits:7,val:35},{op:0,bits:8,val:114},{op:0,bits:8,val:50},{op:0,bits:9,val:197},{op:17,bits:7,val:11},    {op:0,bits:8,val:98},{op:0,bits:8,val:34},{op:0,bits:9,val:165},{op:0,bits:8,val:2},{op:0,bits:8,val:130},{op:0,bits:8,val:66},{op:0,bits:9,val:229},    {op:16,bits:7,val:7},{op:0,bits:8,val:90},{op:0,bits:8,val:26},{op:0,bits:9,val:149},{op:20,bits:7,val:67},{op:0,bits:8,val:122},{op:0,bits:8,val:58},    {op:0,bits:9,val:213},{op:18,bits:7,val:19},{op:0,bits:8,val:106},{op:0,bits:8,val:42},{op:0,bits:9,val:181},{op:0,bits:8,val:10},{op:0,bits:8,val:138},    {op:0,bits:8,val:74},{op:0,bits:9,val:245},{op:16,bits:7,val:5},{op:0,bits:8,val:86},{op:0,bits:8,val:22},{op:64,bits:8,val:0},{op:19,bits:7,val:51},    {op:0,bits:8,val:118},{op:0,bits:8,val:54},{op:0,bits:9,val:205},{op:17,bits:7,val:15},{op:0,bits:8,val:102},{op:0,bits:8,val:38},{op:0,bits:9,val:173},    {op:0,bits:8,val:6},{op:0,bits:8,val:134},{op:0,bits:8,val:70},{op:0,bits:9,val:237},{op:16,bits:7,val:9},{op:0,bits:8,val:94},{op:0,bits:8,val:30},    {op:0,bits:9,val:157},{op:20,bits:7,val:99},{op:0,bits:8,val:126},{op:0,bits:8,val:62},{op:0,bits:9,val:221},{op:18,bits:7,val:27},{op:0,bits:8,val:110},    {op:0,bits:8,val:46},{op:0,bits:9,val:189},{op:0,bits:8,val:14},{op:0,bits:8,val:142},{op:0,bits:8,val:78},{op:0,bits:9,val:253},{op:96,bits:7,val:0},    {op:0,bits:8,val:81},{op:0,bits:8,val:17},{op:21,bits:8,val:131},{op:18,bits:7,val:31},{op:0,bits:8,val:113},{op:0,bits:8,val:49},{op:0,bits:9,val:195},    {op:16,bits:7,val:10},{op:0,bits:8,val:97},{op:0,bits:8,val:33},{op:0,bits:9,val:163},{op:0,bits:8,val:1},{op:0,bits:8,val:129},{op:0,bits:8,val:65},    {op:0,bits:9,val:227},{op:16,bits:7,val:6},{op:0,bits:8,val:89},{op:0,bits:8,val:25},{op:0,bits:9,val:147},{op:19,bits:7,val:59},{op:0,bits:8,val:121},    {op:0,bits:8,val:57},{op:0,bits:9,val:211},{op:17,bits:7,val:17},{op:0,bits:8,val:105},{op:0,bits:8,val:41},{op:0,bits:9,val:179},{op:0,bits:8,val:9},    {op:0,bits:8,val:137},{op:0,bits:8,val:73},{op:0,bits:9,val:243},{op:16,bits:7,val:4},{op:0,bits:8,val:85},{op:0,bits:8,val:21},{op:16,bits:8,val:258},    {op:19,bits:7,val:43},{op:0,bits:8,val:117},{op:0,bits:8,val:53},{op:0,bits:9,val:203},{op:17,bits:7,val:13},{op:0,bits:8,val:101},{op:0,bits:8,val:37},    {op:0,bits:9,val:171},{op:0,bits:8,val:5},{op:0,bits:8,val:133},{op:0,bits:8,val:69},{op:0,bits:9,val:235},{op:16,bits:7,val:8},{op:0,bits:8,val:93},    {op:0,bits:8,val:29},{op:0,bits:9,val:155},{op:20,bits:7,val:83},{op:0,bits:8,val:125},{op:0,bits:8,val:61},{op:0,bits:9,val:219},{op:18,bits:7,val:23},    {op:0,bits:8,val:109},{op:0,bits:8,val:45},{op:0,bits:9,val:187},{op:0,bits:8,val:13},{op:0,bits:8,val:141},{op:0,bits:8,val:77},{op:0,bits:9,val:251},    {op:16,bits:7,val:3},{op:0,bits:8,val:83},{op:0,bits:8,val:19},{op:21,bits:8,val:195},{op:19,bits:7,val:35},{op:0,bits:8,val:115},{op:0,bits:8,val:51},    {op:0,bits:9,val:199},{op:17,bits:7,val:11},{op:0,bits:8,val:99},{op:0,bits:8,val:35},{op:0,bits:9,val:167},{op:0,bits:8,val:3},{op:0,bits:8,val:131},    {op:0,bits:8,val:67},{op:0,bits:9,val:231},{op:16,bits:7,val:7},{op:0,bits:8,val:91},{op:0,bits:8,val:27},{op:0,bits:9,val:151},{op:20,bits:7,val:67},    {op:0,bits:8,val:123},{op:0,bits:8,val:59},{op:0,bits:9,val:215},{op:18,bits:7,val:19},{op:0,bits:8,val:107},{op:0,bits:8,val:43},{op:0,bits:9,val:183},    {op:0,bits:8,val:11},{op:0,bits:8,val:139},{op:0,bits:8,val:75},{op:0,bits:9,val:247},{op:16,bits:7,val:5},{op:0,bits:8,val:87},{op:0,bits:8,val:23},    {op:64,bits:8,val:0},{op:19,bits:7,val:51},{op:0,bits:8,val:119},{op:0,bits:8,val:55},{op:0,bits:9,val:207},{op:17,bits:7,val:15},{op:0,bits:8,val:103},    {op:0,bits:8,val:39},{op:0,bits:9,val:175},{op:0,bits:8,val:7},{op:0,bits:8,val:135},{op:0,bits:8,val:71},{op:0,bits:9,val:239},{op:16,bits:7,val:9},    {op:0,bits:8,val:95},{op:0,bits:8,val:31},{op:0,bits:9,val:159},{op:20,bits:7,val:99},{op:0,bits:8,val:127},{op:0,bits:8,val:63},{op:0,bits:9,val:223},    {op:18,bits:7,val:27},{op:0,bits:8,val:111},{op:0,bits:8,val:47},{op:0,bits:9,val:191},{op:0,bits:8,val:15},{op:0,bits:8,val:143},{op:0,bits:8,val:79},    {op:0,bits:9,val:255}])",distfix_ary=null,distfix_def="([    {op:16,bits:5,val:1},{op:23,bits:5,val:257},{op:19,bits:5,val:17},{op:27,bits:5,val:4097},{op:17,bits:5,val:5},{op:25,bits:5,val:1025},    {op:21,bits:5,val:65},{op:29,bits:5,val:16385},{op:16,bits:5,val:3},{op:24,bits:5,val:513},{op:20,bits:5,val:33},{op:28,bits:5,val:8193},    {op:18,bits:5,val:9},{op:26,bits:5,val:2049},{op:22,bits:5,val:129},{op:64,bits:5,val:0},{op:16,bits:5,val:2},{op:23,bits:5,val:385},    {op:19,bits:5,val:25},{op:27,bits:5,val:6145},{op:17,bits:5,val:7},{op:25,bits:5,val:1537},{op:21,bits:5,val:97},{op:29,bits:5,val:24577},    {op:16,bits:5,val:4},{op:24,bits:5,val:769},{op:20,bits:5,val:49},{op:28,bits:5,val:12289},{op:18,bits:5,val:13},{op:26,bits:5,val:3073},    {op:22,bits:5,val:193},{op:64,bits:5,val:0}])";function fixedtables(state){var i;for(lenfix_ary||(lenfix_ary=eval(lenfix_def)),distfix_ary||(distfix_ary=eval(distfix_def)),state.lencode=0,state.distcode=512,i=0;i<512;i++)state.codes[i]=lenfix_ary[i];for(i=0;i<32;i++)state.codes[i+512]=distfix_ary[i];state.lenbits=9,state.distbits=5}function updatewindow(a){var e=a.state,l=a.output_data.length;return e.window===null&&(e.window=""),e.wsize==0&&(e.wsize=1<<e.wbits),l>=e.wsize?e.window=a.output_data.substring(l-e.wsize):e.whave+l<e.wsize?e.window+=a.output_data:e.window=e.window.substring(e.whave-(e.wsize-l))+a.output_data,e.whave=e.window.length,e.whave<e.wsize?e.wnext=e.whave:e.wnext=0,0}function CRC2(a,e){var l=[e&255,e>>>8&255];a.state.check=a.checksum_function(a.state.check,l,0,2)}function CRC4(a,e){var l=[e&255,e>>>8&255,e>>>16&255,e>>>24&255];a.state.check=a.checksum_function(a.state.check,l,0,4)}function LOAD(a,e){return e.strm=a,e.left=a.avail_out,e.next=a.next_in,e.have=a.avail_in,e.hold=a.state.hold,e.bits=a.state.bits,e}function RESTORE(a){var e=a.strm;e.next_in=a.next,e.avail_out=a.left,e.avail_in=a.have,e.state.hold=a.hold,e.state.bits=a.bits}function INITBITS(a){a.hold=0,a.bits=0}function PULLBYTE(a){return a.have==0?!1:(a.have--,a.hold+=(a.strm.input_data.charCodeAt(a.next++)&255)<<a.bits,a.bits+=8,!0)}function NEEDBITS(a,e){for(;a.bits<e;)if(!PULLBYTE(a))return!1;return!0}function BITS(a,e){return a.hold&(1<<e)-1}function DROPBITS(a,e){a.hold>>>=e,a.bits-=e}function BYTEBITS(a){a.hold>>>=a.bits&7,a.bits-=a.bits&7}function REVERSE(a){return(a>>>24&255)+(a>>>8&65280)+((a&65280)<<8)+((a&255)<<24)}var inflate_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];ZLIB.inflate=function(a,e){var l,c,f,h,u,m=-1,v=-1,_,b,E,y;if(!a||!a.state||!a.input_data&&a.avail_in!=0)return ZLIB.Z_STREAM_ERROR;l=a.state,l.mode==TYPE&&(l.mode=TYPEDO),c={},LOAD(a,c),f=c.have,h=c.left,y=ZLIB.Z_OK;t:for(;;)switch(l.mode){case HEAD:if(l.wrap==0){l.mode=TYPEDO;break}if(!NEEDBITS(c,16))break t;if(l.wrap&2&&c.hold==35615){l.check=a.checksum_function(0,null,0,0),CRC2(a,c.hold),INITBITS(c),l.mode=FLAGS;break}if(l.flags=0,l.head!==null&&(l.head.done=-1),!(l.wrap&1)||((BITS(c,8)<<8)+(c.hold>>>8))%31){a.msg="incorrect header check",l.mode=BAD;break}if(BITS(c,4)!=ZLIB.Z_DEFLATED){a.msg="unknown compression method",l.mode=BAD;break}if(DROPBITS(c,4),E=BITS(c,4)+8,l.wbits==0)l.wbits=E;else if(E>l.wbits){a.msg="invalid window size",l.mode=BAD;break}l.dmax=1<<E,a.adler=l.check=a.checksum_function(0,null,0,0),l.mode=c.hold&512?DICTID:TYPE,INITBITS(c);break;case FLAGS:if(!NEEDBITS(c,16))break t;if(l.flags=c.hold,(l.flags&255)!=ZLIB.Z_DEFLATED){a.msg="unknown compression method",l.mode=BAD;break}if(l.flags&57344){a.msg="unknown header flags set",l.mode=BAD;break}l.head!==null&&(l.head.text=c.hold>>>8&1),l.flags&512&&CRC2(a,c.hold),INITBITS(c),l.mode=TIME;case TIME:if(!NEEDBITS(c,32))break t;l.head!==null&&(l.head.time=c.hold),l.flags&512&&CRC4(a,c.hold),INITBITS(c),l.mode=OS;case OS:if(!NEEDBITS(c,16))break t;l.head!==null&&(l.head.xflags=c.hold&255,l.head.os=c.hold>>>8),l.flags&512&&CRC2(a,c.hold),INITBITS(c),l.mode=EXLEN;case EXLEN:if(l.flags&1024){if(!NEEDBITS(c,16))break t;l.length=c.hold,l.head!==null&&(l.head.extra_len=c.hold),l.flags&512&&CRC2(a,c.hold),INITBITS(c),l.head.extra=""}else l.head!==null&&(l.head.extra=null);l.mode=EXTRA;case EXTRA:if(l.flags&1024&&(u=l.length,u>c.have&&(u=c.have),u&&(l.head!==null&&l.head.extra!==null&&(E=l.head.extra_len-l.length,l.head.extra+=a.input_data.substring(c.next,c.next+(E+u>l.head.extra_max?l.head.extra_max-E:u))),l.flags&512&&(l.check=a.checksum_function(l.check,a.input_data,c.next,u)),c.have-=u,c.next+=u,l.length-=u),l.length))break t;l.length=0,l.mode=NAME;case NAME:if(l.flags&2048){if(c.have==0)break t;l.head!==null&&l.head.name===null&&(l.head.name=""),u=0;do{if(E=a.input_data.charAt(c.next+u),u++,E==="\0")break;l.head!==null&&l.length<l.head.name_max&&(l.head.name+=E,l.length++)}while(u<c.have);if(l.flags&512&&(l.check=a.checksum_function(l.check,a.input_data,c.next,u)),c.have-=u,c.next+=u,E!=="\0")break t}else l.head!==null&&(l.head.name=null);l.length=0,l.mode=COMMENT;case COMMENT:if(l.flags&4096){if(c.have==0)break t;u=0,l.head!==null&&l.head.comment===null&&(l.head.comment="");do{if(E=a.input_data.charAt(c.next+u),u++,E==="\0")break;l.head!==null&&l.length<l.head.comm_max&&(l.head.comment+=E,l.length++)}while(u<c.have);if(l.flags&512&&(l.check=a.checksum_function(l.check,a.input_data,c.next,u)),c.have-=u,c.next+=u,E!=="\0")break t}else l.head!==null&&(l.head.comment=null);l.mode=HCRC;case HCRC:if(l.flags&512){if(!NEEDBITS(c,16))break t;if(c.hold!=(l.check&65535)){a.msg="header crc mismatch",l.mode=BAD;break}INITBITS(c)}l.head!==null&&(l.head.hcrc=l.flags>>>9&1,l.head.done=1),a.adler=l.check=a.checksum_function(0,null,0,0),l.mode=TYPE;break;case DICTID:if(!NEEDBITS(c,32))break t;a.adler=l.check=REVERSE(c.hold),INITBITS(c),l.mode=DICT;case DICT:if(l.havedict==0)return RESTORE(c),ZLIB.Z_NEED_DICT;a.adler=l.check=a.checksum_function(0,null,0,0),l.mode=TYPE;case TYPE:if(e==ZLIB.Z_BLOCK||e==ZLIB.Z_TREES)break t;case TYPEDO:if(l.last){BYTEBITS(c),l.mode=CHECK;break}if(!NEEDBITS(c,3))break t;switch(l.last=BITS(c,1),DROPBITS(c,1),BITS(c,2)){case 0:l.mode=STORED;break;case 1:if(fixedtables(l),l.mode=LEN_,e==ZLIB.Z_TREES){DROPBITS(c,2);break t}break;case 2:l.mode=TABLE;break;case 3:a.msg="invalid block type",l.mode=BAD}DROPBITS(c,2);break;case STORED:if(BYTEBITS(c),!NEEDBITS(c,32))break t;if((c.hold&65535)!=(c.hold>>>16&65535^65535)){a.msg="invalid stored block lengths",l.mode=BAD;break}if(l.length=c.hold&65535,INITBITS(c),l.mode=COPY_,e==ZLIB.Z_TREES)break t;case COPY_:l.mode=COPY;case COPY:if(u=l.length,u){if(u>c.have&&(u=c.have),u>c.left&&(u=c.left),u==0)break t;a.output_data+=a.input_data.substring(c.next,c.next+u),a.next_out+=u,c.have-=u,c.next+=u,c.left-=u,l.length-=u;break}l.mode=TYPE;break;case TABLE:if(!NEEDBITS(c,14))break t;if(l.nlen=BITS(c,5)+257,DROPBITS(c,5),l.ndist=BITS(c,5)+1,DROPBITS(c,5),l.ncode=BITS(c,4)+4,DROPBITS(c,4),l.nlen>286||l.ndist>30){a.msg="too many length or distance symbols",l.mode=BAD;break}l.have=0,l.mode=LENLENS;case LENLENS:for(;l.have<l.ncode;){if(!NEEDBITS(c,3))break t;var $=BITS(c,3);l.lens[inflate_order[l.have++]]=$,DROPBITS(c,3)}for(;l.have<19;)l.lens[inflate_order[l.have++]]=0;if(l.next=0,l.lencode=0,l.lenbits=7,y=inflate_table(l,CODES),y){a.msg="invalid code lengths set",l.mode=BAD;break}l.have=0,l.mode=CODELENS;case CODELENS:for(;l.have<l.nlen+l.ndist;){for(;_=l.codes[l.lencode+BITS(c,l.lenbits)],!(_.bits<=c.bits);)if(!PULLBYTE(c))break t;if(_.val<16)DROPBITS(c,_.bits),l.lens[l.have++]=_.val;else{if(_.val==16){if(!NEEDBITS(c,_.bits+2))break t;if(DROPBITS(c,_.bits),l.have==0){a.msg="invalid bit length repeat",l.mode=BAD;break}E=l.lens[l.have-1],u=3+BITS(c,2),DROPBITS(c,2)}else if(_.val==17){if(!NEEDBITS(c,_.bits+3))break t;DROPBITS(c,_.bits),E=0,u=3+BITS(c,3),DROPBITS(c,3)}else{if(!NEEDBITS(c,_.bits+7))break t;DROPBITS(c,_.bits),E=0,u=11+BITS(c,7),DROPBITS(c,7)}if(l.have+u>l.nlen+l.ndist){a.msg="invalid bit length repeat",l.mode=BAD;break}for(;u--;)l.lens[l.have++]=E}}if(l.mode==BAD)break;if(l.lens[256]==0){a.msg="invalid code -- missing end-of-block",l.mode=BAD;break}if(l.next=0,l.lencode=l.next,l.lenbits=9,y=inflate_table(l,LENS),y){a.msg="invalid literal/lengths set",l.mode=BAD;break}if(l.distcode=l.next,l.distbits=6,y=inflate_table(l,DISTS),y){a.msg="invalid distances set",l.mode=BAD;break}if(l.mode=LEN_,e==ZLIB.Z_TREES)break t;case LEN_:l.mode=LEN;case LEN:if(c.have>=6&&c.left>=258){RESTORE(c),inflate_fast(a,h),LOAD(a,c),l.mode==TYPE&&(l.back=-1);break}for(l.back=0;_=l.codes[l.lencode+BITS(c,l.lenbits)],!(_.bits<=c.bits);)if(!PULLBYTE(c))break t;if(_.op&&(_.op&240)==0){for(b=_;_=l.codes[l.lencode+b.val+(BITS(c,b.bits+b.op)>>>b.bits)],!(b.bits+_.bits<=c.bits);)if(!PULLBYTE(c))break t;DROPBITS(c,b.bits),l.back+=b.bits}if(DROPBITS(c,_.bits),l.back+=_.bits,l.length=_.val,_.op==0){l.mode=LIT;break}if(_.op&32){l.back=-1,l.mode=TYPE;break}if(_.op&64){a.msg="invalid literal/length code",l.mode=BAD;break}l.extra=_.op&15,l.mode=LENEXT;case LENEXT:if(l.extra){if(!NEEDBITS(c,l.extra))break t;l.length+=BITS(c,l.extra),DROPBITS(c,l.extra),l.back+=l.extra}l.was=l.length,l.mode=DIST;case DIST:for(;_=l.codes[l.distcode+BITS(c,l.distbits)],!(_.bits<=c.bits);)if(!PULLBYTE(c))break t;if((_.op&240)==0){for(b=_;_=l.codes[l.distcode+b.val+(BITS(c,b.bits+b.op)>>>b.bits)],!(b.bits+_.bits<=c.bits);)if(!PULLBYTE(c))break t;DROPBITS(c,b.bits),l.back+=b.bits}if(DROPBITS(c,_.bits),l.back+=_.bits,_.op&64){a.msg="invalid distance code",l.mode=BAD;break}l.offset=_.val,l.extra=_.op&15,l.mode=DISTEXT;case DISTEXT:if(l.extra){if(!NEEDBITS(c,l.extra))break t;l.offset+=BITS(c,l.extra),DROPBITS(c,l.extra),l.back+=l.extra}l.mode=MATCH;case MATCH:if(c.left==0)break t;if(u=h-c.left,l.offset>u){if(u=l.offset-u,u>l.whave&&l.sane){a.msg="invalid distance too far back",l.mode=BAD;break}u>l.wnext?(u-=l.wnext,m=l.wsize-u,v=-1):(m=l.wnext-u,v=-1),u>l.length&&(u=l.length)}else m=-1,v=a.next_out-l.offset,u=l.length;if(u>c.left&&(u=c.left),c.left-=u,l.length-=u,m>=0)a.output_data+=l.window.substring(m,m+u),a.next_out+=u,u=0;else{a.next_out+=u;do a.output_data+=a.output_data.charAt(v++);while(--u)}l.length==0&&(l.mode=LEN);break;case LIT:if(c.left==0)break t;a.output_data+=String.fromCharCode(l.length),a.next_out++,c.left--,l.mode=LEN;break;case CHECK:if(l.wrap){if(!NEEDBITS(c,32))break t;if(h-=c.left,a.total_out+=h,l.total+=h,h&&(a.adler=l.check=a.checksum_function(l.check,a.output_data,a.output_data.length-h,h)),h=c.left,(l.flags?c.hold:REVERSE(c.hold))!=l.check){a.msg="incorrect data check",l.mode=BAD;break}INITBITS(c)}l.mode=LENGTH;case LENGTH:if(l.wrap&&l.flags){if(!NEEDBITS(c,32))break t;if(c.hold!=(l.total&4294967295)){a.msg="incorrect length check",l.mode=BAD;break}INITBITS(c)}l.mode=DONE;case DONE:y=ZLIB.Z_STREAM_END;break t;case BAD:y=ZLIB.Z_DATA_ERROR;break t;case MEM:return ZLIB.Z_MEM_ERROR;case SYNC:default:return ZLIB.Z_STREAM_ERROR}return RESTORE(c),(l.wsize||h!=a.avail_out&&l.mode<BAD&&(l.mode<CHECK||e!=ZLIB.Z_FINISH))&&updatewindow(a),f-=a.avail_in,h-=a.avail_out,a.total_in+=f,a.total_out+=h,l.total+=h,l.wrap&&h&&(a.adler=l.check=a.checksum_function(l.check,a.output_data,0,a.output_data.length)),a.data_type=l.bits+(l.last?64:0)+(l.mode==TYPE?128:0)+(l.mode==LEN_||l.mode==COPY_?256:0),(f==0&&h==0||e==ZLIB.Z_FINISH)&&y==ZLIB.Z_OK&&(y=ZLIB.Z_BUF_ERROR),y},ZLIB.inflateEnd=function(a){var e;return!a||!a.state?ZLIB.Z_STREAM_ERROR:(e=a.state,e.window=null,a.state=null,ZLIB.Z_OK)},ZLIB.z_stream.prototype.inflate=function(a,e){var l,c,f=16384;this.input_data=a,this.next_in=getarg(e,"next_in",0),this.avail_in=getarg(e,"avail_in",a.length-this.next_in),l=getarg(e,"flush",ZLIB.Z_SYNC_FLUSH),c=getarg(e,"avail_out",-1);var h="";do{if(this.avail_out=c>=0?c:f,this.output_data="",this.next_out=0,this.error=ZLIB.inflate(this,l),c>=0)return this.output_data;if(h+=this.output_data,this.avail_out>0)break}while(this.error==ZLIB.Z_OK);return h},ZLIB.z_stream.prototype.inflateReset=function(a){return ZLIB.inflateReset(this,a)}})();class Socket{constructor(e){Z(this,"handleOpen",e=>{var l;log("Socket: connected"),this.connected=!0,!this.options.proxy&&this.options.type==="telnet"&&this.ws.send(stringify({host:this.options.host,port:this.options.port,utf8:1,mxp:1,connect:1,mccp:config$1.device.mobile?0:1,debug:config$1.debug,client:this.options.client,ttype:this.options.ttype,name:((l=window.user)==null?void 0:l.username)||"Guest"})),this.options.onOpen&&this.options.onOpen(e),this.options.type==="telnet"&&Event$1.fire("socket_open",this),Event$1.fire("".concat(this.options.type,"_open"),this)});Z(this,"handleClose",e=>{Event$1.fire("socket_before_close",this),this.ws.close(),this.connected=!1,this.zlibState.lib=!1,this.zlibState.stream&&ZLIB.inflateEnd(this.zlibState.stream),this.out&&this.out.add('<br><span style="color: green;">Remote server has disconnected. Refresh page to reconnect.</span><br>'),this.options.onClose&&this.options.onClose(e),Event$1.fire("socket_close",this),Event$1.fire("".concat(this.options.type,"_close"),this),log("Socket: closed")});Z(this,"handleError",()=>{var e;(e=this.out)==null||e.add('<span style="font-size: 12px; color: red;">Error: telnet proxy may be down.</span><br>')});Z(this,"handleMessage",e=>{if(this.options.type==="chat"){log("Socket.onMessage chat_data"),Event$1.fire("".concat(this.options.type,"_data"),e.data);return}let l=e.data;Event$1.q.socket_data&&(l=Event$1.fire("socket_data",l,this),!l)||this.processIncomingData(l)});var l,c;this.options={type:"telnet",...e},this.ws={},this.out=e.out||config$1.ScrollView,this.connected=!1,this.proxy=config$1.proxy,this.host=e.host,this.port=e.port,this.buffer="",this.zlibState={lib:null,stream:null,raw:null},this.utf8=!1,this.colorize=new Colorize,this.commands=[],this.commandIndex=0,this.keepCommand=(l=config$1.getSetting("keepcom"))!=null?l:!0,(c=this.proxy)!=null&&c.includes("maldorne")&&delete this.options.proxy,this.initializeSocket(),this.options.type==="telnet"&&(config$1.socket=config$1.Socket=this)}async processIncomingData(e){if(log("process incoming data",e),e instanceof Blob)try{e=await new Promise((u,m)=>{const v=new FileReader;v.onload=()=>u(v.result),v.onerror=()=>m(v.error),v.readAsText(e)})}catch(h){log("Error reading Blob:",h);return}if(config$1.uncompressed)return this.buffer+=e,this.process();if(config$1.base64){try{var l=new Base64Reader(e),c=new Utf8Translator(l),f=new TextReader(c);this.buffer+=f.readToEnd()}catch(h){log("Attempt to base64-decode failed:",h),this.buffer+=e}return this.process()}if(!this.zlibState.lib)try{let h=new Base64Reader(e),u=new Inflator(h),m=new Utf8Translator(u),v=new TextReader(m);this.buffer+=v.readToEnd()}catch(h){this.zlibState.lib=1,log("Attempting zlib stream decompression (MCCP).")}if(this.zlibState.lib)try{let h,u=new Base64Reader(e);for(this.zlibState.raw="";(h=u.readByte())!=-1;)this.zlibState.raw+=String.fromCharCode(h);this.zlibState.stream||(this.zlibState.stream=ZLIB.inflateInit()),this.zlibState.raw=this.zlibState.stream.inflate(this.zlibState.raw);let m=new CharReader(this.zlibState.raw),v=new Utf8Translator(m),_=new TextReader(v);this.buffer+=_.readToEnd()}catch(h){log("ZLIB processing failed:",h)}this.process()}initializeSocket(){log("Socket: setting websocket proxy to ".concat(this.proxy)),log("Socket: connecting"),this.ws=new WebSocket(this.proxy),this.ws.onopen=this.handleOpen,this.ws.onclose=this.handleClose,this.ws.onmessage=this.handleMessage,this.ws.onerror=this.handleError,window.onbeforeunload=()=>{this.ws.onclose=null,this.ws.close()}}send(e){var l;if(e=e.trim(),e=Event$1.fire("before_send",e,this),!e.includes("macro")&&!e.includes("alias")&&!e.includes("trig")&&config$1.separator.length){const c=new RegExp(config$1.separator,"g");e=e.replace(c,"\r\n")}return this.ws.send&&this.connected?((l=this.out)==null||l.echo(e),config$1.useMuProtocol&&(e=MU_CHANNELS.TEXT+e),log("Socket.send: ".concat(e)),this.ws.send(e+"\r\n")):this.out&&this.out.add('<span style="font-size: 12px; color: green;">WARNING: please connect first.<br></span>'),this}sendBinary(e){return this.connected?(log("Socket.sendBin: ".concat(e)),this.ws.send(stringify({bin:e})),this):(log("attempt to sendBin before socket connect"),this)}sendMSDP(e){return this.connected?(log("Socket.sendMSDP: ".concat(stringify(e))),this.ws.send(stringify({msdp:e})),this):(log("attempt to sendMSDP before socket connect"),this)}sendGMCP(e){return this.connected?(this.ws.send(stringify({gmcp:e})),this):(log("attempt to sendGMCP before socket connect"),this)}process(e=!1){if(!this.buffer.length)return;let l=this.buffer;this.buffer="",l=this.prepareContent(l,e),l&&(this.out.add(l),Event$1.fire("after_display",l))}prepareContent(e,l=!1){var f,h,u,m,v;let c=e;if(c.match(/\xff\xfa[^\xff\xf0\x01]+$/)&&!l){log("protocol split protection waiting for more input."),this.buffer=c,setTimeout(()=>this.process(!0),1e3);return}if((f=config$1.mxp)!=null&&f.enabled){const _=c.match(/\x1b\[[1-7]z/g);if(_&&_.length%2&&!l){log("mxp split protection waiting for more input: "+_.length),log(c),this.buffer=c;return}}if(c.match(/\x1b\[[^mz]+$/)&&!l){log("ansi split protection is waiting for more input."),this.buffer=c,setTimeout(()=>this.process(!0),500);return}if(c.match(/<dest/i)&&!l&&(!c.match(/<\/dest/i)||((h=c.match(/<dest/gi))==null?void 0:h.length)!==((u=c.match(/<\/dest/gi))==null?void 0:u.length))){this.buffer=c;return}if(c=Event$1.fire("before_process",c),config$1.useMuProtocol){if(c.startsWith(MU_CHANNELS.TEXT))c=c.substring(MU_CHANNELS.TEXT.length);else if(c.startsWith(MU_CHANNELS.JSON)){c=c.substring(MU_CHANNELS.JSON.length),Event$1.fire("gmcp",c);return}else if(c.startsWith(MU_CHANNELS.PUEBLO)){c=c.substring(MU_CHANNELS.PUEBLO.length),Event$1.fire("pueblo",c);return}}if(c.includes("ÿûE")&&(log("Got IAC WILL MSDP"),Event$1.fire("will_msdp",this),c=c.replace(/\xff\xfb\x45/,"")),c.includes("ÿûÉ")&&(log("Got IAC WILL GMCP"),Event$1.fire("will_gmcp",this),c=c.replace(/\xff\xfb\xc9/,"")),c.includes("ÿúE")){const _=c.match(/\xff\xfaE([^]+?)\xff\xf0/gm);if(_!=null&&_.length)for(let b=0;b<_.length;b++){let E=_[b].substring(4,_[b].length-2);log("detected & parsing msdp: "),E=E.replace("//g","MSDP_VAL").replace("//g","MSDP_TABLE_OPEN").replace("//g","MSDP_TABLE_CLOSE").replace("//g","MSDP_ARRAY_OPEN").replace("//g","MSDP_ARRAY_CLOSE").split(""),log(E),Event$1.fire("msdp",E),c=c.replace(_[b],"")}}if(!this.utf8&&c.includes("ÿú* UTF-8ÿð")&&(this.utf8=!0,log("UTF-8 enabled."),c=c.replace(/ÿú.. UTF-8../,"")),c.includes("ÿúÉ")){const _=c.match(/\xff\xfa\xc9([^]+?)\xff\xf0/gm);if(_!=null&&_.length)for(let b=0;b<_.length;b++){const E=_[b].substring(3,_[b].length-2);log("detected gmcp"),Event$1.fire("gmcp",E),c=c.replace(_[b],"")}if(c.includes("ÿúÉ"))return this.buffer=c,""}if(c.includes("ÿúÈ")){const _=c.match(/\xff\xfa\xc8([^]+?)\xff\xf0/gm);if(_!=null&&_.length)for(let b=0;b<_.length;b++){const E=_[b].substring(3,_[b].length-2);log("detected atcp:"+E),Event$1.fire("atcp",E),c=c.replace(_[b],"")}}if(c.includes("ÿû[")&&config$1.base64&&this.ws.send("ÿý["),c.includes("ÿû")&&(log("IAC WILL ECHO"),(m=config$1.ScrollView)==null||m.echoOff(),c=c.replace(/\xff.\x01/g,"")),c.includes("ÿü")&&(log("IAC WONT ECHO"),(v=config$1.ScrollView)==null||v.echoOn(),c=c.replace(/\xff.\x01/g,"")),c=Event$1.fire("internal_mxp",c),c=Event$1.fire("after_protocols",c,this),c.includes("")&&config$1.debug){log("Unhandled IAC sequence:");const _=Array.from(c).map(b=>b.charCodeAt(0));log(_)}return c.includes("\x07")&&new Audio("/app/sound/ding.mp3").play(),c=c.replace(/([^\x1b])</g,"$1&lt;").replace(/([^\x1b])>/g,"$1&gt;").replace(/\x1b>/g,">").replace(/\x1b</g,"<"),c=Event$1.fire("before_html",c,this),c=c.replace(/([^"'])(http.*:\/\/[^\s\x1b"']+)/g,'$1<a href="$2" target="_blank">$2</a>'),c=Event$1.fire("internal_colorize",c,this),c=c.replace(/\xff\xfa.+\xff\xf0/g,"").replace(/\xff(\xfa|\xfb|\xfc|\xfd|\xfe)./g,"").replace(/\x07/g,"").replace(/\x1b\[1;1/g,"").replace(/([ÿùïð])/g,"").replace(/\x1b\[[A-Z0-9]/gi,"").replace(";0;37","").replace(/\uFFFF/gi,"").replace(/\n\r/g,"\n").replace(/\r\n/g,"\n"),c.match(/^\x1b+$/)?"":Event$1.fire("before_display",c)}reconnect(){this.connected&&(this.ws.onclose=null,this.ws.close()),this.buffer="",config$1.mxp.disable(),this.initializeSocket()}type(){return this.options.type}write(e){this.connected&&(log("Socket.write: ".concat(e)),this.send(e))}getProxy(){return this.proxy}getSocket(){return this.ws}connected(){return this.connected}echo(e){this.out&&this.out.echo(e)}}Z(Socket,"PROTOCOL",{IS:0,REQUEST:1,ACCEPTED:2,REJECTED:3,TTYPE:24,ESC:33,CHARSET:42,MCCP2:86,MSDP:69,MXP:91,WILL:251,ATCP:200,GMCP:201,SE:240,SB:250,WONT:252,DO:253,DONT:254,IAC:255});const j$f=jQuery;class MacroPane{constructor(e={}){Z(this,"sub",e=>this.processCommand(e));if(!config$1.macros)return;this.options={...e},this.id="#macro-pane",this.socket=config$1.socket,this.host=config$1.host,this.port=config$1.port,this.buttons=[],this.first=!0;const{sitelist:l,profiles:c}=window.user.pref;this.gMacros=null,this.pMacros=null;for(const f of Object.values(l))if(f.host===this.host){this.gMacros=f.macros;break}c&&c[param("profile")]&&(this.pMacros=c[param("profile")].macros),this.exposeToConfig()}initialize(){var l;let e=!1;this.buttons=[],this.gMacros&&this.gMacros.forEach(c=>{this.buttons.push(c),c[3]&&(e=!0)}),this.pMacros&&this.pMacros.forEach(c=>{this.buttons.push(c),c[3]&&(e=!0)}),this.socket.echo("Loaded ".concat(this.buttons.length," macros.")),e&&!((l=this.options)!=null&&l.noquickbuttons)&&this.createPane(),this.first=!1}createPane(){config$1.device.mobile||(j$f(this.id).remove(),this.buttons.length&&(this.win=new Window({id:this.id,title:"Quick Buttons",closeable:!0,class:"nofade",css:{width:200,height:400,top:160,left:j$f(window).width()-220,zIndex:4}}),j$f("".concat(this.id," .content")).append('<ul class="macro-btns"></ul>'),this.buttons.forEach(([e,l,c,f])=>{c&&f&&!l.includes("$")&&j$f("".concat(this.id," .content .macro-btns")).append('\n          <li class="kbutton macro-btn tip" \n              data="'.concat(l,'" \n              title="').concat(l,'">\n            ').concat(e,"\n          </li>\n        "))}),this.first&&(j$f("".concat(this.id," .content .macro-btns")).sortable(),j$f("body").on("click",".macro-btn",e=>{this.socket.send(j$f(e.currentTarget).attr("data"))}))))}replaceVariables(e){return this.buttons.reduce((l,[c,f,h])=>{if(c[0]==="$"&&h){const u=new RegExp("\\"+c,"g");log(u);const m=l.replace(u,f);return log("MacroPane: var replacement: ".concat(stringify([c,f,h]))),log(m),m}return l},e)}processCommand(e){if(!config$1.macros)return e;log("MacroPane.sub: ".concat(this.buttons.length));for(const[l,c,f]of this.buttons){if(!f||!e.includes(l))continue;if(!c.includes("$")){const m=new RegExp("^"+l,"g");return e.replace(m,c)}if(c.includes("$*")){const[,...m]=e.split(" ");return c.replace("$*",m.join(" "))}if(!c.includes(" "))continue;const h=e.split(" ");if(h[0]!==l)continue;let u=c;return h.slice(1).forEach((m,v)=>{u=u.replace("$".concat(v+1),m,"g"),log(u)}),this.replaceVariables(u)}return e}exposeToConfig(){config$1.MacroPane=this,setTimeout(()=>{Event$1.fire("macropane_ready",this)},500)}}class TriggerHappy{constructor(e){this.host=config$1.host,this.port=config$1.port,this.triggers=[],this.gTriggers=[],this.pTriggers=[];const{sitelist:l,profiles:c}=window.user.pref;this.init(l,c)}init(e,l){if(this.setupFirstTimeEvents(),!config$1.triggers){log("Triggers disabled by official code.");return}this.loadGameTriggers(e),this.loadProfileTriggers(l),this.compileTriggers(),this.notifyTriggerCount()}setupFirstTimeEvents(){config$1.onfirst&&Event$1.listen("before_process",e=>{if(!config$1.onfirst)return e;const l=config$1.onfirst.split(";");return l.length>1&&e.includes(l[0])&&(l.slice(1).forEach((c,f)=>{setTimeout(()=>{config$1.socket.write("".concat(c,"\r\n")),config$1.socket.echo("\n")},(f+1)*600)}),log("sending onfirst text"),delete config$1.onfirst),e})}loadGameTriggers(e){const l=Object.values(e).find(c=>c.host===this.host);l&&(this.gTriggers=l.triggers||[])}loadProfileTriggers(e){const l=param("profile");e!=null&&e[l]&&(this.pTriggers=e[l].triggers||[])}compileTriggers(){this.triggers=[...this.gTriggers.filter(e=>e[2]),...this.pTriggers.filter(e=>e[2])],this.triggers.forEach(e=>{try{e[3]=new RegExp(e[0].replace(/\$[0-9]/g,"([A-Za-z0-9-'\"]+)"),"g")}catch(l){log("Error compiling trigger regex: ".concat(l))}})}notifyTriggerCount(){const e=this.gTriggers.length+this.pTriggers.length,l=this.triggers.length;config$1.socket.echo("Loaded ".concat(l,"/").concat(e," triggers."))}respond(e){if(!config$1.triggers)return e;for(const l of this.triggers){const[c,f,h,u]=l,m=u.exec(e);if(!(m!=null&&m.length))return;let v=f;m.length>1&&m.slice(1).forEach((_,b)=>{v=v.replace("$".concat(b+1),_,"g")}),config$1.socket.send(v)}return e}}const j$e=jQuery;class ScrollView{constructor(e={}){Z(this,"echoOff",()=>this.options.echo=!1);Z(this,"echoOn",()=>this.options.echo=!0);var l;this.options={css:{width:config$1.width,height:config$1.height,top:config$1.top,left:config$1.left},local:1,scrollback:30*1e3,...e},this.id="#scroll-view",this.ws={},this.sesslog="",this.freeze=null,this.mobile=config$1.device.mobile,this.touch=config$1.device.touch,this.multi=null,this.cmds=[],this.cmdi=0,this.keepcom=(l=config$1.getSetting("keepcom"))!=null?l:!0,config$1.kong&&(this.options.css.height=j$e(window).height()-3),this.options.local=config$1.getSetting("echo")==null||config$1.getSetting("echo")==!0,this.options.echo=this.options.echo||!0,this.initializeWindow(),this.setupButtons(),this.setupContent(),this.setupEventListeners(),this.initializeSocket()}initializeWindow(){this.win=new Window({id:this.id,css:this.options.css,class:"scroll-view nofade",master:!config$1.notrack,closeable:config$1.controlPanel,drag:this.options.drag,snap:this.options.snap}),this.mobile&&(j$e("#page").css({background:"none no-repeat fixed 0 0 #000000",margin:"0px auto"}),j$e("body").css({width:"100%",height:"100%",overflow:"auto"}),this.win.maximize()),this.touch&&j$e(this.id).css({top:0,left:0})}setupButtons(){this.win.addButton({title:"Reconnect",icon:"fa-solid fa-rotate",click:()=>{this.echo("Attempting to reconnect..."),config$1.socket.reconnect()}}),this.win.addButton({title:"Increase the font size",icon:"fa-solid fa-magnifying-glass-plus",click:e=>{const l=j$e("".concat(this.id," .out")),c=parseInt(l.css("fontSize"));return l.css({fontSize:"".concat(c+1,"px"),lineHeight:"".concat(c+6,"px")}),l.scrollTop(l.prop("scrollHeight")),e.stopPropagation(),!1}}),this.win.addButton({title:"Decrease the font size",icon:"fa-solid fa-magnifying-glass-minus",click:e=>{const l=j$e("".concat(this.id," .out")),c=parseInt(l.css("fontSize"));return l.css({fontSize:"".concat(c-1,"px"),lineHeight:"".concat(c+4,"px")}),l.scrollTop(l.prop("scrollHeight")),e.stopPropagation(),!1}}),this.win.addButton({title:"Download a session log",icon:"fa-solid fa-download",click:e=>{const l=new Blob([this.sesslog],{type:"text/plain;charset=utf-8"});return FileSaver_minExports.saveAs(l,"log-".concat(config$1.host,"-").concat(new Date().toISOString().split("T")[0],".txt")),e.stopPropagation(),!1}}),this.win.addButton({title:"Toggle a freezepane",icon:"fa-solid fa-columns",click:e=>this.toggleFreezepane(e)})}toggleFreezepane(e){var f;const l=j$e("".concat(this.id," .out")),c=j$e("".concat(this.id," .freeze"));if(c.length)try{(f=this.freeze)==null||f.remove(),c.remove(),l.width("98%"),l.scrollTop(l.prop("scrollHeight"))}catch(h){log(h)}else l.after('<div class="freeze">'.concat(l.html(),"</div>")),l.width("52%"),this.freeze=j$e("".concat(this.id," .freeze")).niceScroll({cursorwidth:7,cursorborder:"none"}),j$e("".concat(this.id," .freeze")).scrollTop(j$e("".concat(this.id," .freeze")).prop("scrollHeight")),l.scrollTop(l.prop("scrollHeight"));return e.stopPropagation(),!1}setupContent(){const e=config$1.getSetting("spellcheck");j$e("".concat(this.id," .content")).html('\n      <div class="out nice"></div>\n      <div class="input">\n        <input class="send" \n               autocomplete="on" \n               autocorrect="off" \n               autocapitalize="off" \n               spellcheck="'.concat(e?"true":"false",'"\n               placeholder="type a command..." \n               aria-live="polite"/>\n      </div>\n    ')),this.mobile?j$e("".concat(this.id," .out")).css({"font-family":"DejaVu Sans Mono","font-size":"11px",height:"90%"}):this.setupDesktopFeatures(),j$e("".concat(this.id," .out")).niceScroll({cursorwidth:7,cursorborder:"none",railoffset:{top:-2,left:-2}})}setupDesktopFeatures(){const e="multiline-".concat(Math.random().toString(36).substr(2,9));j$e("".concat(this.id," .input")).append('\n      <a class="kbutton multiline tip '.concat(e,'" \n         title="Send multi-line text" \n         style="height: 21px;position: relative;top: 1px;display: inline-block;padding: 0px 8px !important;;">\n        <i class="fa-solid fa-align-justify"></i>\n      </a>\n    ')),this.setupMultilineInput(),this.setupAutocomplete()}setupMultilineInput(){const e=(l,c="")=>{const f=config$1.getSetting("spellcheck");return new Modal({title:"Multi-Line Input",text:'<textarea class="multitext" autocorrect="off" autocapitalize="off" spellcheck="'.concat(f?"true":"false",'">')+c+"</textarea>",closeable:!0,showOk:!1,buttons:[{text:"Send",handler:()=>{j$e(".multitext").val().split("\n").forEach((u,m)=>{setTimeout(()=>{config$1.Socket.write(u)},100*(m+1))})}},{text:"Cancel"}]}),j$e(".modal").on("shown.bs.modal",()=>{j$e(".multitext").focus()}),l&&l.stopPropagation(),!1};j$e(this.id).on("click",".multiline",e)}setupAutocomplete(){!config$1.embed&&!config$1.kong&&j$e("".concat(this.id," .send")).autocomplete({appendTo:"body",minLength:2,source:(e,l)=>{const c=[...new Set(this.cmds)],f=j$e.ui.autocomplete.filter(c,e.term);l(f.slice(0,5))}})}setupEventListeners(){this.setupInputHandlers(),this.setupColorization(),this.setupLogging()}setupInputHandlers(){const e=j$e("".concat(this.id," .send"));this.mobile?this.setupMobileHandlers(e):this.setupDesktopHandlers(e)}setupMobileHandlers(e){e.focus(()=>{j$e(this.id).height("82%"),this.scroll()}),e.blur(()=>{this.win.maximize(),this.scroll()}),document.addEventListener("touchstart",()=>this.scroll(),!1),e.keydown(l=>{if(l.which===13){l.preventDefault();const c=e.val();c.length?(this.ws.send(c),e.val("")):this.ws.send("\r\n")}}),e.focus(),setInterval(()=>this.scroll(),2e3)}setupDesktopHandlers(e){e.focus(function(){j$e(this).is(":focus")||j$e(this).select()}),e.focus().keydown(l=>{if(l.which===13){l.preventDefault();const c=e.val();c.length?(this.ws.send(c),this.cmds.push(c),this.cmdi++,this.keepcom?e[0].select():e.val("")):this.ws.send("\r\n")}else l.keyCode===38?(l.preventDefault(),this.cmdi&&e.val(this.cmds[--this.cmdi]),e[0].select()):l.keyCode===40&&(l.preventDefault(),this.cmdi<this.cmds.length-1&&e.val(this.cmds[++this.cmdi]),e[0].select())})}setupColorization(){Event$1.listen("internal_colorize",new Colorize().process)}setupLogging(){Event$1.listen("after_display",e=>{try{this.sesslog+=e.replace(/<br>/gi,"\n").replace(/<.+?>/gm,"")}catch(l){log("ScrollView.after_display ",l)}return e})}add(e){const l=j$e("".concat(this.id," .out")),c=j$e("".concat(this.id," .freeze"));if(l[0].scrollHeight>this.options.scrollback){l.children().slice(0,100).remove();const f=l.html(),h=f.indexOf("<span");l.html(f.slice(h))}l.append("<span>".concat(e,"</span>")),this.scroll(),c.length&&c.append("<span>".concat(e,"</span>")),Event$1.fire("scrollview_add",e,this)}scroll(){j$e("".concat(this.id," .out")).scrollTop(j$e("".concat(this.id," .out")).prop("scrollHeight"))}echo(e){if(e.length&&this.options.local&&this.options.echo){const l=e.replace(/>/g,"&gt;").replace(/</g,"&lt;");this.add('<span style="font-size: 12px; color: gold; opacity: 0.6">'.concat(l,"</span><br>"))}}title(e){this.win.setTitle(e),document.title=e||config$1.name}initializeSocket(){var e;this.title(config$1.name||"".concat(config$1.host,":").concat(config$1.port)),this.ws=new Socket({host:config$1.host,port:config$1.port,proxy:config$1.proxy,out:this}),(e=window.user)!=null&&e.id&&this.setupMacrosAndTriggers(),config$1.ScrollView=this,Event$1.fire("scrollview_ready",null,this)}setupMacrosAndTriggers(){config$1.macros&&(config$1.MacroPane=new MacroPane({socket:this.ws}),config$1.MacroPane.initialize(),Event$1.listen("before_send",config$1.MacroPane.sub),this.echo("Activating macros.")),config$1.triggers&&(config$1.TriggerHappy=new TriggerHappy({socket:this.ws}),Event$1.listen("after_display",e=>config$1.TriggerHappy.respond(e)),this.echo("Activating triggers."))}}const j$d=jQuery;class Toolbar{constructor(){}initialize(){return j$d("#tmp-toolbar").length||j$d("body").append('<div id="tmp-toolbar" class="tmp-toolbar"></div>'),j$d("#tmp-toolbar").on("click","button",e=>{e.stopPropagation();const l=j$d(e.target).attr("href");if(!j$d(l).length){j$d(e.target).remove();return}const c=j$d(l).get(0).win,f=j$d(e.target);f.hasClass("active")?(c.hide(),f.removeClass("active").addClass("disabled")):f.hasClass("disabled")?(c.show(),f.removeClass("disabled").addClass("active")):(c.bringToFront(),j$d("#tmp-toolbar button").removeClass("active"),f.addClass("active"))}),Event$1.listen("window_open",()=>setTimeout(()=>this.update(),0)),Event$1.listen("window_close",()=>setTimeout(()=>this.update(),0)),Event$1.listen("window_show",()=>setTimeout(()=>this.update(),0)),Event$1.listen("window_hide",()=>setTimeout(()=>this.update(),0)),Event$1.listen("window_front",e=>this.front(e)),this}update(){return j$d("#tmp-toolbar").empty(),j$d(".window").each(function(){const e=j$d(this),l=e.attr("id"),c=e.get(0).win.setTitle()||l,f='\n        <button href="#'.concat(l,'" class="btn kbutton">\n          ').concat(c,"\n        </button>\n      ");j$d("#tmp-toolbar").append(f),e.is(":visible")||j$d("#tmp-toolbar .btn:last").addClass("disabled")}),this}front(e){j$d("#tmp-toolbar button").removeClass("active"),j$d('#tmp-toolbar button[href="'.concat(e,'"]')).addClass("active")}}const j$c=jQuery;function initializeCore(){typeof WebSocket>"u"&&new Modal({title:"Incompatible Browser",html:"The portal web app requires a modern browser...",closeText:"Dismiss"}),j$c("body").addClass("app"),config$1.socket&&(window.onbeforeunload=()=>"Are you sure you want to disconnect and leave this page?"),config$1.embed&&j$c("body#page").css({background:"transparent"}),j$c(document).ready(function(){config$1.bare||config$1.clean?(j$c("#header").remove(),j$c("#maininner #content").attr("id","app-content")):j$c("#header").css({opacity:.4,zIndex:0}).on("click",function(){j$c(this).css("opacity",1)}),config$1.embed&&Event$1.listen("scrollview_ready",function(){j$c(".ui-resizable-handle").css({opacity:0}),j$c(".icon-minus").remove()})}),config$1.device.touch&&(document.ontouchmove=function(a){a.preventDefault()},j$c("head").append('<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />			<meta name="apple-mobile-web-app-capable" content="yes">'),j$c("head").append('<link rel="apple-touch-startup-image" sizes="640x1136" href="/images/app-splash-5.png">'),j$c("head").append('<link rel="apple-touch-startup-image" sizes="640x960" href="/images/app-splash-4.png">')),config$1.nocore||(config$1.host&&config$1.port&&(new ScrollView({local:!0,css:{width:config$1.width,height:config$1.height,top:config$1.top,left:config$1.left,zIndex:103},scrollback:40*1e3,drag:!0,snap:!0}),!config$1.embed&&!config$1.device.mobile&&!config$1.kong&&(config$1.Toolbar=new Toolbar,config$1.Toolbar.initialize(),config$1.Toolbar.update())),window.user&&window.user.guest&&!config$1.kong&&!config$1.device.touch&&j$c(".app").prepend('<a class="right" style="opacity:0.5;margin-right: 8px"           href="/component/comprofiler/login" target="_self">          <i class="icon-sun"></i> login</a>'),config$1.kong&&config$1.ScrollView.title("Bedlam")),j$c(document).on("click",'a[data-toggle="tab"]',function(a){j$c(this).find(".badge").remove()}),config$1.device.touch||j$c("body").tooltip({items:".tip",tooltipClass:"ui-tooltip",position:{my:"center bottom-10",at:"center top",collision:"flipfit"},show:{effect:"fadeIn",duration:200},hide:{effect:"fadeOut",duration:100},content:function(){return j$c(this).prop("title")},open:function(a,e){j$c(".ui-helper-hidden-accessible").remove()},close:function(a,e){e.tooltip.remove()}})}const j$b=jQuery;class MXP{constructor(){Z(this,"handleMxpClick",e=>{j$b(".mxp-dropdown").remove();const l=j$b(e.currentTarget).attr("href");return l?l.includes("|")?this.handleMultiChoice(l,e.currentTarget):l==="#"?config$1.socket.write(""):config$1.socket.write(l):config$1.socket.write(j$b(e.currentTarget).text()),!1});Z(this,"handleBodyClick",e=>{j$b(e.target).is("a")||j$b(".mxp-dropdown").remove()});this.enabled=!1,this.elements=[],this.entities=[],this.setupEventListeners()}setupEventListeners(){j$b("body").on("click",".mxp",this.handleMxpClick),j$b("body").on("click",this.handleBodyClick)}handleMultiChoice(e,l){var h;const c=e.split("|"),f=(h=j$b(l).attr("hint"))!=null&&h.includes("|")?j$b(l).attr("hint").split("|"):[];log(c),j$b(".mxp-dropdown").remove(),j$b("body").append('<ul class="mxp-dropdown"></ul>'),c.forEach((u,m)=>{const v=(f[m+1]||u).replace(/[0-9]/g,"");j$b(".mxp-dropdown").append('\n        <li>\n          <a class="mxp" href="'.concat(u,'">').concat(v,"</a>\n        </li>\n      "))}),j$b(".mxp-dropdown").css({top:j$b(l).offset().top,left:j$b(l).offset().left+j$b(l).width()+5,position:"absolute"}),j$b("input").on("mouseover",()=>j$b(".mxp-dropdown").remove())}prep(e){return e.replace(/\x1b\[[1-7]z/g,"").replace(/\r/g,"").replace(/\n/g,"<br>").replace(/\x1b>/g,">").replace(/\x1b</g,"<")}process(e){return!e||(e.includes("ÿú[ÿð")&&(log("Got IAC SB MXP IAC SE -> BEGIN MXP"),e=e.replace(/.\xff\xfa\x5b\xff\xf0/,""),this.enabled||(j$b("body").append('<div id="mxpf" style="display: none"></div>'),this.enabled=!0)),e.includes("ÿû[")&&(log("Got IAC WILL MXP -> BEGIN MXP"),e=e.replace(/.\xff\xfb\x5b/,""),this.enabled||(j$b("body").append('<div id="mxpf" style="display: none"></div>'),this.enabled=!0)),!this.enabled&&!e.match(/\x1b\[[0-7]z/))?e:(e=this.processElements(e),e=this.processEntities(e),e=this.processDeclaredElements(e),e=this.processColorTags(e),e=this.processLinks(e),e=this.processFontTags(e),e=this.processImageTags(e),e=this.processBasicTags(e),e=this.processFrames(e),this.cleanupTags(e))}processElements(e){const l=e.match(/<!element ([^]+?)>/gi);return l!=null&&l.length&&(this.elements=l.slice(1).map(c=>{const[f,h,...u]=c.substring(10,c.length-1).split(" ");return h==='FLAG=""'?[f,h,new RegExp("<(".concat(f,")>([^]+?)/</").concat(f,">"),"gi"),'\x1B<a class="mxp" href="$1 $2"\x1B>$2\x1B</a\x1B>']:[f,h,new RegExp("<(|/)".concat(f,">"),"gi"),""]}),Event$1.fire("mxp_elements",this.elements),e=e.replace(/<!element[^]+>/gi,"")),e}translate(e){return this.prep(this.process(e))}isEnabled(){return this.enabled}disable(){this.enabled=!1}}var Ot;(Ot=config$1.getSetting("mxp"))==null||Ot?(config$1.mxp=new MXP,Event$1.listen("internal_mxp",a=>config$1.mxp.process(a))):log("MXP disabled in profile or game preferences.");const j$a=jQuery;class ModalInput{constructor(e){this.options=e,this.colorize=new Colorize,this.modalInstance=null,this.initialize()}close(e=!1){log("ModalInput close"),e||config$1.Socket.write(this.options.abort),this.cleanupEventListeners(),this.modalInstance&&this.modalInstance.hide()}send(){const e=j$a(".modal .me-input").val();if(j$a(".modal .me-pass2").length)config$1.Socket.write(stringify({password1:e,password2:j$a(".modal .me-pass2").val()}));else{const{before:l="",after:c=""}=this.options;config$1.Socket.write(l+e+c)}this.close(!0)}cleanupEventListeners(){j$a(".modal .me-dismiss").off(),j$a(".modal .me-send").off(),j$a(".modal .me-second").off()}initialize(){const e=this.options;if(e.backdrop=e.backdrop||!1,e.close&&e.close===1){this.close();return}if(e.mxp&&(e.replace=1,e.mxp=config$1.mxp.translate(e.mxp),e.intro=e.intro?e.mxp+e.intro:e.mxp),e.text&&(e.text=this.colorize.strip(e.text).replace(/\r/g,"")),e.error&&(e.error=config$1.mxp.prep(e.error)),e.info&&(e.info=config$1.mxp.prep(e.info)),e.intro&&(e.intro=config$1.mxp.prep(e.intro)),e.replace&&j$a(".me-modal").length&&j$a(".me-modal").is(":visible")){j$a(".modal h3").html(e.title),j$a(".modal .modal-body").html(e.text||e.html);return}const l=j$a(".modal");if(l){const h=Modal$1.getInstance(l);h&&h.hide(),l.remove()}const c='\n      <div class="modal '.concat(e.class||"",' fade me-modal" tabindex="-1">\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title">').concat(e.title||"Multi-Line Input","</h5>\n              ").concat(e.closeable!==!1?'<button type="button" class="btn-close me-dismiss" data-bs-dismiss="modal" aria-label="Close"></button>':"",'\n            </div>\n            <div class="modal-body">\n              ').concat(e.info?'<div class="alert alert-info">'.concat(e.info,"</div>"):"","\n              ").concat(e.error?'<div class="alert alert-danger">'.concat(e.error,"</div>"):"","\n              ").concat(e.intro?'<div class="intro">'.concat(e.intro,"</div><br>"):"","\n              ").concat(e.tag?'<input type="'.concat(e.type||"text",'" \n                  class="me-input ').concat(e.text?"modal-text-content":"",'"\n                  spellcheck="false"\n                  autocapitalize="off"\n                  autocorrect="off"\n                  placeholder="').concat(e.placeholder||"",'"\n                  value="').concat(e.text||"",'">'):'<textarea \n                  class="me-input '.concat(e.text?"modal-text-content":"",'"\n                  spellcheck="false"\n                  autocapitalize="off"\n                  autocorrect="off"\n                  placeholder="').concat(e.placeholder||"",'">').concat(e.text||e.html||"","</textarea>"),'\n            </div>\n            <div class="modal-footer">\n              <button class="btn btn-secondary kbutton me-dismiss">\n                ').concat(e.closeText||"Cancel",'\n              </button>\n              <button class="btn btn-primary kbutton me-send">\n                ').concat(e.sendText||"Send","\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    ");j$a("body").append(c),this.setupPasswordReset(),this.setupInputStyles(),this.setupButtons(),this.setupEventListeners();const f=document.querySelector(".modal");this.modalInstance=new Modal$1(f,{backdrop:e.backdrop?!0:"static",keyboard:!0}),e.css&&(e.css.width&&(e.css["margin-left"]=-(e.css.width/2)),j$a(".modal").css(e.css)),this.modalInstance.show(),setTimeout(()=>{j$a(".modal textarea").focus()},500)}setupPasswordReset(){const e=this.options;e.attr&&(e.attr==="reset"||e.attr==="change")&&(j$a(".modal-body").append('\n        <br>\n        <input type="password" class="me-pass2" placeholder="re-enter password">\n      '),j$a(".modal .me-send").addClass("disabled"),j$a(".modal input").on("keyup",()=>{const l=j$a(".modal .me-input").val(),c=j$a(".modal .me-pass2").val();j$a(".modal .me-send").toggleClass("disabled",!(l.length>5&&c.length>5&&l===c))}))}setupInputStyles(){const e=this.options;e.tag&&e.tag==="input"&&(j$a(".modal-body").css({padding:30}),j$a(".modal input").width(300),(!e.intro||e.intro.length<60)&&(e.css={...e.css,width:400}))}setupButtons(){const e=this.options;e.buttons&&(j$a(".modal-footer .kbutton").remove(),e.buttons.forEach((l,c)=>{const f=!l.click&&!exists(l.send)?" me-send":"";j$a(".modal-footer").prepend('\n        <button class="btn btn-secondary kbutton custom-'.concat(c).concat(f,'">\n          ').concat(l.text,"\n        </button>\n      ")),l.send&&j$a(".modal-footer .custom-"+c).click(()=>{config$1.Socket.write(l.send)}),l.click&&j$a(".modal-footer .custom-"+c).click(l.click),l.css&&j$a(".modal-footer .custom-"+c).css(l.css)}))}setupEventListeners(){j$a(".modal .me-send").on("click",()=>this.send()),j$a(".modal .me-dismiss").on("click",()=>this.close()),this.options.sendText&&j$a(".modal .me-send").text(this.options.sendText)}}Event$1.listen("gmcp",a=>{if(!(a!=null&&a.length)||!a.startsWith("ModalInput"))return a;log("ModalInput detected gmcp trigger");try{const e=JSON.parse(a.match(/^[^ ]+ (.*)/)[1]);e.replace=e.gmcp=1,new ModalInput(e)}catch(e){log("ModalInput parse error:",e)}return a});const j$9=jQuery;class ChatterBox{constructor(e={}){this.options={title:"ChatterBox",css:{width:400,height:400,top:0,left:config$1.width},...config$1.chatterboxConfig,...e,id:"#chat-window"},config$1.kong&&(this.options.css.width=398,this.options.css.height=j$9(window).height()-143),this.win=new Window({id:this.options.id,title:this.options.title,class:"nofade ui-group ChatterBox",css:this.options.css||null,handle:".nav-tabs",drag:this.options.drag,snap:this.options.snap}),config$1.ScrollView&&config$1.ScrollView.win.addButton({icon:"fa-solid fa-comments",title:"Hide / show the communication tabs",click:()=>{j$9(this.options.id).toggle()}}),this.initializeTabs(),this.createChannelsDropdown(this.options.tabs.filter(l=>l.channels).flatMap(l=>l.channels)),this.setupChannelEvents(),this.setupEventListeners(),this.exposeToConfig()}initializeTabs(){for(const e of this.options.tabs)if(e.channels&&(e.html=e.html||'<div class="content"></div>'),e.target||this.win.addTab(e),e.match)try{e.re=new RegExp(e.match,"gi")}catch(l){log(l)}}createChannelsDropdown(e){const l=e.map(u=>'<li><a class="dropdown-item" href="#" data="'.concat(u,'">').concat(u,"</a></li>")).join("");let c='\n      <div class="footer dropup" style="height: 30px">\n        <div class="dropdown"\n             data-toggle="tooltip"\n             title="Select chat channel"\n             style="float: left;">\n          <a id="dropdownMenuButtonChat" href="#" \n             class="channel dropdown-toggle kbutton"\n             data-bs-toggle="dropdown"\n             aria-expanded="false"\n             style="margin: 0 0 0 5px;position: relative;top: 0px;display: inline-block;height: 22px;padding: 0 10px !important;">\n            <span class="text">'.concat(e[0],'</span>\n          </a>\n          <ul class="dropdown-menu" aria-labelledby="dropdownMenuButtonChat">\n            ').concat(l,'\n          </ul>\n        </div>\n        <input class="send" type="text"\n               style="margin-left: 6px; margin-top: 2px; width: 260px"\n               placeholder="type your chat message">\n      </div>');const f=this.options.id,h=j$9("".concat(f," .tab-content"));h.length?h.after(c):j$9(f).append(c)}setupChannelEvents(){const e=this.options.id,l=document.querySelector("".concat(e," .dropdown"));l&&new bootstrap_bundle_minExports.Tooltip(l,{container:"body",trigger:"hover",boundary:"window",placement:"bottom",title:"Select chat channel",customClass:"ui-tooltip"});const c=document.querySelector("".concat(e," .dropdown-toggle"));if(c){const f=new bootstrap_bundle_minExports.Dropdown(c,{autoClose:!0,display:"dynamic"});c.addEventListener("click",u=>{u.preventDefault(),u.stopPropagation(),f.toggle()});const h=c.nextElementSibling;h&&h.addEventListener("click",u=>{if(u.target.classList.contains("dropdown-item")){u.preventDefault();const m=u.target.getAttribute("data");c.querySelector(".text").textContent=m,f.hide()}})}j$9(e).on("keydown","input",f=>{if(f.which===13&&j$9(f.currentTarget).val().length){const h=j$9("".concat(e," .dropdown-toggle .text")).text();config$1.Socket.write("".concat(h," ").concat(j$9(f.currentTarget).val())),j$9(f.currentTarget).val("");const u=h,m=this.options.tabs.findIndex(v=>v.channels&&v.channels.includes(u));if(m!==-1){const v=document.querySelector("".concat(e,' .nav-tabs a[href="#tab-').concat(m,'"]'));v&&new bootstrap_bundle_minExports.Tab(v).show()}f.stopPropagation(),f.preventDefault()}})}process(e){if(!e||e.length===0)return;let l=e;for(const c of this.options.tabs){if(!c.re)continue;const f=[...l.matchAll(c.re)];for(const h of f)if(h!=null&&h.length){let u=h[0];c.replace&&(u=h[0].replace(c.re,c.replace,"gi"));let m='<div id="c"><span>';if(c.time){const _=new Date().toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"});m+='<span style="color: DarkGray; opacity: 0.6">'.concat(_,"</span> ")}m+=u,m=m.replace(/([^"'])(http?:\/\/[^\s\x1b"']+)/g,'$1<a href="$2" target="_blank">$2</a>'),m+="</span></div>";const v=this.getTargetElement(c);v.append(m),v[0].scrollTop=v[0].scrollHeight,c.gag&&(l=this.handleGag(l,h[0]))}}return l}getTargetElement(e){if(e.target){const c=this.options.tabs.findIndex(f=>f.name===e.target);if(c>-1)return this.getContentElement(c)}const l=this.options.tabs.indexOf(e);return this.getContentElement(l)}getContentElement(e){const l="".concat(this.options.id," #tab-").concat(e);return j$9("".concat(l," .content")).length?j$9("".concat(l," .content")):j$9(l)}handleGag(e,l){const c=String.fromCharCode(parseInt("033",8));return e.replace(l,"".concat(c,'<span style="display: none"').concat(c,">").concat(l).concat(c,"</span").concat(c,">"))}setupEventListeners(){Event$1.listen("before_display",e=>this.process(e))}exposeToConfig(){config$1.ChatterBox=this,setTimeout(()=>{Event$1.fire("chatterbox_ready",this)},500)}addTab(e){return this.options.tabs.push(e),this.win.addTab(e)}}const j$8=jQuery;class ControlPanel{constructor(e={}){window.user&&(this.touch&&param("host")||(this.options={title:"Game Center",css:{width:700,height:500,top:0,right:0},...e,id:"#control-panel"},this.id="#control-panel",this.mobile=config$1.device.mobile,this.touch=config$1.device.touch,this.chatlog=[],this.mychannel=null,this.nice=null,this.sound=!1,this.pref=window.user.pref,this.exposeToConfig()))}async initialize(){this.initWindow(),this.initLayout(),await this.loadGamelist(),this.initEventListeners(),this.initChat(),this.touch||j$8("".concat(this.id," .nice")).niceScroll({cursorborder:"none",cursorwidth:"7px"})}initWindow(){this.win=new Window({id:this.id,title:"Game Center",noresize:1,closeable:0,class:"nofade",css:{width:700,height:500,top:0,right:0,opacity:1,zIndex:101},drag:this.options.drag,snap:this.options.snap}),j$8(this.id).get(0).win=this.win}initLayout(){j$8("".concat(this.id," .content")).append('\n      <div style="width: 27%; border-right: 1px solid #222;" class="left gamelist nice"></div>\n      <div class="left gamepanel" style="width: 72%; height: 100%"></div>\n    '),this.touch&&(this.win.maximize(),j$8("".concat(this.id," .gamelist")).css({width:"50%"}),j$8("".concat(this.id," .gamepanel")).css({width:"49%",overflow:"hidden"}).addClass("nice"))}loadProfiles(){j$8("".concat(this.id," .gamelist")).prepend('\n      <div class="profiles">\n        <a class="folder" data="profile-link">\n          <i class="icon-folder-open-alt"></i> My Profiles\n        </a><br>\n      </div>\n    '),this.pref.profiles&&Object.entries(this.pref.profiles).forEach(([e,l])=>{if((config$1.clean||config$1.solo)&&config$1.host!==l.host)return;const c=this.sitelist.findIndex(h=>h.host===l.host),f=this.sitelist[c];j$8("".concat(this.id," .gamelist .profiles")).append('\n        <a class="profile-link" \n           host="'.concat(f.host,'" \n           port="').concat(f.port,'" \n           thumb="').concat(f.img,'" \n           profile="').concat(e,'" \n           name="').concat(f.name,'">\n          <i class="icon-star-empty"></i> ').concat(e,"<br>\n        </a>\n      "))})}async loadMudconnectList(){if(!(config$1.solo||config$1.clean||this.touch))try{j$8("".concat(this.id," .gamelist .profiles")).after('\n        <div class="tmc">\n          <a class="tmc-list folder">\n            <i class="icon-folder-close-alt"></i> Big List (A-Z)<br>\n          </a>\n        </div>\n      ');const l=await(await fetch("/mudconnect/mudconnect.xml")).text(),f=new DOMParser().parseFromString(l,"text/xml");Array.from(f.querySelectorAll("mud")).sort((u,m)=>{const v=u.querySelector("title").textContent,_=m.querySelector("title").textContent;return v.localeCompare(_)}).forEach(u=>{const m=u.querySelector("title").textContent,v=u.querySelector("host").textContent,_=u.querySelector("port").textContent;m&&v&&_&&j$8("".concat(this.id," .gamelist .tmc")).append('\n            <a style="display:none" \n               class="tmc-link game-link" \n               host="'.concat(v,'" \n               port="').concat(_,'" \n               thumb="" \n               name="').concat(m,'">\n              ').concat(m,"<br>\n            </a>\n          "))})}catch(e){log("Error loading mudconnect.xml:",e)}}async loadSiteList(){j$8("".concat(this.id," .gamelist")).append('\n      <div class="sitelist">\n        <a class="big-list folder" data="game-link">\n          <i class="icon-folder-open-alt"></i> Site List<br>\n        </a>\n      </div>\n    ');try{const l=await(await fetch("/sitelist/sitelist.json")).json();this.sitelist=l,l.forEach((c,f)=>{var h;try{const u=(h=c.elements)==null?void 0:h.replace(/&amp;/g,"&");if(!u)return;const m=u.match(/\[play=(.+?)\]/);if(!m)return;const v=m[1].replace(/\\\//g,"/");if(v.includes("http"))c.host=v.param("host"),c.port=v.param("port");else{const[b,E]=v.split(":");c.host=b,c.port=E}if((!c.host||!c.port)&&!(c.host&&c.port)){log("Skipping game:",stringify(c));return}if((config$1.clean||config$1.solo)&&config$1.host!==c.host)return;let _=c.img;_&&!_.startsWith("/")&&(_="/"+_),j$8("".concat(this.id," .sitelist")).append('\n            <a class="game-link" \n               data="'.concat(f,'" \n               host="').concat(c.host,'" \n               port="').concat(c.port,'" \n               thumb="').concat(_,'" \n               name="').concat(c.name,'">\n              <i class="icon-sun"></i> ').concat(c.name,"<br>\n            </a>\n          "))}catch(u){log("Error processing game:",u,c)}})}catch(e){log("Error loading sitelist.json:",e)}}loadChat(){j$8("".concat(this.id," .gamelist")).prepend('\n      <div class="chatlist">\n        <a class="chat-list folder" data="chat-link">\n          <i class="icon-folder-open-alt"></i> Portal Chat<br>\n        </a>\n      </div>\n    '),["Lobby","Players","Devs"].forEach(l=>{j$8("".concat(this.id," .chatlist")).append('\n        <a class="chat-link" data="'.concat(l,'">\n          <i class="icon-comment-alt"></i> ').concat(l,"<br>\n        </a>\n      "))})}async loadGamelist(){j$8("".concat(this.id," .gamelist")).empty(),await this.loadSiteList(),await this.loadMudconnectList(),this.loadProfiles(),this.loadChat()}initEventListeners(){this.initDoubleClickHandler(),this.initFolderClickHandler(),this.initGameLinkHandler()}initDoubleClickHandler(){j$8(this.id).on("dblclick",".tmc",e=>{e.stopPropagation(),j$8(".tmc .folder").click(),j$8(".gamelist").scrollTop(0)})}initFolderClickHandler(){j$8(this.id).on("click"," .folder",e=>{e.stopPropagation();const l=j$8(e.currentTarget);l.siblings().toggle(),l.find("i").toggleClass("icon-folder-open-alt icon-folder-close-alt"),j$8(".gamelist").getNiceScroll().resize()})}initGameLinkHandler(){j$8(this.id).on("click"," .game-link, .profile-link",e=>{e.stopPropagation(),this.mychannel=null;const l=j$8(e.currentTarget);j$8(".gamelist a").removeClass("game-link-selected"),l.addClass("game-link-selected"),l.hasClass("profile-link"),l.hasClass("tmc-link");const c=j$8("".concat(this.id," .gamepanel"));c.removeAttr("profile");const f={name:l.attr("name"),host:l.attr("host"),port:l.attr("port"),thumb:l.attr("thumb"),profile:l.attr("profile")};this.updateGamePanel(c,f)})}updateGamePanel(e,l){const{name:c,host:f,port:h,thumb:u,profile:m}=l;e.attr({name:c,host:f,port:h,...m&&{profile:m}});const v="/play?host=".concat(f,"&port=").concat(h,"&name=").concat(encodeURIComponent(c)).concat(m?"&profile=".concat(encodeURIComponent(m)):""),_='<a href="'.concat(v,'" class="button-primary">play</a>'),b="".concat(c).concat(m?": ".concat(m):"");j$8(".gamepanel .scroll").niceScroll("destroy"),e.html('\n      <div class="left game-blurb" style="padding: 4px 18px 0px 4px">\n        <img class="game-thumb" src="'.concat(u,'">\n      </div>\n      <div class="left" style="padding-top: 4px">\n        ').concat(b,'\n        <div style="height: 8px; clear: both"></div>\n        ').concat(_,"\n      </div>\n    ")),this.mobile||(this.appendButtons(e,m),this.appendTabs(e,m),this.loadSettings(e))}appendButtons(e,l){l?e.append('\n        <br>\n        <a class="kbutton save right tip" title="Save your preferences for this profile.">\n          <i class="icon-save"></i> save\n        </a>\n        <a class="kbutton pdel right tip" title="Delete this game profile.">\n          <i class="icon-remove"></i> delete\n        </a>\n        <div style="clear: both"></div>\n      '):e.append('\n        <br>\n        <a class="kbutton save right tip" title="Save your preferences for this game.">\n          <i class="icon-save"></i> save\n        </a>\n        <a class="kbutton clone right tip" title="Create a profile for this game.">\n          <i class="icon-copy"></i> profile\n        </a>\n        <div style="clear: both"></div>\n      ')}appendTabs(e,l){e.append('\n      <ul class="nav nav-tabs">\n        <li class="active">\n          <a href="#macros" class="kbutton" data-toggle="tab">\n            <i class="icon-retweet"></i> macros\n          </a>\n        </li>\n        <li>\n          <a href="#triggers" class="kbutton" data-toggle="tab">\n            <i class="icon-reply"></i> triggers\n          </a>\n        </li>\n        <li>\n          <a href="#settings" class="kbutton settings" data-toggle="tab">\n            <i class="icon-cog"></i> settings\n          </a>\n        </li>\n      </ul>\n    '),l||j$8("".concat(this.id," .gamepanel ul")).append('\n        <span class="kbutton right" title="Configurations at this level will apply to all profiles for this game">\n          <i class="icon-question"></i>\n        </span>\n      '),e.append('\n      <div class="tab-content">\n        <div class="tab-pane active" id="macros">\n          Macros support arguments (wildcards) in the format $1, $2... $*. \n          The macro "$me -> Myname" will replace $me with Myname in any other macros or triggers.\n          <br><br>\n          <a class="right kbutton macro-add">\n            <i class="icon-plus"></i> new\n          </a>\n          <div class="scroll"></div>\n        </div>\n        <div class="tab-pane" id="triggers">\n          Triggers support wildcards in the format $1, $2... $9.\n          <br><br>\n          <a class="right kbutton trigger-add">\n            <i class="icon-plus"></i> new\n          </a>\n          <div class="scroll"></div>\n        </div>\n        <div class="tab-pane" id="settings">\n          <div class="scroll"></div>\n        </div>\n      </div>\n    ')}loadSettings(e){var u,m;const l=e.attr("name"),c=e.attr("profile");if(window.user.id&&this.pref){const v=c?(u=this.pref.profiles)==null?void 0:u[c]:(m=this.pref.sitelist)==null?void 0:m[l];v&&(this.loadMacros(v.macros),this.loadTriggers(v.triggers))}const f=j$8("".concat(this.id," .gamepanel #settings .scroll"));[["official","Auto-load official plugins"],["echo","Echo commands to main window"],["keepcom","Keep last command in input"],["spellcheck","Spellcheck command input",!0],["mxp","Enable MXP"],["automulti","Auto-paste multiline selects in multiline input",!0]].forEach(([v,_,b])=>{f.append('\n        <i class="icon-'.concat(b?"unchecked":"check",'" id="').concat(v,'"></i> ').concat(_,"<br>\n      "))}),j$8(".gamepanel .scroll").css({height:"280px"}),config$1.touch||j$8(".gamepanel .scroll").niceScroll({cursorborder:"none",cursorwidth:"7px"})}loadMacros(e=[]){const l=j$8("#control-panel #macros .scroll");e.forEach(([c,f,h,u])=>{l.append('\n        <div>\n          <input type="text" style="width: 100px" placeholder="macro name" value="'.concat(c,'">\n          <input type="text" placeholder="commands to send" value="').concat(f,'">\n          <i class="icon-').concat(h?"check":"unchecked",'"></i>\n          <i class="icon-star').concat(u?"":"-empty",'"></i>\n          <i class="icon-remove-sign"></i>\n        </div>\n      '))})}loadTriggers(e=[]){const l=j$8("#control-panel #triggers .scroll");e.forEach(([c,f,h])=>{l.append('\n        <div>\n          <input type="text" style="width: 100px" placeholder="trigger phrase" value="'.concat(c,'">\n          <input type="text" placeholder="response" value="').concat(f,'">\n          <i class="icon-').concat(h?"check":"unchecked",'"></i>\n          <i class="icon-remove-sign"></i>\n        </div>\n      '))})}initChat(){Event$1.listen("chat_open",e=>{log("Event: chat_open"),e===this.chat&&this.chat.send(stringify({chat:1,name:window.user.username||"guest",channel:"op",msg:"joined chat."}))}),Event$1.listen("chat_data",(e,l)=>{const[,c]=e.match(/([^ ]+?) /),[,f]=e.match(/[^ ]+? (.*)/);if(c==="portal.chatlog")this.chatlog=JSON.parse(f),this.chatUpdate();else if(c==="portal.chat"){const h=[new Date().toISOString(),JSON.parse(f)];new Audio("/app/sound/blop.mp3").play(),this.chatlog.push(h),this.chatUpdate(h)}}),Event$1.listen("chat_before_close",e=>{e===this.chat&&this.chat.send(stringify({chat:1,name:window.user.username||"guest",channel:"op",msg:"left chat."}))}),Event$1.listen("chat_close",e=>{e===this.chat&&(j$8("".concat(this.id," .chatlist")).remove(),this.closeChat())}),this.chat=new Socket({type:"chat"}),param("profile")?j$8("".concat(this.id," .profile-link")).each((e,l)=>{j$8(l).attr("profile")===param("profile")&&j$8(l).click()}):param("host")?j$8("".concat(this.id," .game-link")).each((e,l)=>{j$8(l).attr("host")===param("host")&&j$8(l).click()}):j$8("".concat(this.id," .game-link:first")).length&&j$8("".concat(this.id," .game-link:first")).click()}closeChat(){j$8("".concat(this.id," .chat-panel")).remove(),this.nice&&this.nice.remove(),window.user.channel&&delete window.user.channel}chatUpdate(e){const l=j$8(".chat-".concat(this.mychannel));e?this.mychannel===e[1].channel&&l.append(this.formatChatMessage(e[0],e[1])):(l.empty(),this.chatlog.forEach(([c,f])=>{this.mychannel===f.channel?l.append(this.formatChatMessage(c,f)):f.channel==="status"&&l.append(this.formatStatusMessage(c,f))})),l.scrollTop(l.prop("scrollHeight"))}formatChatMessage(e,l){return'\n      <span style="opacity: 0.6">'.concat(e.substr(11,5),'</span>\n      <span style="color: #01c8d4;opacity:0.7">').concat(l.name,": </span>\n      ").concat(this.linkify(l.msg),"<br>\n    ")}formatStatusMessage(e,l){return'\n      <span style="opacity: 0.6">'.concat(e.substr(11,5),'</span>\n      <span style="color: #FFEB9E;opacity:0.6">').concat(l.name,' </span>\n      <span style="opacity: 0.7">').concat(this.linkify(l.msg),"</span><br>\n    ")}linkify(e){return e.replace(/([^"']|^)(http.*:\/\/[^\s\x1b"']+)/g,'$1<a href="$2" target="_blank">$2</a>')}exposeToConfig(){config$1.ControlPanel=this,setTimeout(()=>{Event$1.fire("controlpanel_ready",this)},500)}}const j$7=jQuery,PATH="/app/images/group-";class GroupTab{constructor(e){this.options={id:"#group-tab",title:"Group",...e},this.group=null,this.affs=null,this.minimizedMembers=new Set,this.path=PATH}initialize(){log("GroupTab: init"),this.options.id=config$1.ChatterBox.addTab({name:this.options.title||"Group",before:!0,scroll:!0,html:'<div class="list" style="clear:both; min-height: 30px; height: 100%; position: relative"></div>',class:"group-tab-content"}),j$7("".concat(this.options.id," .group-member")).click(e=>{j$7("".concat(this.options.id," .group-member")).removeClass("active"),j$7(e.currentTarget).addClass("active")})}draw(){const e=this.group.members;j$7("".concat(this.options.id," .list")).empty(),e.forEach((l,c)=>{const f=Math.floor(l.info.hp*186/l.info.mhp),h=Math.floor(l.info.mn*186/l.info.mmn),u=Math.floor(l.info.mv*186/l.info.mmv),m='\n        <div class="group-member '.concat(l.name,'" data="').concat(l.name,'" id="group-member-').concat(c,'" num="').concat(c,'">\n          <i class="icon icon-double-angle-up member-close ui-button" style="position: absolute; z-index:2;" tabindex="1" title="minimize member panel"></i>\n          <i class="icon icon-double-angle-down member-show ui-button" style="position: absolute; z-index:2; display:none;" tabindex="1" title="maximize member panel"></i>\n          <div class="noart">\n            <div class="group-name">').concat(l.name,'</div>\n            <div class="group-desc">').concat(l.info.class,", Level ").concat(l.info.lvl,'</div>\n            <div class="group-chat"></div>\n            <div class="group-bars">\n              <img class="group-bar group-healthbar" src="').concat(this.path,'healthbar.png" style="width:').concat(f,'px">\n              <img class="group-bar group-manabar" src="').concat(this.path,'manabar.png" style="width:').concat(h,'px">\n              <img class="group-bar group-movebar" src="').concat(this.path,'movebar.png" style="width:').concat(u,'px">\n              <img class="group-bar group-expbar" src="').concat(this.path,'expbar.png">\n            </div>\n            <div class="group-stats">\n              <span class="group-stat group-hp">').concat(l.info.hp,'</span> / <span class="group-maxhp">').concat(l.info.mhp,'</span><br>\n              <span class="group-stat group-mn">').concat(l.info.mn,'</span> / <span class="group-maxmn">').concat(l.info.mmn,'</span><br>\n              <span class="group-stat group-mv">').concat(l.info.mv,'</span> / <span class="group-maxmv">').concat(l.info.mmv,'</span><br>\n              <span class="group-stat group-exp">100%</span><br>\n            </div>\n          </div>\n          <div class="group-aff"></div>\n        </div>\n      ');j$7("".concat(this.options.id," .list")).append(m)}),this.setupMemberEvents(),j$7("".concat(this.options.id," .list")).disableSelection(),this.options.noart&&j$7("".concat(this.options.id," .noart div")).css({left:20})}setupMemberEvents(){j$7("".concat(this.options.id," .group-member .member-close")).click(e=>{const l=j$7(e.currentTarget).parent(),c=parseInt(l.attr("num")),f=this.group.members[c].name;l.css({height:24}),l.find(".group-icon, .group-desc").hide(),l.find(".group-bars").css({top:14}),j$7(e.currentTarget).hide(),l.find(".member-show").show(),this.minimizedMembers.add(f)}),j$7("".concat(this.options.id," .group-member .member-show")).click(e=>{const l=j$7(e.currentTarget).parent(),c=parseInt(l.attr("num")),f=this.group.members[c].name;l.css({height:82}),j$7(e.currentTarget).hide(),l.find(".group-icon, .group-desc").show(),l.find(".group-bars").css({top:28}),l.find(".member-close").show(),this.minimizedMembers.delete(f)})}updateAffs(){var l,c,f,h;if(!((f=(c=(l=this.group)==null?void 0:l.members)==null?void 0:c[0])!=null&&f.name))return;const e=j$7("".concat(this.options.id," .list .").concat(this.group.members[0].name," .group-aff"));e.empty(),(h=this.affs)==null||h.forEach(u=>{const m=u.gives?'<div class="group-one-aff tip" title="Gives '.concat(u.gives," to ").concat(u.to,'">').concat(u.name,": ").concat(u.duration,"</div>"):'<div class="group-one-aff">'.concat(u.name,": ").concat(u.duration,"</div>");e.append(m)})}update(e){if(e.startsWith("group {"))try{this.group=JSON.parse(e.match(/^[^ ]+ (.*)/)[1]),this.draw(),this.updateAffs()}catch(l){log("GroupTab gmcp parse error:",l)}else if(e.startsWith("char.affs"))try{this.affs=JSON.parse(e.match(/^[^ ]+ (.*)/)[1]),this.updateAffs()}catch(l){log("GroupTab gmcp parse error:",l)}return e}getSelected(){var c,f;const e=j$7("".concat(this.options.id," .active"));if(!e.length)return null;const l=parseInt(e.attr("id"));return((f=(c=this.group)==null?void 0:c.members)==null?void 0:f[l])||null}}const j$6=jQuery;class IFrame{constructor(e){this.options={id:"#iframe",title:"IFrame",url:"",refresh:0,css:{width:800,height:600,top:0,right:0},...e},this.win=null,this.refreshTimer=null}initialize(){if(j$6(this.options.id).length){this.updateUrl(),j$6(this.options.id).toggle();return}this.win=new Window({id:this.options.id,title:this.options.title,iframe:!0,closeable:!0,class:"nofade ui-iframe",css:this.options.css,onResize:()=>{j$6("".concat(this.options.id," .content")).height(j$6(this.options.id).height()-16)},onClose:()=>{this.refreshTimer&&clearInterval(this.refreshTimer)},drag:this.options.drag,snap:this.options.snap}),j$6("".concat(this.options.id," .content")).html('\n      <div class="iframe-container" style="height: 100%; width: 100%;">\n        <iframe \n          src="'.concat(this.options.url,'" \n          style="overflow: hidden; height: 100%; width: 100%; padding: 0; margin: 0;" \n          frameBorder="0">\n        </iframe>\n      </div>\n    ')),j$6("".concat(this.options.id," .content")).height(j$6(this.options.id).height()-20),this.options.refresh&&(this.refreshTimer&&clearInterval(this.refreshTimer),this.refreshTimer=setInterval(()=>this.updateUrl(),this.options.refresh*1e3))}updateUrl(){j$6("".concat(this.options.id," iframe")).attr("src",this.options.url)}addButton(e){e&&window.sv&&(e.click=()=>this.initialize(),window.sv.win.button(e))}}const j$5=jQuery;class MistyBars{constructor(e={}){this.id="#bar-window",this.win=null,this.characterStatus={},this.characterVitals={},this.options={title:"MistyBars",process:null,listen:null,...e},this.draw(),this.options.listen?Event$1.listen(this.options.listen,l=>this.process(l)):Event$1.listen("gmcp",l=>this.process(l))}process(e){var l,c,f,h,u,m;if(!e||!e.includes("char."))return e;try{const[,v]=e.match(/([^ ]+?) /),[,_]=e.match(/[^ ]+? (.*)/),b={};if(b[v]=JSON.parse(_),this.characterStatus=b["char.status"]||this.characterStatus,b["char.vitals"]){const E=b["char.vitals"];this.characterVitals={...this.characterVitals,hp:(l=E.hp)!=null?l:this.characterVitals.hp,mana:(c=E.mana)!=null?c:this.characterVitals.mana,moves:(f=E.moves)!=null?f:this.characterVitals.moves}}if(b["char.maxstats"]){const E=b["char.maxstats"];this.characterVitals={...this.characterVitals,maxhp:(h=E.maxhp)!=null?h:this.characterVitals.maxhp,maxmana:(u=E.maxmana)!=null?u:this.characterVitals.maxmana,maxmoves:(m=E.maxmoves)!=null?m:this.characterVitals.maxmoves}}this.characterStatus&&this.characterVitals.hp&&this.characterVitals.maxhp&&this.redraw(),log("MistyBars (default): "+stringify(b))}catch(v){log("MistyBars gmcp parse error: "+v)}return e}draw(){let e=1;this.win=new Window({id:this.id,title:this.options.title||"MistyBars",class:"bar-window nofade",transparent:1,noresize:1,css:{height:130,width:360,top:j$5(window).height()-140,left:config$1.width+30}}),j$5("".concat(this.id," .content")).append('\n      <img class="status grayscale" src="/app/images/bedlam-status.png">\n      <img class="bars" src="/app/images/bedlam-status-bars.png">\n      <div class="smoke hpbar"><img src="/app/images/bedlam-orb-smoke.png"></div>\n      <div class="bar-wrapper">\n        <div class="manabar black"></div>\n        <div class="movebar black"></div>\n        <div class="expbar black"></div>\n        <div class="tarbar black"></div>\n      </div>\n      <div class="hp-label label"><span class="hp now"></span><span class="maxhp max"></span></div>\n      <div class="mana-label label"><span class="mana now"></span><span class="maxmana max"></span></div>\n      <div class="moves-label label"><span class="moves now"></span><span class="maxmoves max"></span></div>\n      <div class="exp-label label single-label"></div>\n      <div class="tar-label label single-label"></div>\n    ');const l="".concat(this.id," .");j$5("".concat(l,"bars")).css({zIndex:e}),j$5("".concat(l,"smoke")).css({zIndex:++e}),j$5("".concat(l,"bar-wrapper")).css({zIndex:e}),j$5("".concat(l,"black")).css({zIndex:e}),j$5("".concat(l,"status")).css({zIndex:++e}),j$5("".concat(l,"label")).css({zIndex:++e})}redraw(){var m;const l="#bar-window .",c="#out-window .",f=this.characterVitals,h=this.characterStatus;if(j$5("".concat(l,"hp")).html(f.hp),j$5("".concat(l,"mana")).html(f.mana),j$5("".concat(l,"moves")).html(f.moves),j$5("".concat(l,"maxhp")).html("/".concat(f.maxhp)),j$5("".concat(l,"maxmana")).html("/".concat(f.maxmana)),j$5("".concat(l,"maxmoves")).html("/".concat(f.maxmoves)),j$5("".concat(l,"hpbar")).animate({height:120-120*(f.hp/f.maxhp)},1e3,"easeInOutExpo"),j$5("".concat(l,"manabar")).animate({width:200-200*(f.mana/f.maxmana)},1e3,"easeInOutExpo"),j$5("".concat(l,"movebar")).animate({width:200-200*(f.moves/f.maxmoves)},1e3,"easeInOutExpo"),j$5("".concat(c,"mini-hpbar")).animate({width:"".concat(parseInt(f.hp/f.maxhp*100),"%")},1e3,"easeInOutExpo"),j$5("".concat(c,"mini-manabar")).animate({width:"".concat(parseInt(f.mana/f.maxmana*100),"%")},1e3,"easeInOutExpo"),j$5("".concat(c,"mini-movebar")).animate({width:"".concat(parseInt(f.moves/f.maxmoves*100),"%")},1e3,"easeInOutExpo"),(m=h.enemy)!=null&&m.length&&j$5("".concat(l,"tar-label")).html("<span class='no-target'>".concat(h.enemy,"</span>")),h.enemypct===-1&&j$5("".concat(l,"tar-label")).empty(),j$5("".concat(l,"tarbar")).animate({width:200-200*(h.enemypct/100)},1200,"easeInOutExpo"),!h.exp)return;const u=h.tnl!==-1?h.tnl:null;j$5("".concat(l,"exp-label")).html(u?"".concat(addCommas(h.tnl),"/").concat(addCommas(h.enl)):addCommas(h.exp)),u&&j$5("".concat(l,"expbar")).animate({width:200-200*(h.tnl/h.enl)},1e3,"easeInOutExpo")}}const j$4=jQuery;class LoginPrompt{constructor(e={}){if(this.user=null,this.line=null,this.pastuser=!1,this.id=e.id||"#login-prompt",this.pass=null,e.class="login-prompt",config$1.kong){param("kongregate_user_id");const l=param("kongregate_game_auth_token");this.pass=l}log("LoginPrompt.init: gmcp is "+e.gmcp),j$4("#login-prompt").length&&(e.replace=!1,log("forcing replace mode off"));try{e.gmcp||(e.show=new RegExp(e.show),e.err=new RegExp(e.error),delete e.error),e.dismiss=new RegExp(e.dismiss),e.password=new RegExp(e.password)}catch(l){log(l)}return log(e),this.options=e,e.gmcp&&this.show(),{listen:l=>this.listen(l)}}initialize(e){const l=this.options,c=document.querySelector(".modal");if(c){const u=Modal$1.getInstance(c);u&&u.hide()}const f='\n      <div class="modal '.concat(l.class,' fade" tabindex="-1">\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h5 class="modal-title">').concat(e||l.title||"Please Login:","</h5>\n              ").concat(l.closeable?'<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>':"",'\n            </div>\n            <div class="modal-body">\n              <div class="error alert alert-danger" style="display:none"></div>\n              <div style="width: 100%; margin-top: 24px;">\n                <div class="left" style="margin: 0px; opacity: 0.6; padding: 0px 40px 0px 0px">\n                  <img style="width: 90px;" src="/app/images/login.png">\n                </div>\n                <div class="left" style="width: 200px">\n                  <form id="havoc-login-prompt" action="havoc/login">\n                    <input name="username" class="user right" type="text" tabindex="1" \n                           autocapitalize="off" autocorrect="off" size="18" \n                           placeholder="').concat(l.placeholder||"",'">\n                    <br><br>\n                    <input name="password" class="pass right" type="password" tabindex="2"\n                           autocapitalize="off" autocorrect="off" size="18" \n                           placeholder="password">\n                  </form>\n                </div>\n              </div>\n            </div>\n            <div class="modal-footer"></div>\n          </div>\n        </div>\n      </div>\n    ');j$4("body").append(f),this.setupButtons(),this.setupEventListeners();const h=document.querySelector(".modal");this.modalInstance=new Modal$1(h,{backdrop:"static",keyboard:!0}),l.css&&(l.css.width&&(l.css["margin-left"]=-(l.css.width/2)),j$4(".modal").css(l.css)),this.modalInstance.show()}setupButtons(){var l;this.options;const e=[{text:'<i class="icon-signin"></i> Login',keep:!0,"data-role":"submit",handler:()=>this.handleSubmit()},{text:'<i class="icon-remove"></i> Cancel',"data-role":"cancel",handler:()=>{log("LoginPrompt cancel"),this.modalInstance.hide()}}];(l=window.user)!=null&&l.guest&&!config$1.device.touch&&!config$1.kong&&!param("gui")&&!param("havoc")&&e.unshift({text:'<i class="icon-sun"></i> Portal Sign-In',handler:()=>{window.open("/component/comprofiler/login","_self")}}),e.forEach((c,f)=>{const h='\n        <button class="btn btn-secondary kbutton custom-'.concat(f,'">\n          ').concat(c.text,"\n        </button>\n      ");j$4(".modal-footer").append(h),c.handler&&j$4(".modal-footer .custom-".concat(f)).on("click",u=>{u.preventDefault(),c.handler(),c.keep||this.modalInstance.hide()})})}setupEventListeners(){j$4("".concat(this.id," .user")).focus().on("keydown",e=>{e.key==="Enter"&&(!param("havoc")&&!j$4("".concat(this.id," .pass")).val().length?j$4("".concat(this.id," .pass")).focus():this.handleSubmit(),e.preventDefault())}),j$4("".concat(this.id," .pass")).on("keydown",e=>{e.key==="Enter"&&(this.handleSubmit(),e.preventDefault())}),j$4(".modal").on("hide.bs.modal",()=>{j$4("".concat(this.id," .user")).off("keydown"),j$4("".concat(this.id," .pass")).off("keydown")})}isShown(){return j$4(".modal.login-prompt").length}listen(e){if(!e)return e;if(this.line=e.match(this.options.show)){if(log("LoginPrompt listen show"),config$1.kong)return config$1.socket.write(param("kongregate_user_id")),e.replace(this.line,"");param("token")?config$1.socket.write(param("token")):this.show(this.line[0])}else{if(this.line=e.match(this.options.err))return log("LoginPrompt listen error"),j$4("".concat(this.id," .error")).html(this.line[0]).show(),e;if(this.pass&&e.match(this.options.password))return log("LoginPrompt password prompt detected"),this.pastuser=!0,config$1.kong?(config$1.socket.write(this.pass),""):(config$1.socket.write(this.pass),e);if(this.isShown()&&e.match(this.options.dismiss))log("LoginPrompt dismiss detected"),j$4(".modal").modal("hide"),setTimeout(()=>{j$4("#scroll-view .send").focus()},500);else if(config$1.kong){if(e.includes("Username available. Would you like to create"))return config$1.socket.write("y;".concat(this.pass,";").concat(this.pass)),"";if(e.includes("Give me a password for"))return"";if(e.includes("Please retype password"))return""}}return e}handleSubmit(){log("LoginPrompt.go");const e=j$4(".modal .user").val(),l=j$4(".modal .pass").val();if(!e){j$4(".modal .error").html("You need to enter a ".concat(this.options.placeholder,".")).show();return}if(!param("havoc")&&!l){j$4(".modal .error").html("You need to enter a password.").show();return}j$4(".modal .error").hide(),this.user=e,this.pass=l,this.pastuser?config$1.socket.write(this.pass):this.options.gmcp?this.pass?config$1.socket.write(stringify({username:this.user,password:this.pass})):config$1.socket.write(this.user):config$1.socket.write(this.user),this.modalInstance.hide()}show(e){this.initialize(e)}}Event$1.listen("gmcp",a=>{if(!a||!a.startsWith("LoginPrompt"))return a;log("LoginPrompt detected gmcp trigger");try{const e=JSON.parse(a.match(/^[^ ]+ (.*)/)[1]);e.gmcp=!0,new LoginPrompt(e)}catch(e){log(e)}return a});var noop={value:()=>{}};function dispatch(){for(var a=0,e=arguments.length,l={},c;a<e;++a){if(!(c=arguments[a]+"")||c in l||/[\s.]/.test(c))throw new Error("illegal type: "+c);l[c]=[]}return new Dispatch(l)}function Dispatch(a){this._=a}function parseTypenames$1(a,e){return a.trim().split(/^|\s+/).map(function(l){var c="",f=l.indexOf(".");if(f>=0&&(c=l.slice(f+1),l=l.slice(0,f)),l&&!e.hasOwnProperty(l))throw new Error("unknown type: "+l);return{type:l,name:c}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(a,e){var l=this._,c=parseTypenames$1(a+"",l),f,h=-1,u=c.length;if(arguments.length<2){for(;++h<u;)if((f=(a=c[h]).type)&&(f=get$1(l[f],a.name)))return f;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++h<u;)if(f=(a=c[h]).type)l[f]=set$1(l[f],a.name,e);else if(e==null)for(f in l)l[f]=set$1(l[f],a.name,null);return this},copy:function(){var a={},e=this._;for(var l in e)a[l]=e[l].slice();return new Dispatch(a)},call:function(a,e){if((f=arguments.length-2)>0)for(var l=new Array(f),c=0,f,h;c<f;++c)l[c]=arguments[c+2];if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(h=this._[a],c=0,f=h.length;c<f;++c)h[c].value.apply(e,l)},apply:function(a,e,l){if(!this._.hasOwnProperty(a))throw new Error("unknown type: "+a);for(var c=this._[a],f=0,h=c.length;f<h;++f)c[f].value.apply(e,l)}};function get$1(a,e){for(var l=0,c=a.length,f;l<c;++l)if((f=a[l]).name===e)return f.value}function set$1(a,e,l){for(var c=0,f=a.length;c<f;++c)if(a[c].name===e){a[c]=noop,a=a.slice(0,c).concat(a.slice(c+1));break}return l!=null&&a.push({name:e,value:l}),a}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(a){var e=a+="",l=e.indexOf(":");return l>=0&&(e=a.slice(0,l))!=="xmlns"&&(a=a.slice(l+1)),namespaces.hasOwnProperty(e)?{space:namespaces[e],local:a}:a}function creatorInherit(a){return function(){var e=this.ownerDocument,l=this.namespaceURI;return l===xhtml&&e.documentElement.namespaceURI===xhtml?e.createElement(a):e.createElementNS(l,a)}}function creatorFixed(a){return function(){return this.ownerDocument.createElementNS(a.space,a.local)}}function creator(a){var e=namespace(a);return(e.local?creatorFixed:creatorInherit)(e)}function none(){}function selector(a){return a==null?none:function(){return this.querySelector(a)}}function selection_select(a){typeof a!="function"&&(a=selector(a));for(var e=this._groups,l=e.length,c=new Array(l),f=0;f<l;++f)for(var h=e[f],u=h.length,m=c[f]=new Array(u),v,_,b=0;b<u;++b)(v=h[b])&&(_=a.call(v,v.__data__,b,h))&&("__data__"in v&&(_.__data__=v.__data__),m[b]=_);return new Selection$1(c,this._parents)}function array(a){return a==null?[]:Array.isArray(a)?a:Array.from(a)}function empty(){return[]}function selectorAll(a){return a==null?empty:function(){return this.querySelectorAll(a)}}function arrayAll(a){return function(){return array(a.apply(this,arguments))}}function selection_selectAll(a){typeof a=="function"?a=arrayAll(a):a=selectorAll(a);for(var e=this._groups,l=e.length,c=[],f=[],h=0;h<l;++h)for(var u=e[h],m=u.length,v,_=0;_<m;++_)(v=u[_])&&(c.push(a.call(v,v.__data__,_,u)),f.push(v));return new Selection$1(c,f)}function matcher(a){return function(){return this.matches(a)}}function childMatcher(a){return function(e){return e.matches(a)}}var find=Array.prototype.find;function childFind(a){return function(){return find.call(this.children,a)}}function childFirst(){return this.firstElementChild}function selection_selectChild(a){return this.select(a==null?childFirst:childFind(typeof a=="function"?a:childMatcher(a)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(a){return function(){return filter.call(this.children,a)}}function selection_selectChildren(a){return this.selectAll(a==null?children:childrenFilter(typeof a=="function"?a:childMatcher(a)))}function selection_filter(a){typeof a!="function"&&(a=matcher(a));for(var e=this._groups,l=e.length,c=new Array(l),f=0;f<l;++f)for(var h=e[f],u=h.length,m=c[f]=[],v,_=0;_<u;++_)(v=h[_])&&a.call(v,v.__data__,_,h)&&m.push(v);return new Selection$1(c,this._parents)}function sparse(a){return new Array(a.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(a,e){this.ownerDocument=a.ownerDocument,this.namespaceURI=a.namespaceURI,this._next=null,this._parent=a,this.__data__=e}EnterNode.prototype={constructor:EnterNode,appendChild:function(a){return this._parent.insertBefore(a,this._next)},insertBefore:function(a,e){return this._parent.insertBefore(a,e)},querySelector:function(a){return this._parent.querySelector(a)},querySelectorAll:function(a){return this._parent.querySelectorAll(a)}};function constant$1(a){return function(){return a}}function bindIndex(a,e,l,c,f,h){for(var u=0,m,v=e.length,_=h.length;u<_;++u)(m=e[u])?(m.__data__=h[u],c[u]=m):l[u]=new EnterNode(a,h[u]);for(;u<v;++u)(m=e[u])&&(f[u]=m)}function bindKey(a,e,l,c,f,h,u){var m,v,_=new Map,b=e.length,E=h.length,y=new Array(b),$;for(m=0;m<b;++m)(v=e[m])&&(y[m]=$=u.call(v,v.__data__,m,e)+"",_.has($)?f[m]=v:_.set($,v));for(m=0;m<E;++m)$=u.call(a,h[m],m,h)+"",(v=_.get($))?(c[m]=v,v.__data__=h[m],_.delete($)):l[m]=new EnterNode(a,h[m]);for(m=0;m<b;++m)(v=e[m])&&_.get(y[m])===v&&(f[m]=v)}function datum(a){return a.__data__}function selection_data(a,e){if(!arguments.length)return Array.from(this,datum);var l=e?bindKey:bindIndex,c=this._parents,f=this._groups;typeof a!="function"&&(a=constant$1(a));for(var h=f.length,u=new Array(h),m=new Array(h),v=new Array(h),_=0;_<h;++_){var b=c[_],E=f[_],y=E.length,$=arraylike(a.call(b,b&&b.__data__,_,c)),T=$.length,C=m[_]=new Array(T),O=u[_]=new Array(T),D=v[_]=new Array(y);l(b,E,C,O,D,$,e);for(var R=0,k=0,I,N;R<T;++R)if(I=C[R]){for(R>=k&&(k=R+1);!(N=O[k])&&++k<T;);I._next=N||null}}return u=new Selection$1(u,c),u._enter=m,u._exit=v,u}function arraylike(a){return typeof a=="object"&&"length"in a?a:Array.from(a)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(a,e,l){var c=this.enter(),f=this,h=this.exit();return typeof a=="function"?(c=a(c),c&&(c=c.selection())):c=c.append(a+""),e!=null&&(f=e(f),f&&(f=f.selection())),l==null?h.remove():l(h),c&&f?c.merge(f).order():f}function selection_merge(a){for(var e=a.selection?a.selection():a,l=this._groups,c=e._groups,f=l.length,h=c.length,u=Math.min(f,h),m=new Array(f),v=0;v<u;++v)for(var _=l[v],b=c[v],E=_.length,y=m[v]=new Array(E),$,T=0;T<E;++T)($=_[T]||b[T])&&(y[T]=$);for(;v<f;++v)m[v]=l[v];return new Selection$1(m,this._parents)}function selection_order(){for(var a=this._groups,e=-1,l=a.length;++e<l;)for(var c=a[e],f=c.length-1,h=c[f],u;--f>=0;)(u=c[f])&&(h&&u.compareDocumentPosition(h)^4&&h.parentNode.insertBefore(u,h),h=u);return this}function selection_sort(a){a||(a=ascending);function e(E,y){return E&&y?a(E.__data__,y.__data__):!E-!y}for(var l=this._groups,c=l.length,f=new Array(c),h=0;h<c;++h){for(var u=l[h],m=u.length,v=f[h]=new Array(m),_,b=0;b<m;++b)(_=u[b])&&(v[b]=_);v.sort(e)}return new Selection$1(f,this._parents).order()}function ascending(a,e){return a<e?-1:a>e?1:a>=e?0:NaN}function selection_call(){var a=arguments[0];return arguments[0]=this,a.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var a=this._groups,e=0,l=a.length;e<l;++e)for(var c=a[e],f=0,h=c.length;f<h;++f){var u=c[f];if(u)return u}return null}function selection_size(){let a=0;for(const e of this)++a;return a}function selection_empty(){return!this.node()}function selection_each(a){for(var e=this._groups,l=0,c=e.length;l<c;++l)for(var f=e[l],h=0,u=f.length,m;h<u;++h)(m=f[h])&&a.call(m,m.__data__,h,f);return this}function attrRemove$1(a){return function(){this.removeAttribute(a)}}function attrRemoveNS$1(a){return function(){this.removeAttributeNS(a.space,a.local)}}function attrConstant$1(a,e){return function(){this.setAttribute(a,e)}}function attrConstantNS$1(a,e){return function(){this.setAttributeNS(a.space,a.local,e)}}function attrFunction$1(a,e){return function(){var l=e.apply(this,arguments);l==null?this.removeAttribute(a):this.setAttribute(a,l)}}function attrFunctionNS$1(a,e){return function(){var l=e.apply(this,arguments);l==null?this.removeAttributeNS(a.space,a.local):this.setAttributeNS(a.space,a.local,l)}}function selection_attr(a,e){var l=namespace(a);if(arguments.length<2){var c=this.node();return l.local?c.getAttributeNS(l.space,l.local):c.getAttribute(l)}return this.each((e==null?l.local?attrRemoveNS$1:attrRemove$1:typeof e=="function"?l.local?attrFunctionNS$1:attrFunction$1:l.local?attrConstantNS$1:attrConstant$1)(l,e))}function defaultView(a){return a.ownerDocument&&a.ownerDocument.defaultView||a.document&&a||a.defaultView}function styleRemove$1(a){return function(){this.style.removeProperty(a)}}function styleConstant$1(a,e,l){return function(){this.style.setProperty(a,e,l)}}function styleFunction$1(a,e,l){return function(){var c=e.apply(this,arguments);c==null?this.style.removeProperty(a):this.style.setProperty(a,c,l)}}function selection_style(a,e,l){return arguments.length>1?this.each((e==null?styleRemove$1:typeof e=="function"?styleFunction$1:styleConstant$1)(a,e,l==null?"":l)):styleValue(this.node(),a)}function styleValue(a,e){return a.style.getPropertyValue(e)||defaultView(a).getComputedStyle(a,null).getPropertyValue(e)}function propertyRemove(a){return function(){delete this[a]}}function propertyConstant(a,e){return function(){this[a]=e}}function propertyFunction(a,e){return function(){var l=e.apply(this,arguments);l==null?delete this[a]:this[a]=l}}function selection_property(a,e){return arguments.length>1?this.each((e==null?propertyRemove:typeof e=="function"?propertyFunction:propertyConstant)(a,e)):this.node()[a]}function classArray(a){return a.trim().split(/^|\s+/)}function classList(a){return a.classList||new ClassList(a)}function ClassList(a){this._node=a,this._names=classArray(a.getAttribute("class")||"")}ClassList.prototype={add:function(a){var e=this._names.indexOf(a);e<0&&(this._names.push(a),this._node.setAttribute("class",this._names.join(" ")))},remove:function(a){var e=this._names.indexOf(a);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(a){return this._names.indexOf(a)>=0}};function classedAdd(a,e){for(var l=classList(a),c=-1,f=e.length;++c<f;)l.add(e[c])}function classedRemove(a,e){for(var l=classList(a),c=-1,f=e.length;++c<f;)l.remove(e[c])}function classedTrue(a){return function(){classedAdd(this,a)}}function classedFalse(a){return function(){classedRemove(this,a)}}function classedFunction(a,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,a)}}function selection_classed(a,e){var l=classArray(a+"");if(arguments.length<2){for(var c=classList(this.node()),f=-1,h=l.length;++f<h;)if(!c.contains(l[f]))return!1;return!0}return this.each((typeof e=="function"?classedFunction:e?classedTrue:classedFalse)(l,e))}function textRemove(){this.textContent=""}function textConstant$1(a){return function(){this.textContent=a}}function textFunction$1(a){return function(){var e=a.apply(this,arguments);this.textContent=e==null?"":e}}function selection_text(a){return arguments.length?this.each(a==null?textRemove:(typeof a=="function"?textFunction$1:textConstant$1)(a)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(a){return function(){this.innerHTML=a}}function htmlFunction(a){return function(){var e=a.apply(this,arguments);this.innerHTML=e==null?"":e}}function selection_html(a){return arguments.length?this.each(a==null?htmlRemove:(typeof a=="function"?htmlFunction:htmlConstant)(a)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(a){var e=typeof a=="function"?a:creator(a);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function constantNull(){return null}function selection_insert(a,e){var l=typeof a=="function"?a:creator(a),c=e==null?constantNull:typeof e=="function"?e:selector(e);return this.select(function(){return this.insertBefore(l.apply(this,arguments),c.apply(this,arguments)||null)})}function remove(){var a=this.parentNode;a&&a.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var a=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(a,this.nextSibling):a}function selection_cloneDeep(){var a=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(a,this.nextSibling):a}function selection_clone(a){return this.select(a?selection_cloneDeep:selection_cloneShallow)}function selection_datum(a){return arguments.length?this.property("__data__",a):this.node().__data__}function contextListener(a){return function(e){a.call(this,e,this.__data__)}}function parseTypenames(a){return a.trim().split(/^|\s+/).map(function(e){var l="",c=e.indexOf(".");return c>=0&&(l=e.slice(c+1),e=e.slice(0,c)),{type:e,name:l}})}function onRemove(a){return function(){var e=this.__on;if(e){for(var l=0,c=-1,f=e.length,h;l<f;++l)h=e[l],(!a.type||h.type===a.type)&&h.name===a.name?this.removeEventListener(h.type,h.listener,h.options):e[++c]=h;++c?e.length=c:delete this.__on}}}function onAdd(a,e,l){return function(){var c=this.__on,f,h=contextListener(e);if(c){for(var u=0,m=c.length;u<m;++u)if((f=c[u]).type===a.type&&f.name===a.name){this.removeEventListener(f.type,f.listener,f.options),this.addEventListener(f.type,f.listener=h,f.options=l),f.value=e;return}}this.addEventListener(a.type,h,l),f={type:a.type,name:a.name,value:e,listener:h,options:l},c?c.push(f):this.__on=[f]}}function selection_on(a,e,l){var c=parseTypenames(a+""),f,h=c.length,u;if(arguments.length<2){var m=this.node().__on;if(m){for(var v=0,_=m.length,b;v<_;++v)for(f=0,b=m[v];f<h;++f)if((u=c[f]).type===b.type&&u.name===b.name)return b.value}return}for(m=e?onAdd:onRemove,f=0;f<h;++f)this.each(m(c[f],e,l));return this}function dispatchEvent(a,e,l){var c=defaultView(a),f=c.CustomEvent;typeof f=="function"?f=new f(e,l):(f=c.document.createEvent("Event"),l?(f.initEvent(e,l.bubbles,l.cancelable),f.detail=l.detail):f.initEvent(e,!1,!1)),a.dispatchEvent(f)}function dispatchConstant(a,e){return function(){return dispatchEvent(this,a,e)}}function dispatchFunction(a,e){return function(){return dispatchEvent(this,a,e.apply(this,arguments))}}function selection_dispatch(a,e){return this.each((typeof e=="function"?dispatchFunction:dispatchConstant)(a,e))}function*selection_iterator(){for(var a=this._groups,e=0,l=a.length;e<l;++e)for(var c=a[e],f=0,h=c.length,u;f<h;++f)(u=c[f])&&(yield u)}var root=[null];function Selection$1(a,e){this._groups=a,this._parents=e}function selection(){return new Selection$1([[document.documentElement]],root)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(a){return typeof a=="string"?new Selection$1([[document.querySelector(a)]],[document.documentElement]):new Selection$1([[a]],root)}function define(a,e,l){a.prototype=e.prototype=l,l.constructor=a}function extend(a,e){var l=Object.create(a.prototype);for(var c in e)l[c]=e[c];return l}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp("^rgb\\(".concat(reI,",").concat(reI,",").concat(reI,"\\)$")),reRgbPercent=new RegExp("^rgb\\(".concat(reP,",").concat(reP,",").concat(reP,"\\)$")),reRgbaInteger=new RegExp("^rgba\\(".concat(reI,",").concat(reI,",").concat(reI,",").concat(reN,"\\)$")),reRgbaPercent=new RegExp("^rgba\\(".concat(reP,",").concat(reP,",").concat(reP,",").concat(reN,"\\)$")),reHslPercent=new RegExp("^hsl\\(".concat(reN,",").concat(reP,",").concat(reP,"\\)$")),reHslaPercent=new RegExp("^hsla\\(".concat(reN,",").concat(reP,",").concat(reP,",").concat(reN,"\\)$")),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color,{copy(a){return Object.assign(new this.constructor,this,a)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(a){var e,l;return a=(a+"").trim().toLowerCase(),(e=reHex.exec(a))?(l=e[1].length,e=parseInt(e[1],16),l===6?rgbn(e):l===3?new Rgb(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):l===8?rgba(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):l===4?rgba(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=reRgbInteger.exec(a))?new Rgb(e[1],e[2],e[3],1):(e=reRgbPercent.exec(a))?new Rgb(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=reRgbaInteger.exec(a))?rgba(e[1],e[2],e[3],e[4]):(e=reRgbaPercent.exec(a))?rgba(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=reHslPercent.exec(a))?hsla(e[1],e[2]/100,e[3]/100,1):(e=reHslaPercent.exec(a))?hsla(e[1],e[2]/100,e[3]/100,e[4]):named.hasOwnProperty(a)?rgbn(named[a]):a==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(a){return new Rgb(a>>16&255,a>>8&255,a&255,1)}function rgba(a,e,l,c){return c<=0&&(a=e=l=NaN),new Rgb(a,e,l,c)}function rgbConvert(a){return a instanceof Color||(a=color(a)),a?(a=a.rgb(),new Rgb(a.r,a.g,a.b,a.opacity)):new Rgb}function rgb(a,e,l,c){return arguments.length===1?rgbConvert(a):new Rgb(a,e,l,c==null?1:c)}function Rgb(a,e,l,c){this.r=+a,this.g=+e,this.b=+l,this.opacity=+c}define(Rgb,rgb,extend(Color,{brighter(a){return a=a==null?brighter:Math.pow(brighter,a),new Rgb(this.r*a,this.g*a,this.b*a,this.opacity)},darker(a){return a=a==null?darker:Math.pow(darker,a),new Rgb(this.r*a,this.g*a,this.b*a,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return"#".concat(hex(this.r)).concat(hex(this.g)).concat(hex(this.b))}function rgb_formatHex8(){return"#".concat(hex(this.r)).concat(hex(this.g)).concat(hex(this.b)).concat(hex((isNaN(this.opacity)?1:this.opacity)*255))}function rgb_formatRgb(){const a=clampa(this.opacity);return"".concat(a===1?"rgb(":"rgba(").concat(clampi(this.r),", ").concat(clampi(this.g),", ").concat(clampi(this.b)).concat(a===1?")":", ".concat(a,")"))}function clampa(a){return isNaN(a)?1:Math.max(0,Math.min(1,a))}function clampi(a){return Math.max(0,Math.min(255,Math.round(a)||0))}function hex(a){return a=clampi(a),(a<16?"0":"")+a.toString(16)}function hsla(a,e,l,c){return c<=0?a=e=l=NaN:l<=0||l>=1?a=e=NaN:e<=0&&(a=NaN),new Hsl(a,e,l,c)}function hslConvert(a){if(a instanceof Hsl)return new Hsl(a.h,a.s,a.l,a.opacity);if(a instanceof Color||(a=color(a)),!a)return new Hsl;if(a instanceof Hsl)return a;a=a.rgb();var e=a.r/255,l=a.g/255,c=a.b/255,f=Math.min(e,l,c),h=Math.max(e,l,c),u=NaN,m=h-f,v=(h+f)/2;return m?(e===h?u=(l-c)/m+(l<c)*6:l===h?u=(c-e)/m+2:u=(e-l)/m+4,m/=v<.5?h+f:2-h-f,u*=60):m=v>0&&v<1?0:u,new Hsl(u,m,v,a.opacity)}function hsl(a,e,l,c){return arguments.length===1?hslConvert(a):new Hsl(a,e,l,c==null?1:c)}function Hsl(a,e,l,c){this.h=+a,this.s=+e,this.l=+l,this.opacity=+c}define(Hsl,hsl,extend(Color,{brighter(a){return a=a==null?brighter:Math.pow(brighter,a),new Hsl(this.h,this.s,this.l*a,this.opacity)},darker(a){return a=a==null?darker:Math.pow(darker,a),new Hsl(this.h,this.s,this.l*a,this.opacity)},rgb(){var a=this.h%360+(this.h<0)*360,e=isNaN(a)||isNaN(this.s)?0:this.s,l=this.l,c=l+(l<.5?l:1-l)*e,f=2*l-c;return new Rgb(hsl2rgb(a>=240?a-240:a+120,f,c),hsl2rgb(a,f,c),hsl2rgb(a<120?a+240:a-120,f,c),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=clampa(this.opacity);return"".concat(a===1?"hsl(":"hsla(").concat(clamph(this.h),", ").concat(clampt(this.s)*100,"%, ").concat(clampt(this.l)*100,"%").concat(a===1?")":", ".concat(a,")"))}}));function clamph(a){return a=(a||0)%360,a<0?a+360:a}function clampt(a){return Math.max(0,Math.min(1,a||0))}function hsl2rgb(a,e,l){return(a<60?e+(l-e)*a/60:a<180?l:a<240?e+(l-e)*(240-a)/60:e)*255}const constant=a=>()=>a;function linear(a,e){return function(l){return a+l*e}}function exponential(a,e,l){return a=Math.pow(a,l),e=Math.pow(e,l)-a,l=1/l,function(c){return Math.pow(a+c*e,l)}}function gamma(a){return(a=+a)==1?nogamma:function(e,l){return l-e?exponential(e,l,a):constant(isNaN(e)?l:e)}}function nogamma(a,e){var l=e-a;return l?linear(a,l):constant(isNaN(a)?e:a)}const interpolateRgb=function a(e){var l=gamma(e);function c(f,h){var u=l((f=rgb(f)).r,(h=rgb(h)).r),m=l(f.g,h.g),v=l(f.b,h.b),_=nogamma(f.opacity,h.opacity);return function(b){return f.r=u(b),f.g=m(b),f.b=v(b),f.opacity=_(b),f+""}}return c.gamma=a,c}(1);function interpolateNumber(a,e){return a=+a,e=+e,function(l){return a*(1-l)+e*l}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(a){return function(){return a}}function one(a){return function(e){return a(e)+""}}function interpolateString(a,e){var l=reA.lastIndex=reB.lastIndex=0,c,f,h,u=-1,m=[],v=[];for(a=a+"",e=e+"";(c=reA.exec(a))&&(f=reB.exec(e));)(h=f.index)>l&&(h=e.slice(l,h),m[u]?m[u]+=h:m[++u]=h),(c=c[0])===(f=f[0])?m[u]?m[u]+=f:m[++u]=f:(m[++u]=null,v.push({i:u,x:interpolateNumber(c,f)})),l=reB.lastIndex;return l<e.length&&(h=e.slice(l),m[u]?m[u]+=h:m[++u]=h),m.length<2?v[0]?one(v[0].x):zero(e):(e=v.length,function(_){for(var b=0,E;b<e;++b)m[(E=v[b]).i]=E.x(_);return m.join("")})}var degrees=180/Math.PI,identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(a,e,l,c,f,h){var u,m,v;return(u=Math.sqrt(a*a+e*e))&&(a/=u,e/=u),(v=a*l+e*c)&&(l-=a*v,c-=e*v),(m=Math.sqrt(l*l+c*c))&&(l/=m,c/=m,v/=m),a*c<e*l&&(a=-a,e=-e,v=-v,u=-u),{translateX:f,translateY:h,rotate:Math.atan2(e,a)*degrees,skewX:Math.atan(v)*degrees,scaleX:u,scaleY:m}}var svgNode;function parseCss(a){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(a+"");return e.isIdentity?identity:decompose(e.a,e.b,e.c,e.d,e.e,e.f)}function parseSvg(a){return a==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",a),!(a=svgNode.transform.baseVal.consolidate()))?identity:(a=a.matrix,decompose(a.a,a.b,a.c,a.d,a.e,a.f))}function interpolateTransform(a,e,l,c){function f(_){return _.length?_.pop()+" ":""}function h(_,b,E,y,$,T){if(_!==E||b!==y){var C=$.push("translate(",null,e,null,l);T.push({i:C-4,x:interpolateNumber(_,E)},{i:C-2,x:interpolateNumber(b,y)})}else(E||y)&&$.push("translate("+E+e+y+l)}function u(_,b,E,y){_!==b?(_-b>180?b+=360:b-_>180&&(_+=360),y.push({i:E.push(f(E)+"rotate(",null,c)-2,x:interpolateNumber(_,b)})):b&&E.push(f(E)+"rotate("+b+c)}function m(_,b,E,y){_!==b?y.push({i:E.push(f(E)+"skewX(",null,c)-2,x:interpolateNumber(_,b)}):b&&E.push(f(E)+"skewX("+b+c)}function v(_,b,E,y,$,T){if(_!==E||b!==y){var C=$.push(f($)+"scale(",null,",",null,")");T.push({i:C-4,x:interpolateNumber(_,E)},{i:C-2,x:interpolateNumber(b,y)})}else(E!==1||y!==1)&&$.push(f($)+"scale("+E+","+y+")")}return function(_,b){var E=[],y=[];return _=a(_),b=a(b),h(_.translateX,_.translateY,b.translateX,b.translateY,E,y),u(_.rotate,b.rotate,E,y),m(_.skewX,b.skewX,E,y),v(_.scaleX,_.scaleY,b.scaleX,b.scaleY,E,y),_=b=null,function($){for(var T=-1,C=y.length,O;++T<C;)E[(O=y[T]).i]=O.x($);return E.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(a){setTimeout(a,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(a,e,l){if(typeof a!="function")throw new TypeError("callback is not a function");l=(l==null?now():+l)+(e==null?0:+e),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=a,this._time=l,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(a,e,l){var c=new Timer;return c.restart(a,e,l),c}function timerFlush(){now(),++frame;for(var a=taskHead,e;a;)(e=clockNow-a._time)>=0&&a._call.call(void 0,e),a=a._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var a=clock.now(),e=a-clockLast;e>pokeDelay&&(clockSkew-=e,clockLast=a)}function nap(){for(var a,e=taskHead,l,c=1/0;e;)e._call?(c>e._time&&(c=e._time),a=e,e=e._next):(l=e._next,e._next=null,e=a?a._next=l:taskHead=l);taskTail=a,sleep(c)}function sleep(a){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var e=a-clockNow;e>24?(a<1/0&&(timeout$1=setTimeout(wake,a-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(a,e,l){var c=new Timer;return e=e==null?0:+e,c.restart(f=>{c.stop(),a(f+e)},e,l),c}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(a,e,l,c,f,h){var u=a.__transition;if(!u)a.__transition={};else if(l in u)return;create(a,l,{name:e,index:c,group:f,on:emptyOn,tween:emptyTween,time:h.time,delay:h.delay,duration:h.duration,ease:h.ease,timer:null,state:CREATED})}function init(a,e){var l=get(a,e);if(l.state>CREATED)throw new Error("too late; already scheduled");return l}function set(a,e){var l=get(a,e);if(l.state>STARTED)throw new Error("too late; already running");return l}function get(a,e){var l=a.__transition;if(!l||!(l=l[e]))throw new Error("transition not found");return l}function create(a,e,l){var c=a.__transition,f;c[e]=l,l.timer=timer(h,0,l.time);function h(_){l.state=SCHEDULED,l.timer.restart(u,l.delay,l.time),l.delay<=_&&u(_-l.delay)}function u(_){var b,E,y,$;if(l.state!==SCHEDULED)return v();for(b in c)if($=c[b],$.name===l.name){if($.state===STARTED)return timeout(u);$.state===RUNNING?($.state=ENDED,$.timer.stop(),$.on.call("interrupt",a,a.__data__,$.index,$.group),delete c[b]):+b<e&&($.state=ENDED,$.timer.stop(),$.on.call("cancel",a,a.__data__,$.index,$.group),delete c[b])}if(timeout(function(){l.state===STARTED&&(l.state=RUNNING,l.timer.restart(m,l.delay,l.time),m(_))}),l.state=STARTING,l.on.call("start",a,a.__data__,l.index,l.group),l.state===STARTING){for(l.state=STARTED,f=new Array(y=l.tween.length),b=0,E=-1;b<y;++b)($=l.tween[b].value.call(a,a.__data__,l.index,l.group))&&(f[++E]=$);f.length=E+1}}function m(_){for(var b=_<l.duration?l.ease.call(null,_/l.duration):(l.timer.restart(v),l.state=ENDING,1),E=-1,y=f.length;++E<y;)f[E].call(a,b);l.state===ENDING&&(l.on.call("end",a,a.__data__,l.index,l.group),v())}function v(){l.state=ENDED,l.timer.stop(),delete c[e];for(var _ in c)return;delete a.__transition}}function interrupt(a,e){var l=a.__transition,c,f,h=!0,u;if(l){e=e==null?null:e+"";for(u in l){if((c=l[u]).name!==e){h=!1;continue}f=c.state>STARTING&&c.state<ENDING,c.state=ENDED,c.timer.stop(),c.on.call(f?"interrupt":"cancel",a,a.__data__,c.index,c.group),delete l[u]}h&&delete a.__transition}}function selection_interrupt(a){return this.each(function(){interrupt(this,a)})}function tweenRemove(a,e){var l,c;return function(){var f=set(this,a),h=f.tween;if(h!==l){c=l=h;for(var u=0,m=c.length;u<m;++u)if(c[u].name===e){c=c.slice(),c.splice(u,1);break}}f.tween=c}}function tweenFunction(a,e,l){var c,f;if(typeof l!="function")throw new Error;return function(){var h=set(this,a),u=h.tween;if(u!==c){f=(c=u).slice();for(var m={name:e,value:l},v=0,_=f.length;v<_;++v)if(f[v].name===e){f[v]=m;break}v===_&&f.push(m)}h.tween=f}}function transition_tween(a,e){var l=this._id;if(a+="",arguments.length<2){for(var c=get(this.node(),l).tween,f=0,h=c.length,u;f<h;++f)if((u=c[f]).name===a)return u.value;return null}return this.each((e==null?tweenRemove:tweenFunction)(l,a,e))}function tweenValue(a,e,l){var c=a._id;return a.each(function(){var f=set(this,c);(f.value||(f.value={}))[e]=l.apply(this,arguments)}),function(f){return get(f,c).value[e]}}function interpolate(a,e){var l;return(typeof e=="number"?interpolateNumber:e instanceof color?interpolateRgb:(l=color(e))?(e=l,interpolateRgb):interpolateString)(a,e)}function attrRemove(a){return function(){this.removeAttribute(a)}}function attrRemoveNS(a){return function(){this.removeAttributeNS(a.space,a.local)}}function attrConstant(a,e,l){var c,f=l+"",h;return function(){var u=this.getAttribute(a);return u===f?null:u===c?h:h=e(c=u,l)}}function attrConstantNS(a,e,l){var c,f=l+"",h;return function(){var u=this.getAttributeNS(a.space,a.local);return u===f?null:u===c?h:h=e(c=u,l)}}function attrFunction(a,e,l){var c,f,h;return function(){var u,m=l(this),v;return m==null?void this.removeAttribute(a):(u=this.getAttribute(a),v=m+"",u===v?null:u===c&&v===f?h:(f=v,h=e(c=u,m)))}}function attrFunctionNS(a,e,l){var c,f,h;return function(){var u,m=l(this),v;return m==null?void this.removeAttributeNS(a.space,a.local):(u=this.getAttributeNS(a.space,a.local),v=m+"",u===v?null:u===c&&v===f?h:(f=v,h=e(c=u,m)))}}function transition_attr(a,e){var l=namespace(a),c=l==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(a,typeof e=="function"?(l.local?attrFunctionNS:attrFunction)(l,c,tweenValue(this,"attr."+a,e)):e==null?(l.local?attrRemoveNS:attrRemove)(l):(l.local?attrConstantNS:attrConstant)(l,c,e))}function attrInterpolate(a,e){return function(l){this.setAttribute(a,e.call(this,l))}}function attrInterpolateNS(a,e){return function(l){this.setAttributeNS(a.space,a.local,e.call(this,l))}}function attrTweenNS(a,e){var l,c;function f(){var h=e.apply(this,arguments);return h!==c&&(l=(c=h)&&attrInterpolateNS(a,h)),l}return f._value=e,f}function attrTween(a,e){var l,c;function f(){var h=e.apply(this,arguments);return h!==c&&(l=(c=h)&&attrInterpolate(a,h)),l}return f._value=e,f}function transition_attrTween(a,e){var l="attr."+a;if(arguments.length<2)return(l=this.tween(l))&&l._value;if(e==null)return this.tween(l,null);if(typeof e!="function")throw new Error;var c=namespace(a);return this.tween(l,(c.local?attrTweenNS:attrTween)(c,e))}function delayFunction(a,e){return function(){init(this,a).delay=+e.apply(this,arguments)}}function delayConstant(a,e){return e=+e,function(){init(this,a).delay=e}}function transition_delay(a){var e=this._id;return arguments.length?this.each((typeof a=="function"?delayFunction:delayConstant)(e,a)):get(this.node(),e).delay}function durationFunction(a,e){return function(){set(this,a).duration=+e.apply(this,arguments)}}function durationConstant(a,e){return e=+e,function(){set(this,a).duration=e}}function transition_duration(a){var e=this._id;return arguments.length?this.each((typeof a=="function"?durationFunction:durationConstant)(e,a)):get(this.node(),e).duration}function easeConstant(a,e){if(typeof e!="function")throw new Error;return function(){set(this,a).ease=e}}function transition_ease(a){var e=this._id;return arguments.length?this.each(easeConstant(e,a)):get(this.node(),e).ease}function easeVarying(a,e){return function(){var l=e.apply(this,arguments);if(typeof l!="function")throw new Error;set(this,a).ease=l}}function transition_easeVarying(a){if(typeof a!="function")throw new Error;return this.each(easeVarying(this._id,a))}function transition_filter(a){typeof a!="function"&&(a=matcher(a));for(var e=this._groups,l=e.length,c=new Array(l),f=0;f<l;++f)for(var h=e[f],u=h.length,m=c[f]=[],v,_=0;_<u;++_)(v=h[_])&&a.call(v,v.__data__,_,h)&&m.push(v);return new Transition(c,this._parents,this._name,this._id)}function transition_merge(a){if(a._id!==this._id)throw new Error;for(var e=this._groups,l=a._groups,c=e.length,f=l.length,h=Math.min(c,f),u=new Array(c),m=0;m<h;++m)for(var v=e[m],_=l[m],b=v.length,E=u[m]=new Array(b),y,$=0;$<b;++$)(y=v[$]||_[$])&&(E[$]=y);for(;m<c;++m)u[m]=e[m];return new Transition(u,this._parents,this._name,this._id)}function start(a){return(a+"").trim().split(/^|\s+/).every(function(e){var l=e.indexOf(".");return l>=0&&(e=e.slice(0,l)),!e||e==="start"})}function onFunction(a,e,l){var c,f,h=start(e)?init:set;return function(){var u=h(this,a),m=u.on;m!==c&&(f=(c=m).copy()).on(e,l),u.on=f}}function transition_on(a,e){var l=this._id;return arguments.length<2?get(this.node(),l).on.on(a):this.each(onFunction(l,a,e))}function removeFunction(a){return function(){var e=this.parentNode;for(var l in this.__transition)if(+l!==a)return;e&&e.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(a){var e=this._name,l=this._id;typeof a!="function"&&(a=selector(a));for(var c=this._groups,f=c.length,h=new Array(f),u=0;u<f;++u)for(var m=c[u],v=m.length,_=h[u]=new Array(v),b,E,y=0;y<v;++y)(b=m[y])&&(E=a.call(b,b.__data__,y,m))&&("__data__"in b&&(E.__data__=b.__data__),_[y]=E,schedule(_[y],e,l,y,_,get(b,l)));return new Transition(h,this._parents,e,l)}function transition_selectAll(a){var e=this._name,l=this._id;typeof a!="function"&&(a=selectorAll(a));for(var c=this._groups,f=c.length,h=[],u=[],m=0;m<f;++m)for(var v=c[m],_=v.length,b,E=0;E<_;++E)if(b=v[E]){for(var y=a.call(b,b.__data__,E,v),$,T=get(b,l),C=0,O=y.length;C<O;++C)($=y[C])&&schedule($,e,l,C,y,T);h.push(y),u.push(b)}return new Transition(h,u,e,l)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(a,e){var l,c,f;return function(){var h=styleValue(this,a),u=(this.style.removeProperty(a),styleValue(this,a));return h===u?null:h===l&&u===c?f:f=e(l=h,c=u)}}function styleRemove(a){return function(){this.style.removeProperty(a)}}function styleConstant(a,e,l){var c,f=l+"",h;return function(){var u=styleValue(this,a);return u===f?null:u===c?h:h=e(c=u,l)}}function styleFunction(a,e,l){var c,f,h;return function(){var u=styleValue(this,a),m=l(this),v=m+"";return m==null&&(v=m=(this.style.removeProperty(a),styleValue(this,a))),u===v?null:u===c&&v===f?h:(f=v,h=e(c=u,m))}}function styleMaybeRemove(a,e){var l,c,f,h="style."+e,u="end."+h,m;return function(){var v=set(this,a),_=v.on,b=v.value[h]==null?m||(m=styleRemove(e)):void 0;(_!==l||f!==b)&&(c=(l=_).copy()).on(u,f=b),v.on=c}}function transition_style(a,e,l){var c=(a+="")=="transform"?interpolateTransformCss:interpolate;return e==null?this.styleTween(a,styleNull(a,c)).on("end.style."+a,styleRemove(a)):typeof e=="function"?this.styleTween(a,styleFunction(a,c,tweenValue(this,"style."+a,e))).each(styleMaybeRemove(this._id,a)):this.styleTween(a,styleConstant(a,c,e),l).on("end.style."+a,null)}function styleInterpolate(a,e,l){return function(c){this.style.setProperty(a,e.call(this,c),l)}}function styleTween(a,e,l){var c,f;function h(){var u=e.apply(this,arguments);return u!==f&&(c=(f=u)&&styleInterpolate(a,u,l)),c}return h._value=e,h}function transition_styleTween(a,e,l){var c="style."+(a+="");if(arguments.length<2)return(c=this.tween(c))&&c._value;if(e==null)return this.tween(c,null);if(typeof e!="function")throw new Error;return this.tween(c,styleTween(a,e,l==null?"":l))}function textConstant(a){return function(){this.textContent=a}}function textFunction(a){return function(){var e=a(this);this.textContent=e==null?"":e}}function transition_text(a){return this.tween("text",typeof a=="function"?textFunction(tweenValue(this,"text",a)):textConstant(a==null?"":a+""))}function textInterpolate(a){return function(e){this.textContent=a.call(this,e)}}function textTween(a){var e,l;function c(){var f=a.apply(this,arguments);return f!==l&&(e=(l=f)&&textInterpolate(f)),e}return c._value=a,c}function transition_textTween(a){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(a==null)return this.tween(e,null);if(typeof a!="function")throw new Error;return this.tween(e,textTween(a))}function transition_transition(){for(var a=this._name,e=this._id,l=newId(),c=this._groups,f=c.length,h=0;h<f;++h)for(var u=c[h],m=u.length,v,_=0;_<m;++_)if(v=u[_]){var b=get(v,e);schedule(v,a,l,_,u,{time:b.time+b.delay+b.duration,delay:0,duration:b.duration,ease:b.ease})}return new Transition(c,this._parents,a,l)}function transition_end(){var a,e,l=this,c=l._id,f=l.size();return new Promise(function(h,u){var m={value:u},v={value:function(){--f===0&&h()}};l.each(function(){var _=set(this,c),b=_.on;b!==a&&(e=(a=b).copy(),e._.cancel.push(m),e._.interrupt.push(m),e._.end.push(v)),_.on=e}),f===0&&h()})}var id=0;function Transition(a,e,l,c){this._groups=a,this._parents=e,this._name=l,this._id=c}function newId(){return++id}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(a){return((a*=2)<=1?a*a*a:(a-=2)*a*a+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(a,e){for(var l;!(l=a.__transition)||!(l=l[e]);)if(!(a=a.parentNode))throw new Error("transition ".concat(e," not found"));return l}function selection_transition(a){var e,l;a instanceof Transition?(e=a._id,a=a._name):(e=newId(),(l=defaultTiming).time=now(),a=a==null?null:a+"");for(var c=this._groups,f=c.length,h=0;h<f;++h)for(var u=c[h],m=u.length,v,_=0;_<m;++_)(v=u[_])&&schedule(v,a,e,_,u,l||inherit(v,e));return new Transition(c,this._parents,a,e)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;function responseText(a){if(!a.ok)throw new Error(a.status+" "+a.statusText);return a.text()}function text(a,e){return fetch(a,e).then(responseText)}function parser(a){return(e,l)=>text(e,l).then(c=>new DOMParser().parseFromString(c,a))}var svg=parser("image/svg+xml");function Transform(a,e,l){this.k=a,this.x=e,this.y=l}Transform.prototype={constructor:Transform,scale:function(a){return a===1?this:new Transform(this.k*a,this.x,this.y)},translate:function(a,e){return a===0&e===0?this:new Transform(this.k,this.x+this.k*a,this.y+this.k*e)},apply:function(a){return[a[0]*this.k+this.x,a[1]*this.k+this.y]},applyX:function(a){return a*this.k+this.x},applyY:function(a){return a*this.k+this.y},invert:function(a){return[(a[0]-this.x)/this.k,(a[1]-this.y)/this.k]},invertX:function(a){return(a-this.x)/this.k},invertY:function(a){return(a-this.y)/this.k},rescaleX:function(a){return a.copy().domain(a.range().map(this.invertX,this).map(a.invert,a))},rescaleY:function(a){return a.copy().domain(a.range().map(this.invertY,this).map(a.invert,a))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;const j$3=jQuery;class JujuMapper{constructor(a={}){Z(this,"process",data=>{if(!data.start||!data.start("room.info"))return data;log("JujuMapper.process");try{const match=data.match(/^[^ ]+ (.*)/)[1];log(match);const room=eval("("+match+")");if(this.at){if(this.at.num===room.num)return data;this.prev=this.at}this.rooms[room.num]?this.at=this.rooms[room.num]:this.at=room,this.ready&&(this.editing()?this.update(room):this.go(this.at))}catch(a){log("Mapper gmcp parse error:",a)}return data});this.options={scale:1.6,width:2e3,height:2e3,nums:0,css:{width:400,height:400,bottom:0,left:config$1.width},...a},this.options.seeall=this.options.seeall||param("seeall"),config$1.kong&&(this.options.css.width=398,this.options.css.height=240),this.options.loadURL=this.options.loadURL||"/index.php?option=com_portal&task=get_map&host=".concat(config$1.host,"&port=").concat(config$1.port),this.options.saveURL="/index.php?option=com_portal&task=save_map&host=".concat(config$1.host,"&port=").concat(config$1.port),console.log(this.options.loadURL,this.options.saveURL),this.map={},this.areas={},this.rooms={},this.exits=[],this.tags=[],this.selection=[],this.id="#mapper",this.container="".concat(this.id," .content"),this.dist=38,this.xOffset={n:0,e:+this.dist,s:0,w:-this.dist,ne:+this.dist,nw:-this.dist,se:+this.dist,sw:-this.dist,u:+Math.floor(this.dist/3),d:-Math.floor(this.dist/3)},this.yOffset={n:-this.dist,e:0,s:+this.dist,w:0,ne:-this.dist,nw:-this.dist,se:+this.dist,sw:+this.dist,u:-Math.floor(this.dist/3),d:+Math.floor(this.dist/3)},this.rev={n:"s",e:"w",s:"n",w:"e",u:"d",d:"u",ne:"sw",nw:"se",se:"nw",sw:"ne"},this.colors=["Gold","LightSkyBlue","#90EE90","Magenta","Cyan","CornflowerBlue","Pink","Green","Plum","Aqua","#9966CC","Aquamarine","Bisque","SandyBrown","Chartreuse","Chocolate","GoldenRod","PowderBlue","PeachPuff","LightGoldenRodYellow","Khaki","LightSalmon","SandyBrown","DarkSeaGreen","Thistle","Tan","PowderBlue","PapayaWhip","MistyRose","Orange","HotPink","Orchid","LightSteelBlue","Wheat","LightSlateGray"],this.colorIndex=0,this.ready=!1,this.at=null,this.prev=null,this.R=null,this.W=0,this.H=0,this.nice=null,this.skipframes=null,this.svg=null,this.c_map=null,this.c_lines=null,this.c_rooms=null,this.c_tags=null,this.lns=null,this.rms=null,this.tgs=null,this.initialize(),this.setupEventHandlers()}initialize(){j$3.ajax({url:this.options.loadURL,async:!0,cache:!0,dataType:"json",success:a=>this.handleMapLoad(a),error:a=>log("Mapper: error loading world file:",a)}),this.options.clean||this.initializeWindow(),this.options.listen?Event$1.listen(this.options.listen,this.process):Event$1.listen("gmcp",this.process),!config$1.Toolbar&&!config$1.kong&&this.setupScrollViewButton()}handleMapLoad(d){try{d[0]==='"'?this.map=eval("("+d+")"):this.map=d,this.unpack();for(let a=0;a<this.map.areas.length;a++)this.areas[this.map.areas[a].name]=this.map.areas[a];let n=0;for(let a in this.map.rooms){const e=this.map.rooms[a];e.x=parseInt(e.x),e.y=parseInt(e.y),e.z=parseInt(e.z),this.map.rooms[a].x>this.options.width&&(this.options.width=this.map.rooms[a].x+100),this.map.rooms[a].y>this.options.height&&(this.options.height=this.map.rooms[a].y+100),n++}j$3.extend(!0,this.rooms,this.map.rooms),log("Mapper.load completed:",n,"rooms loaded from file."),this.initializeSvg(),this.ready=!0,this.at&&this.go(this.at)}catch(a){log("Error loading map:",a)}}initializeSvg(){this.svg&&(this.svg.selectAll(".room, .line, .tag").remove(),this.svg.remove());const a=this.options.width*this.options.scale,e=this.options.height*this.options.scale;this.svg=select(this.container).append("svg:svg").attr("width",a).attr("height",e).attr("transform","scale(".concat(this.options.scale,")")).attr("id","map"),this.svg.append("svg:defs").selectAll("marker").data(["OneWayArrow"]).enter().append("svg:marker").attr("id",String).attr("class","arrow").attr("viewBox","0 0 8 8").attr("refX",6).attr("refY",3).attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M0,3v-3l6,3l-6,3z");const l=this.svg.append("svg:g").attr("id","container");this.c_map=l.append("svg:g").attr("class","map"),this.c_lines=this.c_map.append("svg:g").attr("id","lines"),this.c_rooms=this.c_map.append("svg:g").attr("id","rooms"),this.c_tags=this.c_map.append("svg:g").attr("id","tags"),"WebkitAppearance"in document.documentElement.style&&this.c_map.attr("transform","scale(".concat(this.options.scale,")")),j$3(this.container).addClass("nice").scroll(()=>{clearTimeout(j$3.data(this,"scrollTimer")),j$3.data(this,"scrollTimer",setTimeout(()=>{log("Mapper: stopped scrolling"),this.updateVisible()},200))}),this.nice=j$3(this.container).niceScroll({cursorborder:"none",touchbehavior:1,cursorwidth:0}),this.W=j$3(this.container).width(),this.H=j$3(this.container).height()}initializeWindow(){this.win=new Window({id:this.id,closeable:this.options.closeable||!1,transparent:this.options.transparent||!1,css:this.options.css,class:"mapper nofade",title:"Juju Mapper",onResize:()=>{this.nice&&this.nice.resize(),this.go(this.at)}}),config$1.kong||(this.win.addButton({icon:"icon-edit",title:"Start mapping / editing.",click:()=>{j$3("".concat(this.id," .icon-edit")).toggleClass("on"),j$3("".concat(this.id," .toolbar .icon-save")).toggle(),this.context()}}),j$3("".concat(this.id," .toolbar .icon-save")).addClass("save").toggle(),this.win.addButton({icon:"icon-zoom-out",title:"Zoom out.",click:a=>(this.zoom("out"),!1)}),this.win.addButton({icon:"icon-zoom-in",title:"Zoom in.",click:a=>(this.zoom("in"),!1)}))}setupEventHandlers(){j$3(document).on("click","".concat(this.id," .context .reveal"),()=>{j$3(this).toggleClass("on"),this.render()}),j$3(document).on("click","".concat(this.id," .context .trans"),()=>{const a=this.rooms[this.selection[0]];let e=!1;for(const l in a.exits)!e&&this.rooms[a.exits[l]].zone!==a.zone&&(a.zone=this.rooms[a.exits[l]].zone,delete this.rooms[a.exits[l]].trans,e=!0),e&&this.rooms[a.exits[l]].zone!==a.zone?this.rooms[a.exits[l]].trans=1:!e&&this.rooms[a.exits[l]].zone===a.zone&&(this.rooms[a.exits[l]].trans=1);this.render()}),j$3(document).on("click","".concat(this.id," .context .dir"),a=>{const e=j$3(a.target).attr("data"),l=this.xOffset[e]/4,c=this.yOffset[e]/4;for(let f=0;f<this.selection.length;f++){const h=this.rooms[this.selection[f]];h.x+=l,h.y+=c,this.moveRoom(h)}}),j$3(document).on("click","".concat(this.id," .context .forget"),()=>{for(let a=0;a<this.selection.length;a++){const e=this.rooms[this.selection[a]];this.svg.selectAll(".room_".concat(e.num)).remove(),delete this.rooms[e.num]}this.selection=[],this.render(()=>{this.go(this.at)})}),j$3(document).on("click","".concat(this.id," .context .dungeon"),()=>{if(!this.selection.length)return;const a=this.rooms[this.selection[0]];if(!a.zone)return;const e=this.map.areas.findIndex(l=>l.name===a.zone);this.areas[a.zone].dungeon?(delete this.areas[a.zone].dungeon,delete this.map.areas[e].dungeon):(this.areas[a.zone].dungeon=1,this.map.areas[e].dungeon=1),this.render(()=>{this.go(this.at)})}),j$3(document).on("click","".concat(this.id," .context .road"),function(){for(var a=0;a<this.selection.length;a++){var e=this.rooms[this.selection[a]];e.trans?delete e.trans:e.trans=1,this.svg.selectAll(".room_"+e.num).remove()}this.render(()=>{this.go(this.at)})}),j$3(document).on("click","".concat(this.id," .context .upload"),function(){j$3(this).toggleClass("on"),j$3(".mapper .context #upload").length?(j$3(".mapper .context #upload .box-note").getNiceScroll().remove(),j$3(".mapper .context #upload").remove()):(j$3(".mapper .context").append("\n            <div id='upload'>\n              Existing this.:  \n              <i class='icon-check checkbox' data='skip'></i> skip \n              <i class='icon-unchecked checkbox' data='merge'></i> merge \n              <i class='icon-unchecked checkbox' data='overwrite'></i> overwrite\n            </div>\n          "),j$3(".mapper .context #upload").append("\n            <textarea style='width: 90%; height: 300px' placeholder='Paste JSON: \n              { start: #of_start_room, rooms: [ \n                { num: room1#, name: \"Room 1 Name\", zone: \"Zone Name\", terrain: \"Inside\", exits: { n: room2# } }, \n                { num: room2#, name: \"Room 2 Name\", zone: \"Zone Name\", exits: { s: room1# } } \n              ]. \n              The start room is the point from which relative placement will begin, so it should be a room that already has x,y,z coordinates. \n              If you are adding only rooms with pre-calculated x,y,z coordinates, there is no need to supply a start room.'>\n            </textarea>\n            <div style='clear:both; height: 16px'></div>\n            <a class='kbutton btest'> test </a> \n            <a class='kbutton bupload'>upload</a>\n          "))}),j$3(document).on("click","".concat(this.id," .context .checkbox"),function(){j$3("".concat(this.id," .context .checkbox")).removeClass("icon-check").addClass("icon-unchecked"),j$3(this).removeClass("icon-unchecked").addClass("icon-check")}),j$3(document).on("click","".concat(this.id," .context .btest"),()=>{const a=j$3("".concat(this.id," .context #upload textarea")).val(),e=j$3("".concat(this.id," .context #upload .icon-check")).attr("data"),l={data:a,[e]:1,test:1};j$3("".concat(this.id," .context #upload .box-note")).remove(),j$3("".concat(this.id," .context #upload")).prepend('<div class="box-note">'.concat(this.upload(l),"</div>"))}),j$3(document).on("click","".concat(this.id," .context .bupload"),()=>{const a=j$3("".concat(this.id," .context #upload textarea")).val(),e=j$3("".concat(this.id," .context #upload .icon-check")).attr("data"),l={data:a,[e]:1};this.upload(l)}),j$3(document).on("click","".concat(this.id," .save"),()=>{this.save()}),j$3(document).on("focus","".concat(this.id," .context #upload textarea"),()=>{j$3("".concat(this.id," .context #upload .box-note")).remove()}),j$3(document).on("mouseover","".concat(this.id," .room"),a=>{if(this.options.notip)return;j$3(a.target).tooltip({container:".mapper .content",position:{my:"center bottom",at:"center+10 top"}}).tooltip("open");const e=j$3(a.target).attr("id").replace("room_","");this.svg.select("#room_".concat(e)).attr("r",6)}),j$3(document).on("mouseout","".concat(this.id," .room"),a=>{if(!this.options.notip)try{j$3(a.target).tooltip("destroy")}catch(l){}const e=j$3(a.target).attr("id").replace("room_","");this.svg.select("#room_".concat(e)).attr("r",4)})}getZoneColor(){return++this.colorIndex>=this.colors.length&&(this.colorIndex=0),this.colors[this.colorIndex]}moveKey(a,e,l){exists(a[e])&&(a[l]=a[e],delete a[e])}pack(){this.map.rni=[],this.map.ti=[];for(const a in this.map.rooms){const e=this.map.rooms[a];if(delete e.num,e.terrain){const l=this.map.ti.indexOf(e.terrain);l===-1?(this.map.ti.push(e.terrain),e.terrain=this.map.ti.length-1):e.terrain=l}this.moveKey(e,"terrain","T"),this.moveKey(e,"via","V"),this.moveKey(e,"name","N"),this.moveKey(e,"zone","O"),this.moveKey(e,"trans","R"),(isNaN(e.z)||e.z==="NaN")&&(e.z=0),e.trans===0&&delete e.trans}}unpack(){var a;for(const e in this.map.rooms){const l=this.map.rooms[e];l.num=e,this.moveKey(l,"T","terrain"),this.moveKey(l,"V","via"),this.moveKey(l,"N","name"),this.moveKey(l,"O","zone"),this.moveKey(l,"R","trans"),l.zone&&this.map.areas[parseInt(l.zone)]&&(l.zone=this.map.areas[parseInt(l.zone)].name),this.map.rni&&(l.name=this.map.rni[parseInt(l.name)]),(a=this.map.ti)!=null&&a.length&&(l.terrain=this.map.ti[parseInt(l.terrain)]),delete l.inside,delete l.deadend,delete l.entrance,delete l.exit}delete this.map.rni}save(){j$3("".concat(this.id," .icon-save")).replaceWith('<i class="icon icon-spinner spinner"></i>'),this.map.rooms=j$3.extend(!0,{},this.rooms),this.pack(),j$3.post(this.options.saveURL,{data:this.map},()=>{j$3("".concat(this.id," .icon-spinner")).replaceWith('<i class="icon icon-save save" title="Save the latest map data."></i>')})}editing(){return j$3("".concat(this.id," .icon-edit")).hasClass("on")}seeall(){return this.options.seeall?!0:this.editing()?j$3("".concat(this.id," .reveal")).hasClass("on"):!1}escape(a){return exists(a)?a.replace(/[ ,;'"\/\\\(\)&]/g,""):"unknown"}flatExits(a){return(void 0)(a.exits).filter(e=>e.key!=="d"&&e.key!=="u").length}noexit(a){return!a.exits||j$3.isEmptyObject(a.exits)}exitType(a){return this.rooms[a.to.num].exits&&this.rooms[a.to.num].exits[this.rev[a.e]]!==a.from.num||a.e.includes("n")&&a.to.y>=a.from.y||a.e.includes("s")&&a.to.y<=a.from.y||a.e.includes("w")&&a.to.x>=a.from.x||a.e.includes("e")&&a.to.x<=a.from.x||a.from.num===a.to.num?"jump":"normal"}drawExit(a){if(a.type==="jump"){const e={x:a.from.x+this.xOffset[a.e]*.8,y:a.from.y+this.yOffset[a.e]*.8},l=a.to.x-e.x,c=a.to.y-e.y,f=Math.sqrt(l*l+c*c)*.8;let h=a.flip?0:1;return a.e==="e"&&a.to.x<a.from.x&&a.to.y<a.from.y&&(h=0),a.e==="s"&&a.to.x<a.from.x&&a.to.y>a.from.y&&(h=0),"M".concat(a.from.x,",").concat(a.from.y,"L").concat(e.x,",").concat(e.y,"M").concat(e.x,",").concat(e.y,"A").concat(f,",").concat(f," 0 0,").concat(h," ").concat(a.to.x,",").concat(a.to.y)}else return this.W>1e3&&Math.abs(a.from.x-a.to.x)>600||Math.abs(a.from.y-a.to.y)>600?null:svg.line().interpolate("linear")([[a.from.x,a.from.y],[a.to.x,a.to.y]])}render(a){if(!this.ready||!this.at){setTimeout(()=>this.render(),1e3),log("Delaying render until map is loaded.");return}log("Mapper.render @"+this.at.num),this.W=j$3(this.container).width(),this.H=j$3(this.container).height(),log("W "+this.W+" H "+this.H);const e=this.seeall();this.selection=[],this.genRooms(),this.genExits(),this.options.notip||j$3("".concat(this.container," .room")).each(function(){try{j$3(this).tooltip("destroy")}catch(l){}}),this.svg.selectAll(".room, .line, .tag").remove(),this.lns=this.c_lines.selectAll(".line").data(this.exits,l=>"line_"+(l.from.num+"-"+l.to.num)).enter().append("svg:path").attr("id",l=>"line_"+(l.from.num+"-"+l.to.num)).attr("class",l=>{let c="line room_".concat(l.from.num," room_").concat(l.to.num," a_").concat(this.escape(l.to.zone||l.from.zone));return c+=" z-".concat(l.z),e&&l.from.zone!==this.at.zone&&(c+=" seeall"),c}).attr("marker-end",l=>l.type==="jump"?"url(#OneWayArrow)":null).attr("fill",l=>this.at.num===l.from.num||this.at.num===l.to.num&&l.type!=="jump"?"White":l.from.z!==l.to.z?"Crimson":this.areas[l.to.zone||l.from.zone]?this.areas[l.to.zone||l.from.zone].color:null).style("stroke",l=>this.at.num===l.from.num||this.at.num===l.to.num&&l.type!=="jump"?"White":l.from.z!==l.to.z?"Crimson":this.areas[l.to.zone||l.from.zone]?this.areas[l.to.zone||l.from.zone].color:null).style("stroke-dasharray",l=>l.type==="jump"?"5, 4":null).attr("d",l=>this.drawExit(l)),this.rms=this.c_rooms.selectAll(".room").data(this.R,l=>l.num).enter().append("svg:circle").attr("cx",l=>l.x).attr("cy",l=>l.y).attr("id",l=>"room_"+l.num).attr("title",l=>this.options.nums||this.editing()?l.num+": "+l.name:l.name).attr("class",l=>{let c="room room_".concat(l.num," a_").concat(this.escape(l.zone)).concat(l.num===this.at.num?" active":"");return c+=" z-".concat(l.z),e&&!c.includes("active")&&(c+=" seeall"),c}).style("stroke",l=>{var c;return(c=this.areas[l.zone])==null?void 0:c.color}).style("fill",l=>{var c;return(c=this.areas[l.zone])==null?void 0:c.color}).on("mousedown",l=>{if(!this.editing()){if((void 0).stopPropagation(),this.at.num!==l.num){const f=this.path(l);if(f){f.shift();for(let h=0;h<f.length;h++)f[h]=f[h][0],config$1.socket.write(f[h])}}return}const c=this.svg.select("#room_"+l.num);if(!(void 0).ctrlKey){const f=this.svg.selectAll(".room_"+l.num);c.attr("selected")?(f.style("stroke",this.areas[l.zone].color).style("stroke-width",1).attr("selected",null),this.selection=this.selection.filter(h=>h!==l.num)):(f.style("stroke","Crimson").style("stroke-width",2).attr("selected","1"),this.selection.push(l.num))}j$3("#mapper .context .selection").remove(),j$3("#mapper .context").append('<span class="selection">'.concat(this.selection.length," rooms selected</span>")),this.selection.length!==1?j$3("#mapper .context .trans").hide():this.rooms[this.selection[0]].trans&&j$3("#mapper .context .trans").show(),(void 0).stopPropagation()}),this.tgs=this.c_tags.selectAll(".tag").data(this.tags,l=>"tag_"+l.to.num).enter().append("svg:text").text(l=>l.to.zone).style("fill",l=>{var c;return(c=this.areas[l.to.zone])==null?void 0:c.color}).attr("x",l=>l.to.x-l.to.zone.length*1.8).attr("y",l=>{let c=l.to.y;return c-=this.yOffset[l.e],c-20}).attr("id",l=>"tag_"+l.to.num).attr("class",l=>{let c="tag room_".concat(l.to.num," a_").concat(this.escape(l.to.zone));return c+=" z-".concat(l.to.z),c}),this.svg.selectAll(".room").classed("in",0).attr("r",4),this.svg.selectAll(".room, .line").classed("active",1),this.svg.selectAll(".tag").classed("active",0),this.svg.selectAll(".tag:not(.a_"+this.escape(this.at.zone)+")").classed("active",1),this.svg.selectAll(".tag:not(.z-"+this.at.z+")").classed("active",0),this.seeall()?this.svg.selectAll(".tag").classed("active",1):(this.svg.selectAll(".room:not(.a_"+this.escape(this.at.zone)+")").classed("active",0),this.svg.selectAll(".line:not(.a_"+this.escape(this.at.zone)+")").classed("active",0),this.svg.selectAll(".room:not(.z-"+this.at.z+")").classed("active",0),this.svg.selectAll(".line:not(.z-"+this.at.z+")").classed("active",0)),this.svg.selectAll(".room_"+this.at.num).style("active",1).classed("in",1).attr("r",6),j$3("#mapper .context .trans").hide(),j$3("#mapper .context .selection").remove(),a&&(config$1.debug&&log("Mapper.render callback"),a())}updateVisible(a){if(config$1.debug&&log("Mapper.updateVisible"),!this.options.notip)try{j$3(this.container+" .room").tooltip("destroy")}catch(e){}this.render(a)}moveRoom(a){log("Mapper.moveRoom:",stringify(a)),this.svg.select("#room_"+a.num).transition().duration(500).attr("cx",a.x).attr("cy",a.y),this.genExits(this.R),this.svg.selectAll(".line.room_"+a.num).transition().duration(500).attr("d",this.drawExit)}genRooms(){log("mapper.genRooms: "+stringify(this.at));const a=j$3(this.container).scrollTop(),e=j$3(this.container).scrollLeft();let l=0;const c=[],f=this.areas[this.at.zone]?this.areas[this.at.zone].dungeon:0,h=this.editing(),u=this.seeall();this.noexit(this.at),this.R=(void 0)(this.rooms).filter(m=>{if(f&&m.zone!==this.at.zone&&m.trans!==1||!u&&m.z!==this.at.z&&Math.abs(m.z-this.at.z)>1||!m.x)return!1;const v=m.x*this.options.scale,_=m.y*this.options.scale;return!(_>=a&&_<=a+this.H&&v>=e&&v<=e+this.W)||this.areas[m.zone]&&(!u&&m.zone!==this.at.zone&&(this.W<1e3&&l>600||this.noexit(m)||m.trans!==1&&this.areas[m.zone].dungeon)||this.W>1200&&u&&m.zone!==this.at.zone&&this.areas[m.zone].dungeon&&m.trans!==1||this.W>1200&&u&&m.z<this.at.z)||l>600||!h&&c.includes(v+"x"+_)?!1:(c.push(v+"x"+_),l++,!0)}),config$1.debug&&log("Mapper.genRooms: "+this.R.length)}genExits(){var e;this.R=this.R||(void 0)(this.rooms),this.exits=[],this.tags=[];const a=[];for(let l=0;l<this.R.length;l++){if(!this.R[l].exits)continue;const c=this.R[l].exits;for(const f in c){if(!this.rooms[c[f]])continue;const h={from:this.R[l],to:this.rooms[c[f]],z:this.R[l].z,e:f};if(h.type=this.exitType(h),!(h.type==="jump"&&h.from.zone!==h.to.zone&&this.at.num!==h.from.num)){try{this.R[l].zone!==this.rooms[c[f]].zone&&((e=this.areas[this.R[l].zone])==null?void 0:e.notag)!==1&&!a.includes(this.R[l].zone)&&(this.tags.push({to:this.R[l],e:f}),a.push(this.R[l].zone))}catch(u){log("Error processing zone tags:",u)}this.exits.push(h)}}}}upload(o){log("Mapper.upload data");let data,n=0;try{if(data=eval("("+o.data+")"),!data.rooms)return"Data is missing a 'rooms' array.";if(!data.rooms.length)return"The 'rooms' object is not an array or is empty.";if(typeof data.rooms[0].num>"u")return"The 'rooms' array is missing the required 'num' field.";if(o.test)return"Input data passed all preliminary checks."}catch(a){return a}j$3("".concat(this.id," .context #upload")).html('<div class="box-note"></div>');const status=j$3("".concat(this.id," .context #upload .box-note"));status.append("Parsed "+data.rooms.length+" rooms total.<br>").scrollTop(status[0].scrollHeight);for(let a=data.rooms.length-1;a>=0;a--){const e=data.rooms[a];if(!e.num){data.rooms.splice(a,1);continue}if(this.rooms[e.num]){if(o.skip&&e.num!==data.start){data.rooms.splice(a,1);continue}else if(o.overwrite){delete this.rooms[e.num];continue}}n++}const t="Successfully prepped "+n+"/"+data.rooms.length+" rooms.<br>";if(log("Mapper.upload:",t),status.css({height:240}).niceScroll({cursorborder:"none",touchbehavior:1,cursorwidth:2}),status.append(t).scrollTop(status[0].scrollHeight),data.rooms[0].x){j$3("".concat(this.id," .context #upload .box-note")).html(t),status.append("Suspended positioning (room coordinates detected).<br>Updating rooms... ").scrollTop(status[0].scrollHeight);for(let a=0;a<data.rooms.length;a++)n+=this.update(data.rooms[a],1);status.append("Rooms updated: "+n+"/"+data.rooms.length).scrollTop(status[0].scrollHeight);return}status.append("Positioning..<br>");let pass=0,passes=0,done=!1,result=0;if(data.start){const a=data.rooms.findIndex(e=>e.num===data.start);if(a>-1)if(result=this.update(data.rooms[a],1),result)status.append("Added start room #"+data.start+" to map.<br>").scrollTop(status[0].scrollHeight),data.rooms.splice(a,1),n++;else{status.append("Start room #"+data.start+" could not be placed in relation to an existing room. Aborting.<br>").scrollTop(status[0].scrollHeight);return}else{status.append("Start room #"+data.start+" not found in room array - aborting.<br>").scrollTop(status[0].scrollHeight);return}}for(;!done;){pass=n;for(let a=0;a<data.rooms.length;a++)result=this.update(data.rooms[a],1),result&&(data.rooms.splice(a,1),a--,n++,config$1.debug&&++passes%10===0&&(status.append("Pass #"+passes+" | Rooms placed: "+n+" Remaining:"+data.rooms.length+"<br>").scrollTop(status[0].scrollHeight),config$1.debug&&alert("pause")));status.append("Pass #"+ ++passes+" | Rooms placed: "+n+" Remaining:"+data.rooms.length+"<br>").scrollTop(status[0].scrollHeight),done=pass===n||!data.rooms.length}}zoom(a){log("Mapper.zoom:",a),a==="in"?this.options.scale+=.2:this.options.scale-=.2,this.options.scale>6&&(this.options.scale=6),this.options.scale<.4&&(this.options.scale=.4),this.initializeSvg()}stretch(a){log("Mapper.stretch: canvas size check",stringify(a));let e=0,l=0,c=!1;if(a.x<100?(e+=200,this.options.width+=200,c=!0):a.x>this.options.width-100&&(this.options.width=a.x+200,c=!0),a.y<100?(l+=200,this.options.height+=200,c=!0):a.y>this.options.height-100&&(this.options.height=a.y+200,c=!0),e||l)for(const f in this.rooms)this.rooms[f].x&&(this.rooms[f].x+=e),this.rooms[f].y&&(this.rooms[f].y+=l);c&&(this.initializeSvg(),this.go(this.at),log("Mapper.stretch: canvas stretch based on",stringify(a)))}zoneCheck(a){if(a.zone=a.zone.split(" /")[0],this.map.areas.findIndex(l=>l.name===a.zone)===-1){log("New area first seen.");const l={name:a.zone,color:this.getZoneColor()};this.map.areas.push(l),this.areas[a.zone]=l}}update(a,e){(!e||config$1.debug)&&log("Mapper.update:",stringify(a));let l;const c=a.terrain&&a.terrain.toLowerCase().includes("inside")?1:0;if(j$3.isEmptyObject(this.rooms)&&(log("Mapper.update: First ever room."),a.x=this.options.width/2,a.y=this.options.height/2,a.z=0,this.rooms[a.num]=a,e))return 1;if(this.zoneCheck(a),this.rooms[a.num]&&(e||log("Mapper.update: merge"),delete this.rooms[a.num].exits,a=j$3.extend(!0,this.rooms[a.num],a),e||log(stringify(a)),this.svg.selectAll("#room_"+a.num).attr("title",this.options.nums||this.editing()?a.num+": "+a.name:a.name),a.zone&&j$3(".room_"+a.num).removeClass("a_undefined").addClass("a_"+this.escape(a.zone))),!a.x||!a.y?delete a.via:this.stretch(a),this.noexit(a)&&!a.x)if(log("Mapper.update: no-exit room"),this.prev&&this.prev.x&&(a.x=this.prev.x+this.xOffset.e/2,a.y=this.prev.y+this.yOffset.e/2,a.z=this.prev.z),this.rooms[a.num]=a,!e)this.moveRoom(a);else return log(stringify(a)),1;else for(const f in a.exits){const h=a.exits[f];if(h===a.num)continue;if(l=this.rooms[h])!l.x&&a.x&&(l.x=a.x+this.xOffset[f],l.y=a.y+this.yOffset[f],l.z=f==="d"?a.z-1:f==="u"?a.z+1:a.z,e||log("New neighbor prelim. coordinates:",stringify(l)));else if(a.x){this.rooms[h]={name:"Unexplored",num:h,zone:a.zone,x:a.x+this.xOffset[f],y:a.y+this.yOffset[f],z:f==="d"?a.z-1:f==="u"?a.z+1:a.z},(this.rooms[h].x<0||this.rooms[h].x>this.options.width||this.rooms[h].y<0||this.rooms[h].y>this.options.height)&&this.stretch(this.rooms[h]),e||log("New unexplored:",stringify(this.rooms[h]));continue}if(!l||!l.x)continue;if(e&&a.x)return 1;if(typeof a.via<"u")continue;log("Placement via:\n"+stringify(l)),a.via=l.num;let u=this.xOffset[f],m=this.yOffset[f];if(f==="d"?a.z=l.z+1:f==="u"?a.z=l.z-1:(a.z=l.z,c&&(u=Math.floor(u*.5),m=Math.floor(m*.5))),a.x=l.x-u,a.y=l.y-m,l.zone!==a.zone&&(a.trans=1),this.rooms[a.num]=a,!e)this.moveRoom(a);else return log(stringify(a)),1}if(!e)this.go(a);else return 0}path(a){log("Mapper.path to: "+stringify(a));let e=0;const l=[],c=[[["@",this.at.num]]];for(;c.length;){if(++e>500)return log("Mapper.path hit limit (500 iterations)."),null;const f=c.shift(),h=f[f.length-1];if(this.rooms[h[1]]&&this.rooms[h[1]].exits){const u=this.rooms[h[1]].exits;for(const m in u){if(l.includes(u[m]))continue;const v=j$3.extend(!0,[],f);if(v.push([m,u[m]]),u[m]===a.num)return v;c.push(v),l.push(u[m])}}}return null}go(a){if(log("Mapper.go: "+stringify(a)),!!a&&(!a.x&&this.rooms[a.num]&&(a=this.at=this.rooms[a.num]),a.x)){const e=a.x*this.options.scale-j$3(this.container).width()/2,l=a.y*this.options.scale-j$3(this.container).height()/2;log("Mapper.go: scroll to: x"+e+" y"+l),j$3(this.container).scrollLeft(e).scrollTop(l),log("Mapper.go: scrolled to: x"+j$3(this.container).scrollLeft()+" y"+j$3(this.container).scrollTop())}}context(){j$3(".mapper .context").length?(j$3(".mapper .context").remove(),j$3(".mapper .context .trans").hide(),this.selection=[]):(j$3(".mapper").prepend("<div class='context context-top'><ul></ul></div>"),j$3(".mapper .context-top ul").append('<li class="kbutton tip dir" title="Nudge selected left (west)." data="w"><i class="icon-angle-left"></i></li>'),j$3(".mapper .context-top ul").append('<li class="kbutton tip dir" title="Nudge selected up (north)." data="n"><i class="icon-angle-up"></i></li>'),j$3(".mapper .context-top ul").append('<li class="kbutton tip dir" title="Nudge selected down (south)." data="s"><i class="icon-angle-down"></i></li>'),j$3(".mapper .context-top ul").append('<li class="kbutton tip dir" title="Nudge selected right (east)." data="e"><i class="icon-angle-right"></i></li>'),j$3(".mapper .context-top ul").append('<li class="kbutton tip road" title="Flag selection as road (always shown)."><i class="icon-road"></i></li>'),j$3(".mapper .context-top ul").append('<li class="kbutton tip dungeon" title="Flag area as dungeon (not shown unless inside)."><i class="icon-th"></i></li>'),j$3(".mapper .context-top ul").append('<li class="kbutton tip reveal" title="Reveal all rooms in map window."><i class="icon-eye-open"></i></li>'),j$3(".mapper .context-top ul").append('<li class="kbutton tip forget" title="Forget (remove) selected."><i class="icon-remove"></i></li>'),j$3(".mapper .context-top ul").append('<li class="kbutton tip upload" title="Upload room data."><i class="icon-upload-alt"></i></li>'),j$3(".mapper .context-top ul").append('<li class="kbutton tip save" title="Save latest map data."><i class="icon-save"></i></li>'))}}const j$2=jQuery;class Havoc{constructor(){config$1.havoc&&(config$1.port=config$1.port.length?config$1.port:6001,config$1.proxy="wss://".concat(config$1.host,":").concat(config$1.port,"/"),config$1.fbAppId=config$1.fbAppId||config$1.fb,config$1.bare=1,config$1.nocore=1,config$1.base64=1,config$1.debug=1,config$1.notrack=1,config$1.triggers=!1,config$1.macros=!1,Event$1.listen("socket_open",()=>{config$1.Socket.write("{ portal: 1 }")}),config$1.gui||(config$1.ScrollView=new ScrollView,config$1.misty&&(config$1.MistyBars=new MistyBars({process:a=>this.processMistyBars(a)}))),Event$1.listen("socket_close",()=>{new Modal({title:"Server Disconnected",text:"Lost server connection. This is normal if you're navigating away or connecting from elsewhere. If not, usually, this means a server boot / update. Please reload the page to make sure you have the latest app code.<br><br>",backdrop:"static",closeable:0,buttons:[{text:"Reload",click:()=>{window.onbeforeunload=()=>{},window.location.reload()}}]})}),config$1.gui||(j$2(document).ready(()=>{config$1.Toolbar=new Toolbar,Event$1.listen("window_open",config$1.Toolbar.update),Event$1.listen("window_close",config$1.Toolbar.update),Event$1.listen("window_front",config$1.Toolbar.front)}),Event$1.listen("mxp_frame",(a,e)=>{a==="syslog"&&e==="open"&&j$2("#syslog").css({width:400,height:150,left:config$1.width,top:800,fontSize:12})})))}processMistyBars(d){try{const key=d.match(/([^ ]+?) /)[1],value=d.match(/[^ ]+? (.*)/)[1];if(!key.startsWith("ch.points"))return d;let p=eval("("+value+")");p.points&&(p=p.points),window.cm={maxhp:p.maxhit||window.cm.maxhp,maxmana:p.maxmana||window.cm.maxmana,maxmoves:p.maxstamina||window.cm.maxmoves},window.cv={hp:p.hit,mana:p.mana,moves:p.stamina},window.cs={tnl:-1,exp:p.exp||"N/A",enemy:p.enemy||"N/A",enemypct:p.enemypct||0},window.redraw(),log("MistyBars override: "+stringify(p))}catch(a){log("MistyBars override gmcp parse error: "+a)}return d}}const j$1=jQuery;class HavocMapper{constructor(e={}){this.options={path:"http://".concat(config$1.host,"/world/"),scale:.75,id:"#havoc-mapper",css:{height:400,width:400,top:400,left:config$1.width},...e},this.data={},this.was={zone:""},this.tile=72*this.options.scale,this.xOffset=Math.floor(this.tile/6),this.yOffset=Math.floor(this.tile/2),this.maps=["Calandor.map","Calandor Temple.map"],this.images=["/aaralon/images/AaralonSplash.jpg","/aaralon/world/Calandor.jpg","/aaralon/world/Calandor Temple.jpg"],this.animations={"^Vwm":{img:this.options.path+"core/images/scenery/windmill-",frames:Array.from({length:18},(l,c)=>String(c+1).padStart(2,"0"))},"^Ze":{img:this.options.path+"core/images/scenery/fire",frames:Array.from({length:8},(l,c)=>String(c+1))}},this.initialize()}initialize(){this.loadMaps(),this.preloadImages(),this.setupDomElements(),this.initializeWindow(),this.setupEventListeners()}loadMaps(){this.maps.forEach(e=>{j$1.get(this.options.path+e,l=>{const c=e.split(".")[0];this.data[c]=l.replace(/[ \t]/g,"").split("\n").slice(3,-1).map(f=>f.split(",")),log("Map data loaded:",this.data)},"text")})}preloadImages(){this.images.forEach(e=>{const l=new Image;l.src=e})}setupDomElements(){this.mapSelector="".concat(this.options.id," .content"),this.imgSelector="".concat(this.mapSelector," #map"),this.markerSelector="".concat(this.mapSelector," #marker"),j$1(this.mapSelector).html('\n      <img id="map" \n           class="pointer" \n           style="max-width: none; max-height: none; z-index: 1; position: absolute" \n           oncontextmenu="return false;">\n      <img id="marker" \n           class="tip" \n           style="width: 54px; height: 54px; z-index: 2; position: absolute; display: none" \n           src="/aaralon/images/brush.png">\n    '),j$1(this.options.id).prepend('\n      <div class="inbar" style="position: absolute; top: 0px; left: 0px; z-index: 2; height: 20px; width: 100%; text-align: center;">\n        <div class="title" style="white-space: nowrap; text-overflow: ellipsis; font-size: '.concat(this.options.mini?10:13,'px;"></div>\n      </div>\n    '))}initializeWindow(){this.window=new Window({id:this.options.id,title:"HavocMapper",class:"nofade nofront",handle:".inbar",css:this.options.css,onResize:()=>this.go(this.was)}),this.loadImage(this.options.path+"Calandor.jpg",this.imgSelector),j$1("".concat(this.options.id," .ui-resizable-handle")).css("zIndex",3),this.niceScroll=j$1(this.mapSelector).addClass("nice").niceScroll({cursorborder:"none",zindex:3,cursorwidth:8,railoffset:{top:-4,left:-4}})}setupEventListeners(){j$1(document).on("click",this.imgSelector,e=>this.handleClick(e))}loadImage(e,l){return j$1(l).attr("src",e)}setTitle(e){const l="".concat(this.was.id||this.was.zone,": ").concat(this.was.x,"x").concat(this.was.y," ").concat(e.name);this.window.setTitle(l),j$1(this.markerSelector).attr("title",l)}animate(e){var c;if(!e.terrain)return;j$1(".ani").animateSprite("stop").remove();const l=(c=Object.entries(this.animations).find(([f])=>e.terrain.includes(f)))==null?void 0:c[1];l&&(j$1(this.mapSelector).append('<img class="ani" src="'.concat(l.img).concat(l.frames[0],'.png">')),j$1(".ani").css(this.getPosition(this.was)).animateSprite({columns:l.frames.length,fps:12,loop:!0,animations:{run:l.frames}}).animateSprite("play","run"))}loadZone(e){this.loadImage("".concat(this.options.path).concat(e,".jpg"),this.imgSelector)}getPosition(e){if(!e.x)return{left:0,top:0};const l=e.x%2,c=this.xOffset+this.tile*.75*e.x-this.tile/2,f=this.tile*e.y-this.tile/2+(l?0:this.yOffset);return log("Position - mX: ".concat(c," mY: ").concat(f)),{left:c-4,top:f-5}}go(e){var _;if(e=e||this.was,this.was.zone!==e.zone){this.loadZone(e.proto||e.zone),setTimeout(()=>this.go(e),1500);return}const l=j$1(this.imgSelector).width(),c=j$1(this.imgSelector).height(),f=j$1(this.mapSelector).width(),h=j$1(this.mapSelector).height(),u=this.getPosition(e);j$1(this.markerSelector).css(u).show();let m=u.left+this.tile/2-f/2,v=u.top+this.tile/2-h/2;return m=Math.max(0,Math.min(m,l-f)),v=Math.max(0,Math.min(v,c-h)),j$1(this.mapSelector).scrollLeft(m).scrollTop(v),this.was=e,(_=this.niceScroll)==null||_.resize(),this.options.mini||(this.animate(e),this.checkHome(e)),this}checkHome(e){if(!param("gui"))return;const l=e.zone==="Calandor"&&e.x===78&&e.y===29,c=j$1("#bar #home");l&&c.text().includes("recall")?c.html('<img src="/bedlam/art/cache/ui/cmdrent@2x.png"> home'):!l&&c.text().includes("home")&&c.html('<img src="/bedlam/art/cache/ui/cmdrent@2x.png"> recall')}handleClick(e){const l=j$1(e.target).offset();let c=e.clientX-l.left,f=e.clientY-l.top;c-=this.xOffset*2;const h=Math.round(c/(this.tile*.75));h%2||(f-=this.yOffset-this.xOffset);const u=Math.round(f/this.tile);log("Click - mX: ".concat(h," mY: ").concat(u)),config$1.socket&&config$1.socket.write("travel ".concat(h," ").concat(u))}update(e){if(!(e!=null&&e.start))return e;try{if(e.startsWith("ch.at ")){log("Havoc".concat(this.options.mini?"(mini)":"","Mapper.update at"));const l=JSON.parse(e.match(/[^ ]+ (.*)/)[1]);this.go(l)}else if(e.startsWith("room.info ")){log("HavocMapper.update room.info");const l=JSON.parse(e.match(/[^ ]+ (.*)/)[1]);this.setTitle(l),this.animate(l)}}catch(l){log("Mapper gmcp parse error:",l)}return e}}const j=jQuery;class Facebook{static initialize(){config$1.fbAppId&&(log("Facebook.initialize "+config$1.fbAppId),window.fbAsyncInit=()=>{log("fbAsyncInit"),FB.init({appId:config$1.fbAppId,status:!0,cookie:!0,xfbml:!0,version:"v2.1"})},((e,l,c)=>{const f=e.getElementsByTagName(l)[0];if(e.getElementById(c))return;const h=e.createElement(l);h.id=c,h.src="//connect.facebook.net/en_US/sdk.js",f.parentNode.insertBefore(h,f)})(document,"script","facebook-jssdk"),j("body").on("show.bs.modal",()=>{j(".modal.login-prompt").length&&j(".modal-footer").prepend('\n          <div class="left" style="opacity: 0.7; margin-right: 6px">\n            <img src="/aaralon/images/FacebookButton.png" \n                 class="tip pointer" \n                 title="Log in with your Facebook account." \n                 onclick="Facebook.login();return false;">\n          </div>\n        ')}))}static login(){try{FB.getLoginStatus(e=>{e.status==="connected"?Facebook.statusChange(e):FB.login(l=>Facebook.statusChange(l),{scope:"public_profile,email"})})}catch(e){log(e)}}static checkState(){return FB.getLoginStatus(e=>Facebook.statusChange(e))}static statusChange(e){log(e),e.status==="connected"&&FB.api("/me",l=>{!l||l.error||(log(l),window.info&&(window.info.fb=l),config$1.Socket.write(stringify({fbid:l.id,email:l.email})))})}}config$1.fb&&Event$1.listen("gmcp",d=>{var a;if(!(d!=null&&d.startsWith("game.info")))return d;const data=eval("("+d.match(/[^ ]+? (.*)/)[1]+")");return(a=data.fbAppId)!=null&&a.length&&(log("HavocCore received Facebook app id from server"),config$1.fbAppId||(config$1.fbAppId=data.fbAppId,Facebook.initialize())),d});window.jQuery=window.$=jQuery;document.addEventListener("DOMContentLoaded",async()=>{await config$1.initialize(),log("Config initialized:",config$1),initializeCore(),config$1.chatterbox&&new ChatterBox({drag:!0,snap:!0}),config$1.controlPanel&&await new ControlPanel({drag:!0,snap:!0}).initialize(),config$1.groupTab&&await new GroupTab().initialize(),config$1.initialIFrame&&(log("Loading initial URL:",config$1.initialURL),new IFrame({id:"#help-frame",title:config$1.initialIFrame.title||"Help",url:config$1.initialIFrame.URL,css:{width:800,height:600,top:0,left:"30%"},handle:".handle",drag:!0,snap:!0}).initialize()),config$1.loginPrompt&&new LoginPrompt({gmcp:!0,placeholder:"Username"}),config$1.mapper&&new JujuMapper({title:"Juju Mapper",css:{width:800,height:600,top:0,left:"30%"},drag:!0,snap:!0}),config$1.misty&&new MistyBars({title:"Custom Bars",listen:"custom-event"}),config$1.havoc&&(new Havoc({title:"Havoc",css:{width:800,height:600,top:0,left:"30%"},drag:!0,snap:!0}),config$1.havocMapper&&new HavocMapper({title:"Havoc Mapper",css:{width:800,height:600,top:0,left:"30%"},drag:!0,snap:!0})),config$1.fb&&Facebook.initialize()});export{__vite_legacy_guard};
